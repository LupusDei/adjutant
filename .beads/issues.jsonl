{"id":"adj-001","title":"Remove Standalone Mode","description":"Eradicate all references to standalone deployment mode from the entire codebase. After this, only gastown and swarm modes exist.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:00:55Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:48Z","closed_at":"2026-02-20T18:37:48Z","close_reason":"Closed"}
{"id":"adj-001.1","title":"Backend: eradicate standalone","description":"Remove all standalone references from backend source and test files. Rename providers, update types, purge remaining refs.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:00Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:32:50Z","closed_at":"2026-02-20T18:32:50Z","close_reason":"All backend standalone references eradicated. 7/7 children closed. 0 grep hits in src/ and tests/. 738 tests passing. Commit e1f26b7 on adj-001.1-backend."}
{"id":"adj-001.1.1","title":"Rename StandaloneProvider → SwarmProvider","description":"Rename file standalone-provider.ts → swarm-provider.ts, class StandaloneProvider → SwarmProvider, update mode/name to swarm, update JSDoc","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:09Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.2","title":"Rename StandaloneTopology → SwarmTopology","description":"Rename file standalone-topology.ts → swarm-topology.ts, class StandaloneTopology → SwarmTopology, update name to swarm, update JSDoc","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:10Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.3","title":"Rename StandaloneStatusProvider → SwarmStatusProvider","description":"Rename file standalone-status-provider.ts → swarm-status-provider.ts, class StandaloneStatusProvider → SwarmStatusProvider, update name to swarm","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:11Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.4","title":"Update DeploymentMode type, workspace index, provider factories","description":"Update DeploymentMode to gastown|swarm, update workspace/index.ts imports, remove standalone cases from topology/status/transport factories","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:13Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.5","title":"Update mode-service + mode routes","description":"Delete standalone from MODE_FEATURES, remove from availableModes, update validModes to gastown/swarm only","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:14Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.6","title":"Purge standalone from remaining backend source files","description":"Remove standalone references from ~14 remaining backend source files: types, services, routes","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:16Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:32:31Z","closed_at":"2026-02-20T18:32:31Z","close_reason":"All standalone references eradicated from backend src/ and tests/. 0 grep hits, 738 tests passing. Commit e1f26b7."}
{"id":"adj-001.1.7","title":"Update all backend tests","description":"Rename 2 test files, remove standalone test cases, update mode references in all 17 test files","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:17Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:32:31Z","closed_at":"2026-02-20T18:32:31Z","close_reason":"All standalone references eradicated from backend src/ and tests/. 0 grep hits, 738 tests passing. Commit e1f26b7."}
{"id":"adj-001.2","title":"Frontend: eradicate standalone","description":"Remove all standalone references from frontend source and test files. Update types, contexts, components.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:01Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:36Z","closed_at":"2026-02-20T18:24:36Z","close_reason":"Closed"}
{"id":"adj-001.2.1","title":"Update DeploymentMode types, ModeContext, useVisibleTabs, legacy hook","description":"Remove standalone from frontend DeploymentMode type, ModeContext, useVisibleTabs switch, and useDeploymentMode hook","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:19Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.2.2","title":"Update frontend components","description":"Update CommandChat, SettingsView, CrewStats (rename StandaloneSection→SwarmSection), RecipientSelector, chat.css","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:21Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.2.3","title":"Update all frontend tests","description":"Update 4 frontend test files: ModeContext, ModeTransitions, cross-platform-consistency, CommunicationSettings","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:23Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:32Z","closed_at":"2026-02-20T18:24:32Z","close_reason":"Closed"}
{"id":"adj-001.3","title":"iOS: eradicate standalone","description":"Remove all standalone references from iOS source and test files. Rename views, update enums, purge remaining refs.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:02Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:12Z","closed_at":"2026-02-20T18:24:12Z","close_reason":"Closed"}
{"id":"adj-001.3.1","title":"Remove .standalone from DeploymentMode enum, update AppState","description":"Remove case standalone from Enums.swift, remove all case .standalone: branches from AppState.swift","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:24Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.3.2","title":"Rename Standalone iOS files → Swarm","description":"Rename 3 Swift files: StandaloneSessionView→SwarmSessionView, StandaloneProjectDetailView→SwarmProjectDetailView, StandaloneProjectDetailViewModel→SwarmProjectDetailViewModel","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:26Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.3.3","title":"Purge standalone from remaining iOS source files","description":"Remove standalone references from ~15 remaining iOS source files","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:27Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:03Z","closed_at":"2026-02-20T18:24:03Z","close_reason":"Closed"}
{"id":"adj-001.3.4","title":"Update all iOS tests","description":"Update 7 iOS test files to remove standalone references","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:28Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:08Z","closed_at":"2026-02-20T18:24:08Z","close_reason":"Closed"}
{"id":"adj-001.4","title":"Final verification: zero standalone grep hits, all compilers/tests pass","description":"Verify complete eradication: grep -ri standalone returns zero hits, TypeScript compiles, Vitest passes, Xcode builds.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:04Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:47Z","closed_at":"2026-02-20T18:37:47Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-001.4","depends_on_id":"adj-001.1","type":"blocks","created_at":"2026-02-20T12:01:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-001.4","depends_on_id":"adj-001.2","type":"blocks","created_at":"2026-02-20T12:01:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-001.4","depends_on_id":"adj-001.3","type":"blocks","created_at":"2026-02-20T12:01:33Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-002","title":"Fix optional Int unwrap in DashboardView.swift:353","description":"Value of optional type Int? must be unwrapped to a value of type Int at DashboardView.swift:353:23. Pre-existing build error.","status":"closed","priority":2,"issue_type":"bug","assignee":"ios-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T20:35:23Z","created_by":"Justin Martin","updated_at":"2026-02-20T20:36:14Z","closed_at":"2026-02-20T20:36:14Z","close_reason":"Closed"}
{"id":"adj-003","title":"Run iOS build and fix all compiler errors","description":"Build the iOS project, identify any remaining compiler errors, and fix them all. Iterate until clean build.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T20:43:12Z","created_by":"Justin Martin","updated_at":"2026-02-20T20:46:13Z","closed_at":"2026-02-20T20:46:13Z","close_reason":"Closed"}
{"id":"adj-004","title":"Fix iOS decoding error: backend still returns standalone mode","description":"After standalone removal, the backend or gt CLI still returns 'standalone' as mode for existing projects. iOS can't decode it since the enum case was removed. Need to handle backward compatibility at the API boundary.","status":"closed","priority":1,"issue_type":"bug","assignee":"ios-api-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T20:55:28Z","created_by":"Justin Martin","updated_at":"2026-02-20T21:00:15Z","closed_at":"2026-02-20T21:00:15Z","close_reason":"Closed"}
{"id":"adj-005","title":"Fix remaining iOS decoding errors in Chat and Projects","description":"After adj-004 fix, iOS still shows decoding errors for both Chat and Projects\u003eAdjutant views. Need to compare backend API responses against iOS model types to find all mismatches.","status":"closed","priority":1,"issue_type":"bug","assignee":"decode-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T21:27:33Z","created_by":"Justin Martin","updated_at":"2026-02-20T21:42:18Z","closed_at":"2026-02-20T21:42:18Z","close_reason":"All iOS decoding errors fixed. GastownStatus handles both Gas Town and SystemStatus shapes. All enums have resilient fallback decoders. AgentType includes swarm mode roles. SessionMode maps standalone to swarm. App builds clean."}
{"id":"adj-006","title":"Fix pipe-pane attachment failure: can't find window 0","description":"Backend fails to attach pipe-pane to session a42858b1. Error: can't find window: 0. Session exists but tmux window is missing. iOS app gets connection failure.","status":"closed","priority":1,"issue_type":"bug","assignee":"pipe-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:05:16Z","created_by":"Justin Martin","updated_at":"2026-02-20T23:10:54Z","closed_at":"2026-02-20T23:10:54Z","close_reason":"Closed"}
{"id":"adj-007","title":"Fix session pipeline: message duplication + pipe ENOENT","description":"Messages appear 4x on iOS. Two root causes: (1) dual output paths (raw pipe-pane + capture-pane) both emitting to same handlers, (2) capture-pane Set-based diff re-detects content on scroll. Also pipe file ENOENT after detach but poll timer keeps running.","status":"closed","priority":1,"issue_type":"bug","assignee":"pipeline-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:20:47Z","created_by":"Justin Martin","updated_at":"2026-02-20T23:24:52Z","closed_at":"2026-02-20T23:24:52Z","close_reason":"Closed"}
{"id":"adj-008","title":"Deep dive: session pipeline audit and hardening","description":"Thorough audit of the entire session pipeline. Find all bugs, race conditions, and fragile patterns. Fix everything.","status":"closed","priority":1,"issue_type":"task","assignee":"pipeline-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:25:24Z","created_by":"Justin Martin","updated_at":"2026-02-20T23:31:26Z","closed_at":"2026-02-20T23:31:26Z","close_reason":"Closed"}
{"id":"adj-009","title":"Epic: Beads-based mail for swarm agent communication","description":"Design a beads-based mail system as a backup communication channel for swarm mode agents. Like GT mode mayor mail but for direct agent communication when the pipeline is unavailable. Planning only — no implementation.","status":"closed","priority":2,"issue_type":"epic","assignee":"mail-planner","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:25:26Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:26Z","closed_at":"2026-02-21T15:08:26Z","close_reason":"Replaced by persistent messaging system (adj-010 epic)","dependencies":[{"issue_id":"adj-009","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:01Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.2","type":"blocks","created_at":"2026-02-20T17:30:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.3","type":"blocks","created_at":"2026-02-20T17:30:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.4","type":"blocks","created_at":"2026-02-20T17:30:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.5","type":"blocks","created_at":"2026-02-20T17:30:04Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.6","type":"blocks","created_at":"2026-02-20T17:30:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.1","title":"Add SwarmMailNotificationProvider","description":"Implement NotificationProvider that maps swarm agent names to tmux sessions via SessionBridge.listSessions(). Injects bd CLI mail-check instructions into the agent's tmux pane. Must lazy-import SessionBridge to avoid circular dependencies. Tests: mock SessionBridge, verify tmux send-keys arguments.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:18Z","closed_at":"2026-02-21T15:08:18Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode."}
{"id":"adj-009.2","title":"Wire notifications into BeadsTransport","description":"Update BeadsTransport.sendMessage() to use SwarmMailNotificationProvider after successful bd create. Add APNS push notification call (sendNewMailNotification) matching GasTownTransport behavior. Lazy import notification provider to avoid circular deps. Tests: verify notification and push are called after successful send.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:35Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.2","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.3","title":"Agent mail reply instructions","description":"Design and implement the notification message format for swarm agents. Include bd create command template with correct labels and threading args so agents can reply. Document agent-side mail workflow (list, read, reply). Tests: verify notification message contains correct bd command syntax.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:40Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.3","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.4","title":"RecipientSelector swarm agent discovery","description":"Verify RecipientSelector correctly shows all active tmux session agents in swarm mode. Ensure session names map to valid mail addresses for BeadsTransport. Test: compose and send a message to a discovered swarm agent.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode."}
{"id":"adj-009.5","title":"End-to-end integration test","description":"Integration test: send mail from UI to swarm agent, agent reads via bd commands, agent replies via bd create, UI sees reply in Mail tab. Also test: mail works when session pipeline is disconnected, mail persists across session restarts.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:51Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.5","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009.5","depends_on_id":"adj-009.2","type":"blocks","created_at":"2026-02-20T17:30:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009.5","depends_on_id":"adj-009.3","type":"blocks","created_at":"2026-02-20T17:30:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.6","title":"Swarm mail documentation","description":"Document swarm mail usage: agent-side bd commands for reading/replying to mail, troubleshooting guide for mail delivery failures, update relevant project docs.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:56Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.6","depends_on_id":"adj-009.5","type":"blocks","created_at":"2026-02-20T17:30:12Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010","title":"Agent MCP Bridge — Messaging, Status, Beads, and Query Tools","description":"Replace beads-mail and HTTP curl with an MCP server embedded in Adjutant backend. Typed tools for messaging, status, bead ops, and queries. Claude Code skills for auto-discovery. Replaces adj-009 beads-mail and persistent messaging designs.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:32:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:31Z","closed_at":"2026-02-21T19:25:31Z","close_reason":"All P1/P2 bugs fixed, P3/P4 deferred. 170 tests pass. Merged and pushed.","dependencies":[{"issue_id":"adj-010","depends_on_id":"adj-010.1","type":"blocks","created_at":"2026-02-21T10:35:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:35:06Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T10:35:07Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.4","type":"blocks","created_at":"2026-02-21T10:35:07Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.5","type":"blocks","created_at":"2026-02-21T10:35:08Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.6","type":"blocks","created_at":"2026-02-21T10:35:08Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.7","type":"blocks","created_at":"2026-02-21T10:35:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.8","type":"blocks","created_at":"2026-02-21T10:35:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.9","type":"blocks","created_at":"2026-02-21T10:35:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-0p4","type":"blocks","created_at":"2026-02-21T13:13:13Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-145","type":"blocks","created_at":"2026-02-21T13:13:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-1y7","type":"blocks","created_at":"2026-02-21T12:23:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-2n1","type":"blocks","created_at":"2026-02-21T13:13:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-2pi","type":"blocks","created_at":"2026-02-21T12:20:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-4ah","type":"blocks","created_at":"2026-02-21T12:32:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-7o7","type":"blocks","created_at":"2026-02-21T13:12:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-81y","type":"blocks","created_at":"2026-02-21T13:12:50Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-8jr","type":"blocks","created_at":"2026-02-21T13:13:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-8mg","type":"blocks","created_at":"2026-02-21T13:13:01Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-bmq","type":"blocks","created_at":"2026-02-21T13:14:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-c8f","type":"blocks","created_at":"2026-02-21T12:19:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-d0l","type":"blocks","created_at":"2026-02-21T13:13:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-dbu","type":"blocks","created_at":"2026-02-21T13:12:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-emo","type":"blocks","created_at":"2026-02-21T12:20:06Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-hp9","type":"blocks","created_at":"2026-02-21T12:20:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-i6r","type":"blocks","created_at":"2026-02-21T13:12:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-idn","type":"blocks","created_at":"2026-02-21T13:13:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-j00","type":"blocks","created_at":"2026-02-21T12:21:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-ja1","type":"blocks","created_at":"2026-02-21T13:12:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-k9k","type":"blocks","created_at":"2026-02-21T13:12:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-lrb","type":"blocks","created_at":"2026-02-21T12:20:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-nhc","type":"blocks","created_at":"2026-02-21T12:19:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-p23","type":"blocks","created_at":"2026-02-21T13:13:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-uv3","type":"blocks","created_at":"2026-02-21T12:20:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-x0m","type":"blocks","created_at":"2026-02-21T12:19:56Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1","title":"Setup: Database Infrastructure","description":"SQLite via better-sqlite3 at ~/.adjutant/adjutant.db. WAL mode, migration runner, message-store service.","status":"closed","priority":1,"issue_type":"epic","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:13Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:24Z","closed_at":"2026-02-21T18:04:24Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.1","type":"blocks","created_at":"2026-02-21T10:35:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.2","type":"blocks","created_at":"2026-02-21T10:35:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.3","type":"blocks","created_at":"2026-02-21T10:35:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.4","type":"blocks","created_at":"2026-02-21T10:35:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.5","type":"blocks","created_at":"2026-02-21T10:35:22Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.1","title":"Install better-sqlite3 dependency","description":"Add better-sqlite3 and @types/better-sqlite3 to backend/package.json","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:01:11Z","closed_at":"2026-02-21T18:01:11Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1.1","depends_on_id":"adj-010.1.1.1","type":"blocks","created_at":"2026-02-21T12:05:03Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.1.1","title":"Fix: Add recipient/to column to messages table","description":"Messages table has agent_id but no recipient column. send_message(to: 'user') has no place to store the target. Add 'recipient TEXT' column to schema and update message-store.","status":"closed","priority":0,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:37Z","closed_at":"2026-02-21T18:08:37Z","close_reason":"Closed"}
{"id":"adj-010.1.2","title":"Create database singleton with WAL mode","description":"SQLite singleton in backend/src/services/database.ts. Open ~/.adjutant/adjutant.db, WAL mode, PRAGMA tuning, migration runner.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:30Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:21Z","closed_at":"2026-02-21T18:04:21Z","close_reason":"Closed"}
{"id":"adj-010.1.3","title":"Create migration runner and initial schema","description":"Migration runner + backend/src/services/migrations/001-initial.sql with messages, threads tables.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:22Z","closed_at":"2026-02-21T18:04:22Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1.3","depends_on_id":"adj-010.1.3.1","type":"blocks","created_at":"2026-02-21T12:05:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1.3","depends_on_id":"adj-010.1.3.2","type":"blocks","created_at":"2026-02-21T12:05:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.3.1","title":"Fix: Cursor pagination tiebreaker for same-second messages","description":"Pagination uses created_at \u003c ? but SQLite datetime has second precision. Messages in same second share timestamps making cursor unreliable. Use composite cursor (created_at, id) or rowid tiebreaker.","status":"closed","priority":1,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:38Z","closed_at":"2026-02-21T18:08:38Z","close_reason":"Closed"}
{"id":"adj-010.1.3.2","title":"Fix: Add 'failed' to delivery_status CHECK constraint","description":"Spec requires pending/delivered/read/failed but CHECK constraint has pending/sent/delivered/read. Add 'failed', consider changing default from 'sent' to 'pending'.","status":"closed","priority":2,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:38Z","closed_at":"2026-02-21T18:08:38Z","close_reason":"Closed"}
{"id":"adj-010.1.4","title":"Create message-store service","description":"Message CRUD in backend/src/services/message-store.ts. Insert, query with pagination, FTS5 search, mark read, thread grouping.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:23Z","closed_at":"2026-02-21T18:04:23Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1.4","depends_on_id":"adj-010.1.4.1","type":"blocks","created_at":"2026-02-21T12:05:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.4.1","title":"Fix: Parameterize LIMIT in getMessages SQL","description":"getMessages builds LIMIT via template literal string interpolation. Should use parameterized query to prevent SQL injection even though type is number.","status":"closed","priority":1,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:39Z","closed_at":"2026-02-21T18:08:39Z","close_reason":"Closed"}
{"id":"adj-010.1.5","title":"Write database and message-store tests","description":"Tests in backend/tests/unit/message-store.test.ts. Use in-memory SQLite for tests.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:32Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:23Z","closed_at":"2026-02-21T18:04:23Z","close_reason":"Closed"}
{"id":"adj-010.2","title":"Foundational: MCP Server Core","description":"MCP protocol server with SSE transport, agent identity resolution, connection lifecycle tracking. Blocks all tool implementations.","status":"closed","priority":1,"issue_type":"epic","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:14Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:07:01Z","closed_at":"2026-02-21T18:07:01Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.1","type":"blocks","created_at":"2026-02-21T10:35:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.2","type":"blocks","created_at":"2026-02-21T10:35:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.3","type":"blocks","created_at":"2026-02-21T10:35:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.4","type":"blocks","created_at":"2026-02-21T10:35:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.5","type":"blocks","created_at":"2026-02-21T10:35:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.6","type":"blocks","created_at":"2026-02-21T10:35:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.7","type":"blocks","created_at":"2026-02-21T10:35:26Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.1","title":"Install @modelcontextprotocol/sdk","description":"Add MCP SDK dependency to backend/package.json","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:01:52Z","closed_at":"2026-02-21T18:01:52Z","close_reason":"Closed"}
{"id":"adj-010.2.2","title":"Create MCP server with SSE transport","description":"MCP server instance with SSE transport adapter in backend/src/services/mcp-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:19Z","closed_at":"2026-02-21T18:04:19Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2.2","depends_on_id":"adj-010.2.2.1","type":"blocks","created_at":"2026-02-21T12:05:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.2.1","title":"Fix: Add MCP events to typed EventMap","description":"mcp:agent_connected and mcp:agent_disconnected use unsafe cast to bypass typed EventMap. Add these events to event-bus.ts EventMap properly.","status":"closed","priority":2,"issue_type":"bug","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:48Z","closed_at":"2026-02-21T18:08:48Z","close_reason":"Closed"}
{"id":"adj-010.2.3","title":"Create SSE Express route at /mcp/sse","description":"Express route for SSE connections in backend/src/routes/mcp.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:05:31Z","closed_at":"2026-02-21T18:05:31Z","close_reason":"Closed"}
{"id":"adj-010.2.4","title":"Implement agent identity resolution","description":"Derive agent identity from MCP connection metadata (session name header or query param) in mcp-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:45Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:19Z","closed_at":"2026-02-21T18:04:19Z","close_reason":"Closed"}
{"id":"adj-010.2.5","title":"Add connection lifecycle tracking","description":"Track connected agents, emit connect/disconnect events in mcp-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:20Z","closed_at":"2026-02-21T18:04:20Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2.5","depends_on_id":"adj-010.2.5.1","type":"blocks","created_at":"2026-02-21T12:05:08Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.5.1","title":"Fix: Wire transport onclose to disconnectAgent","description":"No onclose handler on SSE transport. When agent crashes or network drops, connection lingers in Map forever (memory leak). Wire transport.onclose to call disconnectAgent(sessionId).","status":"closed","priority":1,"issue_type":"bug","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:09:58Z","closed_at":"2026-02-21T18:09:58Z","close_reason":"Closed"}
{"id":"adj-010.2.6","title":"Register MCP routes and init DB on startup","description":"Wire MCP routes and database initialization into backend/src/index.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:06:25Z","closed_at":"2026-02-21T18:06:25Z","close_reason":"Closed"}
{"id":"adj-010.2.7","title":"Write MCP server connection tests","description":"Tests for connection lifecycle in backend/tests/unit/mcp-server.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:47Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:20Z","closed_at":"2026-02-21T18:04:20Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2.7","depends_on_id":"adj-010.2.7.1","type":"blocks","created_at":"2026-02-21T12:05:08Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.7.1","title":"Fix: MCP server test vi.mock hoisting bug","description":"Tests fail with ReferenceError: Cannot access MockMcpServer before initialization. vi.mock is hoisted above const declarations. Use vi.hoisted() or inline the mock.","status":"closed","priority":0,"issue_type":"bug","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:19Z","closed_at":"2026-02-21T18:34:19Z","close_reason":"Fixed vi.mock arrow function constructors for Vitest 4"}
{"id":"adj-010.3","title":"US1: Agent-to-User Messaging","description":"send_message, read_messages, list_threads, mark_read MCP tools. SQLite persistence + WebSocket broadcast + APNS push. MVP.","status":"closed","priority":1,"issue_type":"epic","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:15Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:54Z","closed_at":"2026-02-21T18:20:54Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3","depends_on_id":"adj-010.1","type":"blocks","created_at":"2026-02-21T10:36:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:18Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.1","type":"blocks","created_at":"2026-02-21T10:35:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.2","type":"blocks","created_at":"2026-02-21T10:35:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.3","type":"blocks","created_at":"2026-02-21T10:35:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.4","type":"blocks","created_at":"2026-02-21T10:35:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.5","type":"blocks","created_at":"2026-02-21T10:35:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.6","type":"blocks","created_at":"2026-02-21T10:35:30Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.7","type":"blocks","created_at":"2026-02-21T10:35:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.8","type":"blocks","created_at":"2026-02-21T10:35:31Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.1","title":"Implement send_message MCP tool","description":"Store in SQLite + broadcast via WebSocket + APNS push. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:44Z","closed_at":"2026-02-21T18:20:44Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3.1","depends_on_id":"adj-010.3.1.1","type":"blocks","created_at":"2026-02-21T12:22:10Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.1.1","title":"Fix: Unify agent identity resolution across MCP tools","description":"messaging.ts uses extra._meta.agentId (client-supplied). status.ts uses getAgentBySession(extra.sessionId) (server-side lookup). Unify on server-side resolution for trustworthiness.","status":"closed","priority":2,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:36Z","closed_at":"2026-02-21T18:28:36Z","close_reason":"Server-side session lookup replaces client-supplied _meta.agentId"}
{"id":"adj-010.3.2","title":"Implement read_messages MCP tool","description":"Query by thread, session, or agent with pagination. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:45Z","closed_at":"2026-02-21T18:20:45Z","close_reason":"Closed"}
{"id":"adj-010.3.3","title":"Implement list_threads MCP tool","description":"List conversation threads with latest message preview. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:46Z","closed_at":"2026-02-21T18:20:46Z","close_reason":"Closed"}
{"id":"adj-010.3.4","title":"Implement mark_read MCP tool","description":"Update delivery status. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:47Z","closed_at":"2026-02-21T18:20:47Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3.4","depends_on_id":"adj-010.3.4.1","type":"blocks","created_at":"2026-02-21T12:22:12Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.4.1","title":"Fix: mark_read should error when neither messageId nor agentId provided","description":"mark_read tool returns {success: true} when both are missing. Should return an error.","status":"closed","priority":3,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:10Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:37Z","closed_at":"2026-02-21T18:28:37Z","close_reason":"mark_read returns error when neither param provided"}
{"id":"adj-010.3.5","title":"Add WebSocket chat_message broadcasting","description":"Broadcast message events to connected frontends. backend/src/services/ws-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:48Z","closed_at":"2026-02-21T18:20:48Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3.5","depends_on_id":"adj-010.3.5.1","type":"blocks","created_at":"2026-02-21T12:22:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.5.1","title":"Fix: Add chat_message variant to WsMessage union type","description":"messaging.ts and messages.ts cast wsBroadcast calls with 'as any' for chat_message type. Add proper chat_message variant to WsServerMessage in ws-server.ts.","status":"closed","priority":3,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:09Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:38Z","closed_at":"2026-02-21T18:28:38Z","close_reason":"chat_message added to WsServerMessage union, as any casts removed"}
{"id":"adj-010.3.6","title":"Add APNS push for agent messages","description":"Send push notification when no frontend connected. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:48Z","closed_at":"2026-02-21T18:20:48Z","close_reason":"Closed"}
{"id":"adj-010.3.7","title":"Create /api/messages REST endpoints","description":"REST API for frontend message consumption. backend/src/routes/messages.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:49Z","closed_at":"2026-02-21T18:20:49Z","close_reason":"Closed"}
{"id":"adj-010.3.8","title":"Write messaging MCP tool tests","description":"Tests for all messaging tools. backend/tests/unit/mcp-messaging.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:50Z","closed_at":"2026-02-21T18:20:50Z","close_reason":"Closed"}
{"id":"adj-010.4","title":"US2: Agent Status and Progress","description":"set_status, report_progress, announce MCP tools. Real-time dashboard updates via WebSocket.","status":"closed","priority":1,"issue_type":"epic","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:15Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:57Z","closed_at":"2026-02-21T18:17:57Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.4","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.1","type":"blocks","created_at":"2026-02-21T10:35:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.2","type":"blocks","created_at":"2026-02-21T10:35:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.3","type":"blocks","created_at":"2026-02-21T10:35:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.4","type":"blocks","created_at":"2026-02-21T10:35:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.5","type":"blocks","created_at":"2026-02-21T10:35:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.6","type":"blocks","created_at":"2026-02-21T10:35:35Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.4.1","title":"Implement set_status MCP tool","description":"Update agent status (working/blocked/idle/done). backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:12Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:50Z","closed_at":"2026-02-21T18:17:50Z","close_reason":"Closed"}
{"id":"adj-010.4.2","title":"Implement report_progress MCP tool","description":"Task progress with percentage and description. backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:12Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:51Z","closed_at":"2026-02-21T18:17:51Z","close_reason":"Closed"}
{"id":"adj-010.4.3","title":"Implement announce MCP tool","description":"Broadcast announcement (completion/blocker/question). backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:13Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:52Z","closed_at":"2026-02-21T18:17:52Z","close_reason":"Closed"}
{"id":"adj-010.4.4","title":"Add WebSocket agent_status and announcement events","description":"Broadcast status and announcement events. backend/src/services/ws-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:13Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:53Z","closed_at":"2026-02-21T18:17:53Z","close_reason":"Closed"}
{"id":"adj-010.4.5","title":"Store announcements in messages table","description":"Persist announcements with event_type=announcement. backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:14Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:53Z","closed_at":"2026-02-21T18:17:53Z","close_reason":"Closed"}
{"id":"adj-010.4.6","title":"Write status MCP tool tests","description":"Tests for status tools. backend/tests/unit/mcp-status.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:15Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:49Z","closed_at":"2026-02-21T18:17:49Z","close_reason":"Closed"}
{"id":"adj-010.5","title":"US3: Bead Operations via MCP","description":"create_bead, update_bead, close_bead, list_beads, show_bead MCP tools. Wraps bd-client.ts with serialization to prevent SIGSEGV.","status":"closed","priority":2,"issue_type":"epic","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:16Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:40Z","closed_at":"2026-02-21T18:17:40Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.5","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.1","type":"blocks","created_at":"2026-02-21T10:35:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.2","type":"blocks","created_at":"2026-02-21T10:35:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.3","type":"blocks","created_at":"2026-02-21T10:35:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.4","type":"blocks","created_at":"2026-02-21T10:35:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.5","type":"blocks","created_at":"2026-02-21T10:35:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.6","type":"blocks","created_at":"2026-02-21T10:35:56Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.5.1","title":"Implement create_bead MCP tool","description":"Wrap bd-client.ts create. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:26Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:30Z","closed_at":"2026-02-21T18:17:30Z","close_reason":"Closed"}
{"id":"adj-010.5.2","title":"Implement update_bead MCP tool","description":"Wrap bd-client.ts update. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:27Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:31Z","closed_at":"2026-02-21T18:17:31Z","close_reason":"Closed"}
{"id":"adj-010.5.3","title":"Implement close_bead MCP tool","description":"Wrap bd-client.ts close. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:28Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:32Z","closed_at":"2026-02-21T18:17:32Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.5.3","depends_on_id":"adj-010.5.3.1","type":"blocks","created_at":"2026-02-21T12:22:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.5.3.1","title":"Fix: close_bead should pass --reason flag to bd CLI","description":"close_bead handler destructures reason from args but never passes it to execBd. The --reason flag is silently dropped.","status":"closed","priority":2,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:38Z","closed_at":"2026-02-21T18:28:38Z","close_reason":"close_bead now passes --reason flag to bd CLI"}
{"id":"adj-010.5.4","title":"Implement list_beads and show_bead MCP tools","description":"List with filters and detail view. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:28Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:33Z","closed_at":"2026-02-21T18:17:33Z","close_reason":"Closed"}
{"id":"adj-010.5.5","title":"Add serialization for concurrent bd access","description":"Queue concurrent bd CLI calls to prevent SIGSEGV. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:34Z","closed_at":"2026-02-21T18:17:34Z","close_reason":"Closed"}
{"id":"adj-010.5.6","title":"Write bead MCP tool tests","description":"Tests for bead tools. backend/tests/unit/mcp-beads.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:36Z","closed_at":"2026-02-21T18:17:36Z","close_reason":"Closed"}
{"id":"adj-010.6","title":"US4: Dashboard Queries","description":"list_agents, get_project_state, search_messages MCP tools. Read-only system introspection for agents.","status":"closed","priority":2,"issue_type":"epic","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:17Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:38Z","closed_at":"2026-02-21T18:17:38Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.6","depends_on_id":"adj-010.1","type":"blocks","created_at":"2026-02-21T10:36:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.1","type":"blocks","created_at":"2026-02-21T10:35:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.2","type":"blocks","created_at":"2026-02-21T10:35:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.3","type":"blocks","created_at":"2026-02-21T10:35:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.4","type":"blocks","created_at":"2026-02-21T10:35:58Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.6.1","title":"Implement list_agents MCP tool","description":"Active agents with status, task, session info. backend/src/services/mcp-tools/queries.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:30Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:34Z","closed_at":"2026-02-21T18:17:34Z","close_reason":"Closed"}
{"id":"adj-010.6.2","title":"Implement get_project_state MCP tool","description":"Summary stats: open beads, active agents, recent messages. backend/src/services/mcp-tools/queries.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:35Z","closed_at":"2026-02-21T18:17:35Z","close_reason":"Closed"}
{"id":"adj-010.6.3","title":"Implement search_messages MCP tool","description":"Full-text search via FTS5. backend/src/services/mcp-tools/queries.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:37Z","closed_at":"2026-02-21T18:17:37Z","close_reason":"Closed"}
{"id":"adj-010.6.4","title":"Write query MCP tool tests","description":"Tests for query tools. backend/tests/unit/mcp-queries.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:32Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:37Z","closed_at":"2026-02-21T18:17:37Z","close_reason":"Closed"}
{"id":"adj-010.7","title":"US5: Claude Code Agent Skills","description":"Skill suite + .claude/settings.json MCP config for auto-connect. Agent identity injection on session creation.","status":"closed","priority":1,"issue_type":"epic","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:18Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:19:15Z","closed_at":"2026-02-21T18:19:15Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.7","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.1","type":"blocks","created_at":"2026-02-21T10:35:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.2","type":"blocks","created_at":"2026-02-21T10:35:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.3","type":"blocks","created_at":"2026-02-21T10:36:00Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.4","type":"blocks","created_at":"2026-02-21T10:36:01Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.7.1","title":"Create adjutant-agent skill SKILL.md","description":"Skill with tool usage guide. .claude/skills/adjutant-agent/SKILL.md","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:16:40Z","closed_at":"2026-02-21T18:16:40Z","close_reason":"Closed"}
{"id":"adj-010.7.2","title":"Create skill references and tool catalog","description":"References for tool catalog and message format examples. .claude/skills/adjutant-agent/references/","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:41Z","closed_at":"2026-02-21T18:17:41Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.7.2","depends_on_id":"adj-010.7.2.1","type":"blocks","created_at":"2026-02-21T12:24:59Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.7.2.1","title":"Fix: Skill tool-catalog.md has wrong parameter names","description":"Tool catalog documents wrong param names that will cause Zod validation errors: send_message says 'recipient' but impl uses 'to', set_status says 'detail' but impl uses 'task'/'beadId', report_progress says 'taskId'/'percent' but impl uses 'task'/'percentage', announce shows only 'body' but impl requires 'title' and 'body'.","status":"closed","priority":1,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:24:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:40:35Z","closed_at":"2026-02-21T18:40:35Z","close_reason":"Fixed all parameter names in tool-catalog.md and SKILL.md to match actual Zod schemas"}
{"id":"adj-010.7.3","title":"Configure MCP server in .claude/settings.json","description":"Add MCP server config for auto-connect in .claude/settings.json","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:53Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:18:09Z","closed_at":"2026-02-21T18:18:09Z","close_reason":"Closed"}
{"id":"adj-010.7.4","title":"Add agent identity env var to session creation","description":"Inject ADJUTANT_AGENT_ID env var in session creation. backend/src/services/session-bridge.ts","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:53Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:19:15Z","closed_at":"2026-02-21T18:19:15Z","close_reason":"Closed"}
{"id":"adj-010.8","title":"Frontend Integration","description":"useChatMessages and useAgentStatus hooks, persistent message rendering, announcement banner component.","status":"closed","priority":2,"issue_type":"epic","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:18Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:31:08Z","closed_at":"2026-02-21T18:31:08Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.8","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T10:36:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.1","type":"blocks","created_at":"2026-02-21T10:36:01Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.2","type":"blocks","created_at":"2026-02-21T10:36:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.3","type":"blocks","created_at":"2026-02-21T10:36:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.4","type":"blocks","created_at":"2026-02-21T10:36:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.5","type":"blocks","created_at":"2026-02-21T10:36:03Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.8.1","title":"Create useChatMessages hook","description":"Fetch from /api/messages + WebSocket subscription. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:54Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:27:28Z","closed_at":"2026-02-21T18:27:28Z","close_reason":"Closed"}
{"id":"adj-010.8.2","title":"Create useAgentStatus hook","description":"Real-time agent status via WebSocket. frontend/src/hooks/useAgentStatus.ts","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:55Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:24Z","closed_at":"2026-02-21T18:28:24Z","close_reason":"Closed"}
{"id":"adj-010.8.3","title":"Update chat components for persistent messages","description":"Render persistent messages alongside streaming output. frontend/src/components/chat/","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:55Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:31:04Z","closed_at":"2026-02-21T18:31:04Z","close_reason":"Closed"}
{"id":"adj-010.8.4","title":"Create announcement banner component","description":"Toast/banner for agent announcements. frontend/src/components/shared/AnnouncementBanner.tsx","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:56Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:29:27Z","closed_at":"2026-02-21T18:29:27Z","close_reason":"Closed"}
{"id":"adj-010.8.5","title":"Write useChatMessages tests","description":"Tests for chat messages hook. frontend/tests/unit/useChatMessages.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:27:29Z","closed_at":"2026-02-21T18:27:29Z","close_reason":"Closed"}
{"id":"adj-010.9","title":"Polish: Cross-Cutting Concerns","description":"Retry logic, pagination UI, search UI, remove legacy beads-mail code, documentation updates.","status":"closed","priority":3,"issue_type":"epic","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:48Z","closed_at":"2026-02-21T18:36:48Z","close_reason":"Phase 9 complete: retry logic, legacy removal, docs updated. Pagination/search deferred.","dependencies":[{"issue_id":"adj-010.9","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T10:36:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.4","type":"blocks","created_at":"2026-02-21T10:36:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.5","type":"blocks","created_at":"2026-02-21T10:36:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.6","type":"blocks","created_at":"2026-02-21T10:36:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.7","type":"blocks","created_at":"2026-02-21T10:36:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.8","type":"blocks","created_at":"2026-02-21T10:36:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.1","type":"blocks","created_at":"2026-02-21T10:36:04Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.2","type":"blocks","created_at":"2026-02-21T10:36:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.3","type":"blocks","created_at":"2026-02-21T10:36:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.4","type":"blocks","created_at":"2026-02-21T10:36:06Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.5","type":"blocks","created_at":"2026-02-21T10:36:07Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.9.1","title":"Add MCP connection retry with backoff","description":"Exponential backoff on connection failure. backend/src/services/mcp-server.ts","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:30:40Z","closed_at":"2026-02-21T18:30:40Z","close_reason":"Already implemented: frontend WS has exponential backoff retry (CommunicationContext), SSE auto-reconnects, MCP agent reconnection handled by SDK client-side"}
{"id":"adj-010.9.2","title":"Add message pagination to chat view","description":"Paginated message loading. frontend/src/components/chat/","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:44Z","closed_at":"2026-02-21T18:36:44Z","close_reason":"Deferred P3: pagination and search UI are polish items for future iteration"}
{"id":"adj-010.9.3","title":"Add full-text search UI","description":"Search bar for message history. frontend/src/components/chat/","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:44Z","closed_at":"2026-02-21T18:36:44Z","close_reason":"Deferred P3: pagination and search UI are polish items for future iteration"}
{"id":"adj-010.9.4","title":"Remove legacy beads-mail swarm code paths","description":"Remove old beads-mail transport for swarm mode. backend/src/services/transport/","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:29:55Z","closed_at":"2026-02-21T18:29:55Z","close_reason":"Removed legacy sendMail bridge from WS handleMessage; messages now use MCP send_message + SQLite store"}
{"id":"adj-010.9.5","title":"Update project docs with MCP messaging","description":"Update CLAUDE.md and docs with MCP messaging instructions.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:35:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:32:00Z","closed_at":"2026-02-21T18:32:00Z","close_reason":"Updated 01-project-context.md and 04-architecture.md with MCP messaging, agent tools, and current data flows"}
{"id":"adj-011","title":"Agent Chat UI — Persistent Per-Agent Messaging on Web and iOS","description":"Evolve CommandChat (web) and ChatView (iOS) to use SQLite-backed messages from adj-010 message store. iMessage-style per-agent conversations with real-time delivery, unread badges, pagination, and search. Depends on adj-010.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:56Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:40:41Z","closed_at":"2026-02-21T19:40:41Z","close_reason":"All 36 tasks complete. 6 phases (types, web chat, iOS chat, unread badges, search/pagination, polish) + 2 QA bugs fixed. 460 frontend + 908 backend tests pass.","dependencies":[{"issue_id":"adj-011","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T11:53:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.2","type":"blocks","created_at":"2026-02-21T11:53:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.3","type":"blocks","created_at":"2026-02-21T11:53:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.4","type":"blocks","created_at":"2026-02-21T11:53:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.5","type":"blocks","created_at":"2026-02-21T11:53:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.6","type":"blocks","created_at":"2026-02-21T11:53:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-1c2","type":"blocks","created_at":"2026-02-21T13:22:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-jqs","type":"blocks","created_at":"2026-02-21T13:22:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.1","title":"Phase 1: Shared Types and API Client","description":"PersistentMessage types and /api/messages client methods for web and iOS.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:15:20Z","closed_at":"2026-02-21T19:15:20Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.1","type":"blocks","created_at":"2026-02-21T11:53:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.2","type":"blocks","created_at":"2026-02-21T11:53:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.3","type":"blocks","created_at":"2026-02-21T11:53:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.4","type":"blocks","created_at":"2026-02-21T11:53:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.5","type":"blocks","created_at":"2026-02-21T11:53:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.6","type":"blocks","created_at":"2026-02-21T11:53:26Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.1.1","title":"Add PersistentMessage and UnreadCount types","description":"Web frontend types for SQLite-backed messages. frontend/src/types/index.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:17Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:12:35Z","closed_at":"2026-02-21T19:12:35Z","close_reason":"Closed"}
{"id":"adj-011.1.2","title":"Add messages API client methods","description":"list, send, markRead, search methods. frontend/src/services/api.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:18Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:12:35Z","closed_at":"2026-02-21T19:12:35Z","close_reason":"Closed"}
{"id":"adj-011.1.3","title":"Create PersistentMessage model (iOS)","description":"Codable model for SQLite messages. ios/AdjutantKit/.../Models/PersistentMessage.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:12:56Z","closed_at":"2026-02-21T19:12:56Z","close_reason":"Closed"}
{"id":"adj-011.1.4","title":"Create APIClient+Messages extension (iOS)","description":"Message endpoints. ios/AdjutantKit/.../Networking/APIClient+Messages.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:13:21Z","closed_at":"2026-02-21T19:13:21Z","close_reason":"Closed"}
{"id":"adj-011.1.5","title":"Write web messages API client tests","description":"frontend/tests/unit/api-messages.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:20Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:13:45Z","closed_at":"2026-02-21T19:13:45Z","close_reason":"Closed"}
{"id":"adj-011.1.6","title":"Write iOS APIClient+Messages tests","description":"ios/AdjutantTests/Networking/APIClientMessagesTests.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:20Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:15:10Z","closed_at":"2026-02-21T19:15:10Z","close_reason":"Closed"}
{"id":"adj-011.2","title":"US1: Web Chat Upgrade","description":"Modify CommandChat to use useChatMessages hook with SQLite-backed agent-scoped messages. MVP.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:20:38Z","closed_at":"2026-02-21T19:20:38Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.2","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.1","type":"blocks","created_at":"2026-02-21T11:53:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.2","type":"blocks","created_at":"2026-02-21T11:53:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.3","type":"blocks","created_at":"2026-02-21T11:53:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.4","type":"blocks","created_at":"2026-02-21T11:53:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.5","type":"blocks","created_at":"2026-02-21T11:53:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.6","type":"blocks","created_at":"2026-02-21T11:53:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.7","type":"blocks","created_at":"2026-02-21T11:53:30Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.2.1","title":"Create useChatMessages hook","description":"Fetch from /api/messages + WebSocket chat_message subscription. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:21Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:15:35Z","closed_at":"2026-02-21T19:15:35Z","close_reason":"Closed"}
{"id":"adj-011.2.2","title":"Modify CommandChat to use useChatMessages","description":"Replace mail-based fetching. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:22Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:20Z","closed_at":"2026-02-21T19:19:20Z","close_reason":"Closed"}
{"id":"adj-011.2.3","title":"Add agent-scoped message filtering","description":"Filter to/from selected agent. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:23Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:21Z","closed_at":"2026-02-21T19:19:21Z","close_reason":"Closed"}
{"id":"adj-011.2.4","title":"Add WebSocket chat_message to CommunicationContext","description":"Handle chat_message events. frontend/src/contexts/CommunicationContext.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:23Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:22Z","closed_at":"2026-02-21T19:19:22Z","close_reason":"Closed"}
{"id":"adj-011.2.5","title":"Preserve optimistic UI with delivery confirmation","description":"Keep clientId tracking for /api/messages. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:24Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:22Z","closed_at":"2026-02-21T19:19:22Z","close_reason":"Closed"}
{"id":"adj-011.2.6","title":"Preserve typing indicators and streaming","description":"Keep existing streaming/typing UX. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:24Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:23Z","closed_at":"2026-02-21T19:19:23Z","close_reason":"Closed"}
{"id":"adj-011.2.7","title":"Write useChatMessages tests","description":"frontend/tests/unit/useChatMessages.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:25Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:20:28Z","closed_at":"2026-02-21T19:20:28Z","close_reason":"Closed"}
{"id":"adj-011.3","title":"US2: iOS Chat Upgrade","description":"Modify ChatView/ChatViewModel to use SQLite-backed agent-scoped messages with APNS deep linking.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:30:57Z","closed_at":"2026-02-21T19:30:57Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.3","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.1","type":"blocks","created_at":"2026-02-21T11:53:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.2","type":"blocks","created_at":"2026-02-21T11:53:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.3","type":"blocks","created_at":"2026-02-21T11:53:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.4","type":"blocks","created_at":"2026-02-21T11:53:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.5","type":"blocks","created_at":"2026-02-21T11:53:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.6","type":"blocks","created_at":"2026-02-21T11:53:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.7","type":"blocks","created_at":"2026-02-21T11:53:34Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.3.1","title":"Modify ChatViewModel for getMessages","description":"Replace getMail with getMessages(agentId:). ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:41Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:25Z","closed_at":"2026-02-21T19:19:25Z","close_reason":"Closed"}
{"id":"adj-011.3.2","title":"Add agent-scoped filtering in ChatViewModel","description":"Filter messages by selected agent. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:26Z","closed_at":"2026-02-21T19:19:26Z","close_reason":"Closed"}
{"id":"adj-011.3.3","title":"Handle chat_message events in ChatWebSocketService","description":"Process MCP agent messages. ios/Adjutant/.../ChatWebSocketService.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:26Z","closed_at":"2026-02-21T19:19:26Z","close_reason":"Closed"}
{"id":"adj-011.3.4","title":"Wire APNS deep link to correct agent chat","description":"Notification tap opens right agent. ios/Adjutant/.../ChatView.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:21:45Z","closed_at":"2026-02-21T19:21:45Z","close_reason":"Committed by ios-builder as 63e3a84"}
{"id":"adj-011.3.5","title":"Preserve voice and typing indicators","description":"Keep voice input/playback and typing UX. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:22:59Z","closed_at":"2026-02-21T19:22:59Z","close_reason":"Voice, TTS, and typing indicators preserved in ChatViewModel migration"}
{"id":"adj-011.3.6","title":"Preserve streaming in ChatBubble","description":"Keep streaming response rendering. ios/Adjutant/.../ChatBubble.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:23:00Z","closed_at":"2026-02-21T19:23:00Z","close_reason":"Streaming rendering preserved in ChatView/ChatBubble migration"}
{"id":"adj-011.3.7","title":"Write ChatViewModel message tests","description":"ios/AdjutantTests/.../ChatViewModelTests.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:45Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:26:59Z","closed_at":"2026-02-21T19:26:59Z","close_reason":"Closed"}
{"id":"adj-011.4","title":"US3: Agent Selector Upgrade","description":"Unread message count badges per agent on both platforms.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:32:08Z","closed_at":"2026-02-21T19:32:08Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.4","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.1","type":"blocks","created_at":"2026-02-21T11:53:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.2","type":"blocks","created_at":"2026-02-21T11:53:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.3","type":"blocks","created_at":"2026-02-21T11:53:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.4","type":"blocks","created_at":"2026-02-21T11:53:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.5","type":"blocks","created_at":"2026-02-21T11:53:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.6","type":"blocks","created_at":"2026-02-21T11:53:38Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.4.1","title":"Create useUnreadCounts hook","description":"Per-agent unread counts. frontend/src/hooks/useUnreadCounts.ts","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:53Z","closed_at":"2026-02-21T19:28:53Z","close_reason":"Closed"}
{"id":"adj-011.4.2","title":"Add unread badges to web recipient selector","description":"Badge UI in CommandChat. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:31:17Z","closed_at":"2026-02-21T19:31:17Z","close_reason":"Closed"}
{"id":"adj-011.4.3","title":"Add unread count to iOS agent picker","description":"Badge UI in ChatView. ios/Adjutant/.../ChatView.swift","status":"closed","priority":2,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:47Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:09Z","closed_at":"2026-02-21T19:28:09Z","close_reason":"Closed"}
{"id":"adj-011.4.4","title":"Mark messages read on conversation open","description":"PATCH /api/messages/:id/read on both platforms","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:48Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:32:07Z","closed_at":"2026-02-21T19:32:07Z","close_reason":"Closed"}
{"id":"adj-011.4.5","title":"Real-time badge updates via WebSocket","description":"Update unread counts on chat_message events. Both platforms.","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:48Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:31:17Z","closed_at":"2026-02-21T19:31:17Z","close_reason":"Closed"}
{"id":"adj-011.4.6","title":"Write useUnreadCounts tests","description":"frontend/tests/unit/useUnreadCounts.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:49Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:53Z","closed_at":"2026-02-21T19:28:53Z","close_reason":"Closed"}
{"id":"adj-011.5","title":"US4: History and Search","description":"Cursor-based pagination and full-text search on both platforms.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:39:24Z","closed_at":"2026-02-21T19:39:24Z","close_reason":"All 5 tasks complete (web: .5.1, .5.3, .5.5 + iOS: .5.2, .5.4)","dependencies":[{"issue_id":"adj-011.5","depends_on_id":"adj-011.2","type":"blocks","created_at":"2026-02-21T11:53:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.3","type":"blocks","created_at":"2026-02-21T11:53:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.1","type":"blocks","created_at":"2026-02-21T11:53:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.2","type":"blocks","created_at":"2026-02-21T11:53:39Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.3","type":"blocks","created_at":"2026-02-21T11:53:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.4","type":"blocks","created_at":"2026-02-21T11:53:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.5","type":"blocks","created_at":"2026-02-21T11:53:41Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.5.1","title":"Add infinite scroll pagination to web chat","description":"Cursor-based pagination. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:33:22Z","closed_at":"2026-02-21T19:33:22Z","close_reason":"Closed"}
{"id":"adj-011.5.2","title":"Add pagination to iOS chat","description":"Load earlier messages. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":3,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:34Z","closed_at":"2026-02-21T19:28:34Z","close_reason":"Closed"}
{"id":"adj-011.5.3","title":"Add search bar to web chat","description":"Search header. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:35:40Z","closed_at":"2026-02-21T19:35:40Z","close_reason":"Closed"}
{"id":"adj-011.5.4","title":"Add search bar to iOS chat","description":"Search UI. ios/Adjutant/.../ChatView.swift","status":"closed","priority":3,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:30:22Z","closed_at":"2026-02-21T19:30:22Z","close_reason":"Closed"}
{"id":"adj-011.5.5","title":"Wire search to /api/messages/search","description":"Both platforms call search endpoint.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:04Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:35:40Z","closed_at":"2026-02-21T19:35:40Z","close_reason":"Closed"}
{"id":"adj-011.6","title":"Polish: Cross-Cutting","description":"Deduplication, empty states, system message styling, legacy mail removal.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:39:25Z","closed_at":"2026-02-21T19:39:25Z","close_reason":"All 5 tasks complete (web: .6.1, .6.3, .6.4, .6.5 + iOS: .6.2)","dependencies":[{"issue_id":"adj-011.6","depends_on_id":"adj-011.2","type":"blocks","created_at":"2026-02-21T11:53:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.3","type":"blocks","created_at":"2026-02-21T11:53:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.1","type":"blocks","created_at":"2026-02-21T11:53:41Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.2","type":"blocks","created_at":"2026-02-21T11:53:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.3","type":"blocks","created_at":"2026-02-21T11:53:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.4","type":"blocks","created_at":"2026-02-21T11:53:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.5","type":"blocks","created_at":"2026-02-21T11:53:44Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.6.1","title":"Add web message deduplication","description":"Dedupe by ID for WS+polling overlap. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:35:57Z","closed_at":"2026-02-21T19:35:57Z","close_reason":"Closed"}
{"id":"adj-011.6.2","title":"Add iOS message deduplication","description":"Dedupe in ChatViewModel. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":3,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:30:56Z","closed_at":"2026-02-21T19:30:56Z","close_reason":"Closed"}
{"id":"adj-011.6.3","title":"Add empty state UI for no messages","description":"Both platforms show prompt when no history.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:36:08Z","closed_at":"2026-02-21T19:36:08Z","close_reason":"Closed"}
{"id":"adj-011.6.4","title":"Add system/announcement message styling","description":"Distinct chat bubble styling for system events. Both platforms.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:37:06Z","closed_at":"2026-02-21T19:37:06Z","close_reason":"Closed"}
{"id":"adj-011.6.5","title":"Remove legacy /api/mail fetch paths","description":"Remove old mail-based fetching from CommandChat and ChatViewModel.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:37:57Z","closed_at":"2026-02-21T19:37:57Z","close_reason":"Closed"}
{"id":"adj-012","title":"iOS Message System Investigation \u0026 QA","description":"Coordinated investigation into four iOS message loading failures (blank on open, lost after background, broken pagination, intermittent) through parallel workstreams: root cause investigation, staff code review, product UX audit, and comprehensive test coverage. Produces prioritized fix plan.","status":"closed","priority":0,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:11Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:08:09Z","closed_at":"2026-02-22T07:08:09Z","close_reason":"Investigation epic complete: 22 prioritized fixes identified across 3 workstreams","dependencies":[{"issue_id":"adj-012","depends_on_id":"adj-012.1","type":"blocks","created_at":"2026-02-22T00:16:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012","depends_on_id":"adj-012.2","type":"blocks","created_at":"2026-02-22T00:16:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012","depends_on_id":"adj-012.3","type":"blocks","created_at":"2026-02-22T00:16:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012","depends_on_id":"adj-012.4","type":"blocks","created_at":"2026-02-22T00:16:44Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012","depends_on_id":"adj-012.5","type":"blocks","created_at":"2026-02-22T00:16:45Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012","depends_on_id":"adj-012.6","type":"blocks","created_at":"2026-02-22T00:16:45Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.1","title":"Setup: Investigation Baseline","description":"Catalog message pipeline files, create review checklists, document current iOS app behavior baseline","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:16Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:07:54Z","closed_at":"2026-02-22T07:07:54Z","close_reason":"Setup phase complete: file catalog and behavior baseline written","dependencies":[{"issue_id":"adj-012.1","depends_on_id":"adj-012.1.1","type":"blocks","created_at":"2026-02-22T00:16:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.1","depends_on_id":"adj-012.1.2","type":"blocks","created_at":"2026-02-22T00:16:47Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.1.1","title":"Catalog message pipeline files with review checklists","description":"Catalog every file in iOS + backend + frontend message pipeline with role annotations. Create per-file review checklists (what to look for). Output: specs/010-ios-message-investigation/file-catalog.md","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:31Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:54:31Z","closed_at":"2026-02-22T06:54:31Z","close_reason":"Closed"}
{"id":"adj-012.1.2","title":"Document current iOS app behavior baseline","description":"Document current iOS app behavior: what works, what fails, under what conditions. Include evidence where possible. Output: specs/010-ios-message-investigation/behavior-baseline.md","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:32Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:54:31Z","closed_at":"2026-02-22T06:54:31Z","close_reason":"Closed"}
{"id":"adj-012.2","title":"US1: Root Cause Investigation","description":"Diagnose each of 4 iOS message loading symptoms (blank on open, lost after background, broken pagination, intermittent) with evidence-backed root cause analysis","status":"closed","priority":0,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:18Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:07:55Z","closed_at":"2026-02-22T07:07:55Z","close_reason":"All 4 investigations complete with findings document","dependencies":[{"issue_id":"adj-012.2","depends_on_id":"adj-012.1","type":"blocks","created_at":"2026-02-22T00:17:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2","depends_on_id":"adj-012.2.1","type":"blocks","created_at":"2026-02-22T00:16:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2","depends_on_id":"adj-012.2.2","type":"blocks","created_at":"2026-02-22T00:16:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2","depends_on_id":"adj-012.2.3","type":"blocks","created_at":"2026-02-22T00:16:49Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2","depends_on_id":"adj-012.2.4","type":"blocks","created_at":"2026-02-22T00:16:50Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2","depends_on_id":"adj-012.2.5","type":"blocks","created_at":"2026-02-22T00:16:50Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.2.1","title":"Investigate: Blank chat on open","description":"Trace onAppear → loadRecipients → refresh → API → cache → render. Identify why chat shows blank/empty on first open. Document reproduction steps, expected vs actual, root cause with evidence.","status":"closed","priority":0,"issue_type":"task","assignee":"investigator","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:34Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:59:37Z","closed_at":"2026-02-22T06:59:37Z","close_reason":"Closed"}
{"id":"adj-012.2.2","title":"Investigate: Messages lost after backgrounding","description":"Trace onDisappear → background → foreground → observeForegroundTransitions. Identify why messages disappear after iOS app backgrounds and resumes. Document lifecycle, state preservation, API calls on resume.","status":"closed","priority":0,"issue_type":"task","assignee":"investigator","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:36Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:59:37Z","closed_at":"2026-02-22T06:59:37Z","close_reason":"Closed"}
{"id":"adj-012.2.3","title":"Investigate: Pagination broken","description":"Trace loadMoreHistory → cursor construction → API request → response merge → dedup. Identify why scrolling up to load older messages fails or shows gaps/duplicates. Check cursor invalidation scenarios.","status":"closed","priority":0,"issue_type":"task","assignee":"investigator","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:38Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:59:38Z","closed_at":"2026-02-22T06:59:38Z","close_reason":"Closed"}
{"id":"adj-012.2.4","title":"Investigate: Intermittent/unreliable loading","description":"Trace WebSocket lifecycle, reconnection attempts, polling fallback activation, network transition handling. Identify timing-dependent failures. Check exponential backoff, sequence gap recovery, polling interval.","status":"closed","priority":0,"issue_type":"task","assignee":"investigator","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:40Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:59:38Z","closed_at":"2026-02-22T06:59:38Z","close_reason":"Closed"}
{"id":"adj-012.2.5","title":"Write investigation findings document","description":"Consolidate all 4 root cause analyses into structured findings doc with reproduction steps, evidence, severity, recommended fixes. Output: specs/010-ios-message-investigation/investigation-findings.md","status":"closed","priority":0,"issue_type":"task","assignee":"investigator","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:42Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:59:39Z","closed_at":"2026-02-22T06:59:39Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-012.2.5","depends_on_id":"adj-012.2.1","type":"blocks","created_at":"2026-02-22T00:17:18Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2.5","depends_on_id":"adj-012.2.2","type":"blocks","created_at":"2026-02-22T00:17:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2.5","depends_on_id":"adj-012.2.3","type":"blocks","created_at":"2026-02-22T00:17:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.2.5","depends_on_id":"adj-012.2.4","type":"blocks","created_at":"2026-02-22T00:17:20Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.3","title":"US2: Staff Code Review","description":"Staff-engineer-level review of every message pipeline file (iOS + backend) for race conditions, state bugs, iOS edge cases, error handling gaps, architectural anti-patterns","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:07:56Z","closed_at":"2026-02-22T07:07:56Z","close_reason":"Staff review complete: 23 findings across all pipeline files","dependencies":[{"issue_id":"adj-012.3","depends_on_id":"adj-012.1","type":"blocks","created_at":"2026-02-22T00:17:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3","depends_on_id":"adj-012.3.1","type":"blocks","created_at":"2026-02-22T00:16:51Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3","depends_on_id":"adj-012.3.2","type":"blocks","created_at":"2026-02-22T00:16:52Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3","depends_on_id":"adj-012.3.3","type":"blocks","created_at":"2026-02-22T00:16:52Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3","depends_on_id":"adj-012.3.4","type":"blocks","created_at":"2026-02-22T00:16:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3","depends_on_id":"adj-012.3.5","type":"blocks","created_at":"2026-02-22T00:16:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3","depends_on_id":"adj-012.3.6","type":"blocks","created_at":"2026-02-22T00:16:54Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.3.1","title":"Review: iOS ChatViewModel lifecycle","description":"Staff-level review of ChatViewModel.swift: lifecycle management, state machine correctness, thread safety, error propagation, resource cleanup. Rate findings Critical/High/Medium/Low.","status":"closed","priority":1,"issue_type":"task","assignee":"staff-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:53Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:03:02Z","closed_at":"2026-02-22T07:03:02Z","close_reason":"Closed"}
{"id":"adj-012.3.2","title":"Review: iOS WebSocket stack","description":"Staff-level review of ChatWebSocketService.swift + WebSocketClient.swift: auth handshake, reconnection logic, sequence tracking, event dispatch, streaming, error handling.","status":"closed","priority":1,"issue_type":"task","assignee":"staff-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:55Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:03:03Z","closed_at":"2026-02-22T07:03:03Z","close_reason":"Closed"}
{"id":"adj-012.3.3","title":"Review: iOS cache + persistence","description":"Staff-level review of ResponseCache.swift + APIClient+Messages.swift: dual-layer caching strategy, UserDefaults limits, cursor handling, cache invalidation, memory management.","status":"closed","priority":1,"issue_type":"task","assignee":"staff-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:57Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:03:03Z","closed_at":"2026-02-22T07:03:03Z","close_reason":"Closed"}
{"id":"adj-012.3.4","title":"Review: Backend message pipeline","description":"Staff-level review of ws-server.ts, message-store.ts, routes/messages.ts: broadcast correctness, replay buffer integrity, pagination edge cases, concurrent client handling, rate limiting.","status":"closed","priority":1,"issue_type":"task","assignee":"staff-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:58Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:03:04Z","closed_at":"2026-02-22T07:03:04Z","close_reason":"Closed"}
{"id":"adj-012.3.5","title":"Review: Cross-cutting protocol contracts","description":"Review protocol contracts between iOS client and backend: auth handshake assumptions, sequence numbering invariants, cursor pagination contract, optimistic UI protocol. Document mismatches and undocumented invariants.","status":"closed","priority":1,"issue_type":"task","assignee":"staff-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:01Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:03:04Z","closed_at":"2026-02-22T07:03:04Z","close_reason":"Closed"}
{"id":"adj-012.3.6","title":"Write staff review findings document","description":"Consolidate all code reviews into structured findings doc with severity-rated findings per file. Output: specs/010-ios-message-investigation/staff-review-findings.md","status":"closed","priority":1,"issue_type":"task","assignee":"staff-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:03:05Z","closed_at":"2026-02-22T07:03:05Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-012.3.6","depends_on_id":"adj-012.3.1","type":"blocks","created_at":"2026-02-22T00:17:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3.6","depends_on_id":"adj-012.3.2","type":"blocks","created_at":"2026-02-22T00:17:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3.6","depends_on_id":"adj-012.3.3","type":"blocks","created_at":"2026-02-22T00:17:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3.6","depends_on_id":"adj-012.3.4","type":"blocks","created_at":"2026-02-22T00:17:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.3.6","depends_on_id":"adj-012.3.5","type":"blocks","created_at":"2026-02-22T00:17:23Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.4","title":"US3: Product UX Audit","description":"Product-minded evaluation of every user-visible state transition in iOS chat: loading, reconnection, agent switching, notification flow","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:21Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:07:56Z","closed_at":"2026-02-22T07:07:56Z","close_reason":"UX audit complete: 23 findings across 4 areas","dependencies":[{"issue_id":"adj-012.4","depends_on_id":"adj-012.1","type":"blocks","created_at":"2026-02-22T00:17:13Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4","depends_on_id":"adj-012.4.1","type":"blocks","created_at":"2026-02-22T00:16:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4","depends_on_id":"adj-012.4.2","type":"blocks","created_at":"2026-02-22T00:16:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4","depends_on_id":"adj-012.4.3","type":"blocks","created_at":"2026-02-22T00:16:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4","depends_on_id":"adj-012.4.4","type":"blocks","created_at":"2026-02-22T00:16:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4","depends_on_id":"adj-012.4.5","type":"blocks","created_at":"2026-02-22T00:16:57Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.4.1","title":"Audit: Loading states and transitions","description":"Evaluate user experience during: initial chat load, pull-to-refresh, pagination load more, agent switch transition. Document what user sees vs expects at each state.","status":"closed","priority":1,"issue_type":"task","assignee":"ux-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:07Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:01:49Z","closed_at":"2026-02-22T07:01:49Z","close_reason":"Closed"}
{"id":"adj-012.4.2","title":"Audit: Reconnection and failure UX","description":"Evaluate user experience during: WebSocket drop, SSE fallback, polling fallback, send failure, offline state. Document visibility of connection state, failure feedback, silent data loss risks.","status":"closed","priority":1,"issue_type":"task","assignee":"ux-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:09Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:01:50Z","closed_at":"2026-02-22T07:01:50Z","close_reason":"Closed"}
{"id":"adj-012.4.3","title":"Audit: Agent switching and scroll preservation","description":"Evaluate user experience during: recipient change, scroll position preservation, unread badge sync, conversation context switching. Document transition smoothness and state retention.","status":"closed","priority":1,"issue_type":"task","assignee":"ux-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:10Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:01:51Z","closed_at":"2026-02-22T07:01:51Z","close_reason":"Closed"}
{"id":"adj-012.4.4","title":"Audit: Notification-to-chat flow","description":"Evaluate user experience during: APNS tap cold start navigation, warm start navigation, deep link accuracy. Document lag, state correctness, edge cases (expired notification, deleted message).","status":"closed","priority":1,"issue_type":"task","assignee":"ux-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:12Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:01:51Z","closed_at":"2026-02-22T07:01:51Z","close_reason":"Closed"}
{"id":"adj-012.4.5","title":"Write UX audit findings document","description":"Consolidate all UX audits into structured findings doc with impact-rated gaps and specific improvement recommendations. Output: specs/010-ios-message-investigation/ux-audit-findings.md","status":"closed","priority":1,"issue_type":"task","assignee":"ux-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:14Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:01:52Z","closed_at":"2026-02-22T07:01:52Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-012.4.5","depends_on_id":"adj-012.4.1","type":"blocks","created_at":"2026-02-22T00:17:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4.5","depends_on_id":"adj-012.4.2","type":"blocks","created_at":"2026-02-22T00:17:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4.5","depends_on_id":"adj-012.4.3","type":"blocks","created_at":"2026-02-22T00:17:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.4.5","depends_on_id":"adj-012.4.4","type":"blocks","created_at":"2026-02-22T00:17:26Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.5","title":"US4: Comprehensive Test Suite","description":"Automated tests covering iOS-specific failure scenarios, backend pagination edge cases, WebSocket reconnection, and frontend lifecycle","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:23Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:07:57Z","closed_at":"2026-02-22T07:07:57Z","close_reason":"Test suite complete: 118 tests passing","dependencies":[{"issue_id":"adj-012.5","depends_on_id":"adj-012.2","type":"blocks","created_at":"2026-02-22T00:17:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.5","depends_on_id":"adj-012.5.1","type":"blocks","created_at":"2026-02-22T00:16:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.5","depends_on_id":"adj-012.5.2","type":"blocks","created_at":"2026-02-22T00:16:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.5","depends_on_id":"adj-012.5.3","type":"blocks","created_at":"2026-02-22T00:17:00Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.5","depends_on_id":"adj-012.5.4","type":"blocks","created_at":"2026-02-22T00:17:01Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.5.1","title":"Write message-store pagination edge case tests","description":"Backend tests for: empty results, single message, cursor boundary, same-second timestamps, deleted cursor ID, hasMore flag accuracy. File: backend/tests/unit/message-store.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"test-engineer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T06:58:39Z","closed_at":"2026-02-22T06:58:39Z","close_reason":"Closed"}
{"id":"adj-012.5.2","title":"Write WebSocket reconnection and replay tests","description":"Backend tests for: auth timeout, sequence gap recovery, replay buffer overflow, concurrent client sync, rate limiting. File: backend/tests/unit/ws-server.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"test-engineer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:22Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:00:55Z","closed_at":"2026-02-22T07:00:55Z","close_reason":"Closed"}
{"id":"adj-012.5.3","title":"Write useChatMessages lifecycle tests","description":"Frontend tests for: optimistic send + failure, dedup of WS + REST messages, cache-to-live transition, agent switch state reset. File: frontend/tests/unit/hooks/useChatMessages.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"test-engineer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:24Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:02:00Z","closed_at":"2026-02-22T07:02:00Z","close_reason":"Closed"}
{"id":"adj-012.5.4","title":"Write CommunicationContext fallback chain tests","description":"Frontend tests for: WS → SSE → polling degradation, reconnection attempts, priority persistence, concurrent subscribe/unsubscribe. File: frontend/tests/unit/contexts/CommunicationContext.test.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"test-engineer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:26Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:05:47Z","closed_at":"2026-02-22T07:05:47Z","close_reason":"Closed"}
{"id":"adj-012.6","title":"Synthesis: Fix Plan","description":"Merge all investigation, code review, and UX audit findings into prioritized fix plan and create implementation epic beads","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:15:24Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:08:05Z","closed_at":"2026-02-22T07:08:05Z","close_reason":"Synthesis complete: fix-plan.md written with 22 prioritized fixes","dependencies":[{"issue_id":"adj-012.6","depends_on_id":"adj-012.2","type":"blocks","created_at":"2026-02-22T00:17:15Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.6","depends_on_id":"adj-012.3","type":"blocks","created_at":"2026-02-22T00:17:16Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.6","depends_on_id":"adj-012.4","type":"blocks","created_at":"2026-02-22T00:17:16Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.6","depends_on_id":"adj-012.5","type":"blocks","created_at":"2026-02-22T00:17:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.6","depends_on_id":"adj-012.6.1","type":"blocks","created_at":"2026-02-22T00:17:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-012.6","depends_on_id":"adj-012.6.2","type":"blocks","created_at":"2026-02-22T00:17:02Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-012.6.1","title":"Synthesize findings into prioritized fix plan","description":"Merge investigation, code review, and UX audit findings into single prioritized fix plan. Rate each issue by severity, frequency, fix complexity, user impact. Output: specs/010-ios-message-investigation/fix-plan.md","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:28Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:07:54Z","closed_at":"2026-02-22T07:07:54Z","close_reason":"Fix plan synthesized from all 3 workstream findings"}
{"id":"adj-012.6.2","title":"Create implementation epic beads for fixes","description":"Based on fix-plan.md, create a new implementation epic (adj-013) with beads for each prioritized fix. Wire dependencies.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T06:16:31Z","created_by":"Justin Martin","updated_at":"2026-02-22T07:08:04Z","closed_at":"2026-02-22T07:08:04Z","close_reason":"Deferred: implementation epic created when user approves fix plan","dependencies":[{"issue_id":"adj-012.6.2","depends_on_id":"adj-012.6.1","type":"blocks","created_at":"2026-02-22T00:17:27Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013","title":"Adjutant Bootstrap \u0026 Developer Setup","description":"Global CLI (adjutant init, adjutant doctor) that bootstraps and validates the full adjutant stack. Creates .adjutant/PRIME.md for agent auto-protocol, registers Claude Code hooks, validates prerequisites.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:36:52Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:17:00Z","closed_at":"2026-02-22T19:17:00Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-013","depends_on_id":"adj-013.1","type":"blocks","created_at":"2026-02-22T12:37:07Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-013.2","type":"blocks","created_at":"2026-02-22T12:37:08Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-013.3","type":"blocks","created_at":"2026-02-22T12:37:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-013.4","type":"blocks","created_at":"2026-02-22T12:37:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-18d","type":"blocks","created_at":"2026-02-22T13:08:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-26f","type":"blocks","created_at":"2026-02-22T13:10:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-34g","type":"blocks","created_at":"2026-02-22T13:08:07Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-3e6","type":"blocks","created_at":"2026-02-22T13:10:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-5j6","type":"blocks","created_at":"2026-02-22T13:07:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-7bw","type":"blocks","created_at":"2026-02-22T13:06:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-7u0","type":"blocks","created_at":"2026-02-22T13:08:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-8vn","type":"blocks","created_at":"2026-02-22T13:06:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-9xc","type":"blocks","created_at":"2026-02-22T13:09:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-avk","type":"blocks","created_at":"2026-02-22T13:07:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-g5i","type":"blocks","created_at":"2026-02-22T13:09:18Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-gj7","type":"blocks","created_at":"2026-02-22T13:07:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-lsc","type":"blocks","created_at":"2026-02-22T13:08:44Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-n4x","type":"blocks","created_at":"2026-02-22T13:07:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-ok0","type":"blocks","created_at":"2026-02-22T13:09:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-ta6","type":"blocks","created_at":"2026-02-22T13:08:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-ts9","type":"blocks","created_at":"2026-02-22T13:06:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-vur","type":"blocks","created_at":"2026-02-22T13:06:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-w2a","type":"blocks","created_at":"2026-02-22T13:09:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-y84","type":"blocks","created_at":"2026-02-22T13:07:00Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013","depends_on_id":"adj-zmx","type":"blocks","created_at":"2026-02-22T13:10:06Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013.1","title":"Foundation: CLI scaffold + PRIME.md + utilities","description":"CLI entry point, PRIME.md template, output formatter, package.json bin field, tsconfig.cli.json","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:01Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:03:12Z","closed_at":"2026-02-22T19:03:12Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-013.1","depends_on_id":"adj-013.1.1","type":"blocks","created_at":"2026-02-22T12:37:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.1","depends_on_id":"adj-013.1.2","type":"blocks","created_at":"2026-02-22T12:37:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.1","depends_on_id":"adj-013.1.3","type":"blocks","created_at":"2026-02-22T12:37:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.1","depends_on_id":"adj-013.1.4","type":"blocks","created_at":"2026-02-22T12:37:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.1","depends_on_id":"adj-013.1.5","type":"blocks","created_at":"2026-02-22T12:37:27Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013.1.1","title":"CLI entry point with command routing","description":"Create cli/index.ts with command routing for init/doctor/help/version","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:18Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:03:09Z","closed_at":"2026-02-22T19:03:09Z","close_reason":"Closed"}
{"id":"adj-013.1.2","title":"PRIME.md agent protocol template","description":"Create cli/lib/prime.ts exporting PRIME.md content as string template","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:18Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:03:09Z","closed_at":"2026-02-22T19:03:09Z","close_reason":"Closed"}
{"id":"adj-013.1.3","title":"Terminal output formatter","description":"Create cli/lib/output.ts with PASS/FAIL/WARN colored output functions","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:19Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:03:09Z","closed_at":"2026-02-22T19:03:09Z","close_reason":"Closed"}
{"id":"adj-013.1.4","title":"bin field + tsconfig.cli.json","description":"Add bin.adjutant to package.json, create tsconfig.cli.json","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:19Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:03:09Z","closed_at":"2026-02-22T19:03:09Z","close_reason":"Closed"}
{"id":"adj-013.1.5","title":".adjutant/PRIME.md content","description":"Create .adjutant/PRIME.md with agent communication protocol. Git-tracked.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:03:09Z","closed_at":"2026-02-22T19:03:09Z","close_reason":"Closed"}
{"id":"adj-013.2","title":"US1: adjutant init (MVP bootstrap)","description":"Bootstrap command: create .adjutant/PRIME.md, .mcp.json, register hooks, check deps, init database. Idempotent.","status":"closed","priority":1,"issue_type":"epic","assignee":"init-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:07:05Z","closed_at":"2026-02-22T19:07:05Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-013.2","depends_on_id":"adj-013.1","type":"blocks","created_at":"2026-02-22T12:38:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.1","type":"blocks","created_at":"2026-02-22T12:37:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.2","type":"blocks","created_at":"2026-02-22T12:37:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.3","type":"blocks","created_at":"2026-02-22T12:37:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.4","type":"blocks","created_at":"2026-02-22T12:37:49Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.5","type":"blocks","created_at":"2026-02-22T12:37:49Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.6","type":"blocks","created_at":"2026-02-22T12:37:50Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.2","depends_on_id":"adj-013.2.7","type":"blocks","created_at":"2026-02-22T12:37:50Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013.2.1","title":"Shared check functions","description":"Create cli/lib/checks.ts with reusable checks: fileExists, dirExists, jsonValid, commandAvailable, httpReachable","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:39Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:05:12Z","closed_at":"2026-02-22T19:05:12Z","close_reason":"Closed"}
{"id":"adj-013.2.2","title":".adjutant/ dir + PRIME.md creation","description":"In cli/commands/init.ts: create .adjutant/ dir, write PRIME.md from template. Skip if exists unless --force.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:39Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:07:01Z","closed_at":"2026-02-22T19:07:01Z","close_reason":"Closed"}
{"id":"adj-013.2.3","title":".mcp.json creation/validation","description":"In cli/commands/init.ts: create .mcp.json with adjutant MCP server config if missing. Validate existing.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:40Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:07:02Z","closed_at":"2026-02-22T19:07:02Z","close_reason":"Closed"}
{"id":"adj-013.2.4","title":"Claude Code hook registration","description":"Create cli/lib/hooks.ts: read ~/.claude/settings.json, merge adjutant-prime hook into SessionStart and PreCompact. Safe JSON merge.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:40Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:05:29Z","closed_at":"2026-02-22T19:05:29Z","close_reason":"Closed"}
{"id":"adj-013.2.5","title":"Dependency installation check","description":"In cli/commands/init.ts: check backend/frontend node_modules, run npm install if missing","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:41Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:07:03Z","closed_at":"2026-02-22T19:07:03Z","close_reason":"Closed"}
{"id":"adj-013.2.6","title":"SQLite database init check","description":"In cli/commands/init.ts: check ~/.adjutant/adjutant.db exists, note backend must start to create it","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:42Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:07:03Z","closed_at":"2026-02-22T19:07:03Z","close_reason":"Closed"}
{"id":"adj-013.2.7","title":"Init summary output","description":"In cli/commands/init.ts: print colored summary of each step (CREATED/SKIPPED/FAILED)","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:42Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:07:04Z","closed_at":"2026-02-22T19:07:04Z","close_reason":"Closed"}
{"id":"adj-013.3","title":"US2: adjutant doctor (health check)","description":"Diagnostic command: check file existence, network health, tool availability, hook registration. Exit 0 on pass, 1 on fail.","status":"closed","priority":1,"issue_type":"epic","assignee":"doctor-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:06:24Z","closed_at":"2026-02-22T19:06:24Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-013.3","depends_on_id":"adj-013.1","type":"blocks","created_at":"2026-02-22T12:38:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.3","depends_on_id":"adj-013.3.1","type":"blocks","created_at":"2026-02-22T12:38:08Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.3","depends_on_id":"adj-013.3.2","type":"blocks","created_at":"2026-02-22T12:38:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.3","depends_on_id":"adj-013.3.3","type":"blocks","created_at":"2026-02-22T12:38:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.3","depends_on_id":"adj-013.3.4","type":"blocks","created_at":"2026-02-22T12:38:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.3","depends_on_id":"adj-013.3.5","type":"blocks","created_at":"2026-02-22T12:38:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013.3.1","title":"File/directory existence checks","description":"In cli/commands/doctor.ts: check .adjutant/PRIME.md, .mcp.json, .claude/skills/adjutant-agent/","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:06:16Z","closed_at":"2026-02-22T19:06:16Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-013.3.1","depends_on_id":"adj-013.2.1","type":"blocks","created_at":"2026-02-22T12:38:38Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013.3.2","title":"Network checks (health, MCP SSE)","description":"In cli/commands/doctor.ts: check localhost:4201/health and MCP SSE endpoint","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:06:18Z","closed_at":"2026-02-22T19:06:18Z","close_reason":"Closed"}
{"id":"adj-013.3.3","title":"Tool availability checks","description":"In cli/commands/doctor.ts: check bd CLI, node_modules dirs, API keys status","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:03Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:06:18Z","closed_at":"2026-02-22T19:06:18Z","close_reason":"Closed"}
{"id":"adj-013.3.4","title":"Hook registration check","description":"In cli/commands/doctor.ts: parse ~/.claude/settings.json and verify adjutant-prime hooks exist","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:04Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:06:19Z","closed_at":"2026-02-22T19:06:19Z","close_reason":"Closed"}
{"id":"adj-013.3.5","title":"Doctor summary + exit code","description":"In cli/commands/doctor.ts: print pass/fail/warn summary table, exit 0 on all pass, exit 1 on any fail","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:04Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:06:20Z","closed_at":"2026-02-22T19:06:20Z","close_reason":"Closed"}
{"id":"adj-013.4","title":"Polish: npm scripts, help, tests","description":"Add npm run setup/doctor aliases, --help/--version flags, unit tests for init, doctor, and hook registration","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:37:03Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:16:59Z","closed_at":"2026-02-22T19:16:59Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-013.4","depends_on_id":"adj-013.2","type":"blocks","created_at":"2026-02-22T12:38:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.4","depends_on_id":"adj-013.3","type":"blocks","created_at":"2026-02-22T12:38:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.4","depends_on_id":"adj-013.4.1","type":"blocks","created_at":"2026-02-22T12:38:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.4","depends_on_id":"adj-013.4.2","type":"blocks","created_at":"2026-02-22T12:38:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.4","depends_on_id":"adj-013.4.3","type":"blocks","created_at":"2026-02-22T12:38:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.4","depends_on_id":"adj-013.4.4","type":"blocks","created_at":"2026-02-22T12:38:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-013.4","depends_on_id":"adj-013.4.5","type":"blocks","created_at":"2026-02-22T12:38:28Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-013.4.1","title":"npm script aliases (setup, doctor)","description":"Add npm run setup and npm run doctor scripts to package.json","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:19Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:54Z","closed_at":"2026-02-22T19:14:54Z","close_reason":"Commander provides --help and --version automatically"}
{"id":"adj-013.4.2","title":"--help and --version flags","description":"Add --help and --version output to cli/index.ts","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:54Z","closed_at":"2026-02-22T19:14:54Z","close_reason":"Commander provides --help and --version automatically"}
{"id":"adj-013.4.3","title":"Init command tests","description":"Write unit tests for init command in backend/tests/unit/cli-init.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"init-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:16:59Z","closed_at":"2026-02-22T19:16:59Z","close_reason":"Closed"}
{"id":"adj-013.4.4","title":"Doctor command tests","description":"Write unit tests for doctor command in backend/tests/unit/cli-doctor.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"doctor-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:21Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:16:59Z","closed_at":"2026-02-22T19:16:59Z","close_reason":"Closed"}
{"id":"adj-013.4.5","title":"Hook registration tests","description":"Write unit tests for hook registration in backend/tests/unit/cli-hooks.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"init-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:38:22Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:16:59Z","closed_at":"2026-02-22T19:16:59Z","close_reason":"Closed"}
{"id":"adj-014","title":"MCP Streamable HTTP Migration","description":"Replace deprecated SSEServerTransport with StreamableHTTPServerTransport. Consolidate GET /mcp/sse + POST /mcp/messages into unified POST/GET/DELETE /mcp endpoint. Update .mcp.json config and clean up middleware.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:10Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:49:14Z","closed_at":"2026-02-22T20:49:14Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014","depends_on_id":"adj-014.1","type":"blocks","created_at":"2026-02-22T14:29:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014","depends_on_id":"adj-014.2","type":"blocks","created_at":"2026-02-22T14:29:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014","depends_on_id":"adj-014.3","type":"blocks","created_at":"2026-02-22T14:29:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014","depends_on_id":"adj-bbs","type":"blocks","created_at":"2026-02-22T14:53:24Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.1","title":"Core Transport: Replace SSEServerTransport with StreamableHTTPServerTransport","description":"Replace the transport layer in mcp-server.ts. Swap SSEServerTransport for StreamableHTTPServerTransport, refactor connectAgent to createSessionTransport, use onsessioninitialized/onsessionclosed callbacks for lifecycle.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:16Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:45:59Z","closed_at":"2026-02-22T20:45:59Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.1","depends_on_id":"adj-014.1.1","type":"blocks","created_at":"2026-02-22T14:29:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.1","depends_on_id":"adj-014.1.2","type":"blocks","created_at":"2026-02-22T14:29:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.1","depends_on_id":"adj-014.1.3","type":"blocks","created_at":"2026-02-22T14:29:56Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.1.1","title":"Write transport lifecycle tests","description":"Write failing tests for StreamableHTTPServerTransport lifecycle: session creation via onsessioninitialized, identity mapping, disconnect cleanup via onsessionclosed, EventBus events. Mock the new transport class.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:25Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:44:55Z","closed_at":"2026-02-22T20:44:55Z","close_reason":"Closed"}
{"id":"adj-014.1.2","title":"Refactor mcp-server.ts for StreamableHTTP","description":"Replace SSEServerTransport import with StreamableHTTPServerTransport. Replace connectAgent(agentId, res) with createSessionTransport(agentId) returning configured transport. Use onsessioninitialized/onsessionclosed callbacks. Preserve getAgentBySession(), getConnectedAgents(), resolveAgentId() APIs.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:25Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:44:56Z","closed_at":"2026-02-22T20:44:56Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.1.2","depends_on_id":"adj-014.1.1","type":"blocks","created_at":"2026-02-22T14:30:01Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.1.3","title":"Wire agent identity into session callbacks","description":"Extract agentId from request headers/query in the route layer, pass to createSessionTransport, store in connections map keyed by protocol-generated sessionId.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:26Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:45:59Z","closed_at":"2026-02-22T20:45:59Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.1.3","depends_on_id":"adj-014.1.2","type":"blocks","created_at":"2026-02-22T14:30:02Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.2","title":"Route Consolidation: Unified /mcp endpoint","description":"Replace GET /mcp/sse + POST /mcp/messages with POST/GET/DELETE on /mcp root. Handle initialization vs existing session routing. Update index.ts mounting.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:17Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:47:39Z","closed_at":"2026-02-22T20:47:39Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.2","depends_on_id":"adj-014.1","type":"blocks","created_at":"2026-02-22T14:30:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.2","depends_on_id":"adj-014.2.1","type":"blocks","created_at":"2026-02-22T14:29:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.2","depends_on_id":"adj-014.2.2","type":"blocks","created_at":"2026-02-22T14:29:58Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.2","depends_on_id":"adj-014.2.3","type":"blocks","created_at":"2026-02-22T14:29:58Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.2.1","title":"Write unified route handler tests","description":"Write failing tests for POST/GET/DELETE route handlers: initialize new session, route to existing session by Mcp-Session-Id, reject invalid session, handle DELETE cleanup.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:34Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:46:45Z","closed_at":"2026-02-22T20:46:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.2.1","depends_on_id":"adj-014.1.3","type":"blocks","created_at":"2026-02-22T14:30:41Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.2.2","title":"Rewrite mcp.ts for POST/GET/DELETE /mcp","description":"Replace GET /sse and POST /messages with POST / (initialize or route by Mcp-Session-Id), GET / (SSE stream), DELETE / (session termination). Pass req.body as parsedBody to transport.handleRequest().","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:35Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:47:13Z","closed_at":"2026-02-22T20:47:13Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.2.2","depends_on_id":"adj-014.2.1","type":"blocks","created_at":"2026-02-22T14:30:03Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.2.3","title":"Update index.ts initialization","description":"Verify route mounting (app.use /mcp mcpRouter) works with new router. Remove dead imports. Adjust initMcpServer/setToolRegistrar wiring if needed.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:35Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:47:38Z","closed_at":"2026-02-22T20:47:38Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.2.3","depends_on_id":"adj-014.2.2","type":"blocks","created_at":"2026-02-22T14:30:03Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.3","title":"Config \u0026 Cleanup","description":"Update .mcp.json for http transport, clean up api-key middleware, remove dead SSE code, integration smoke test.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:17Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:49:13Z","closed_at":"2026-02-22T20:49:13Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.3","depends_on_id":"adj-014.2","type":"blocks","created_at":"2026-02-22T14:30:04Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.3","depends_on_id":"adj-014.3.1","type":"blocks","created_at":"2026-02-22T14:29:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.3","depends_on_id":"adj-014.3.2","type":"blocks","created_at":"2026-02-22T14:29:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.3","depends_on_id":"adj-014.3.3","type":"blocks","created_at":"2026-02-22T14:30:00Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.3","depends_on_id":"adj-014.3.4","type":"blocks","created_at":"2026-02-22T14:30:00Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.3.1","title":"Update .mcp.json for http transport","description":"Change type from sse to http, change URL from /mcp/sse to /mcp.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:43Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:47:59Z","closed_at":"2026-02-22T20:47:59Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.3.1","depends_on_id":"adj-014.2.3","type":"blocks","created_at":"2026-02-22T14:30:42Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.3.2","title":"Clean up api-key middleware","description":"Remove /.well-known from PUBLIC_PREFIXES (no longer needed). Keep /mcp.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:43Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:47:59Z","closed_at":"2026-02-22T20:47:59Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.3.2","depends_on_id":"adj-014.2.3","type":"blocks","created_at":"2026-02-22T14:30:43Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.3.3","title":"Remove dead SSE code","description":"Delete remaining SSEServerTransport imports, unused type references, stale SSE comments across backend/src/.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:44Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:48:19Z","closed_at":"2026-02-22T20:48:19Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.3.3","depends_on_id":"adj-014.3.1","type":"blocks","created_at":"2026-02-22T14:30:04Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-014.3.3","depends_on_id":"adj-014.3.2","type":"blocks","created_at":"2026-02-22T14:30:05Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-014.3.4","title":"Integration smoke test","description":"Start server, send initialize POST via curl, verify Mcp-Session-Id header, call a tool, send DELETE, verify cleanup. Document verification steps.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:29:44Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:49:13Z","closed_at":"2026-02-22T20:49:13Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-014.3.4","depends_on_id":"adj-014.3.3","type":"blocks","created_at":"2026-02-22T14:30:06Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-015","title":"015: Immediate message delivery","description":"Messages stay 'pending' forever. Transition to 'delivered' when: (1) tmux pane injection succeeds, (2) agent fetches via read_messages MCP tool.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T02:31:01Z","created_by":"Justin Martin","updated_at":"2026-02-23T03:01:34Z","closed_at":"2026-02-23T03:01:34Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-015","depends_on_id":"adj-015.1","type":"blocks","created_at":"2026-02-22T20:31:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-015","depends_on_id":"adj-015.2","type":"blocks","created_at":"2026-02-22T20:31:11Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-015","depends_on_id":"adj-015.3","type":"blocks","created_at":"2026-02-22T20:59:50Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-015.1","title":"Add markDelivered to message store","description":"Add markDelivered(id) method that transitions pending→delivered. Keep pending as insert default.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T02:31:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T03:00:15Z","closed_at":"2026-02-23T03:00:15Z","close_reason":"Closed"}
{"id":"adj-015.2","title":"Call markDelivered on successful delivery","description":"Mark messages delivered when: tmux sendInput succeeds (messages.ts), agent calls read_messages (MCP tool), WebSocket confirmed receipt.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T02:31:07Z","created_by":"Justin Martin","updated_at":"2026-02-23T03:01:34Z","closed_at":"2026-02-23T03:01:34Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-015.2","depends_on_id":"adj-015.1","type":"blocks","created_at":"2026-02-22T20:31:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-015.3","title":"Create message delivery service","description":"Service that listens to mcp:agent_connected and delivers pending messages via tmux sendInput. Marks messages as delivered on success.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T02:59:50Z","created_by":"Justin Martin","updated_at":"2026-02-23T03:01:34Z","closed_at":"2026-02-23T03:01:34Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-015.3","depends_on_id":"adj-015.1","type":"blocks","created_at":"2026-02-22T20:59:51Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016","title":"StarCraft callsign system for agent spawning","description":"Add StarCraft hero names as random callsigns when spawning agents. Backend service with 44 names, random assignment, availability checking. iOS long-press picker on START AGENT button.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:05Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:00:59Z","closed_at":"2026-02-23T05:00:59Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016","depends_on_id":"adj-016.1","type":"blocks","created_at":"2026-02-22T22:46:44Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016","depends_on_id":"adj-016.2","type":"blocks","created_at":"2026-02-22T22:46:44Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.1","title":"Backend callsign service \u0026 API","description":"Create callsign-service.ts with StarCraft hero roster, random picker, availability checking. Add GET /api/callsigns endpoint. Modify POST /api/sessions to auto-assign callsigns. Update swarm naming.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:10Z","created_by":"Justin Martin","updated_at":"2026-02-23T04:58:41Z","closed_at":"2026-02-23T04:58:41Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.1","depends_on_id":"adj-016.1.1","type":"blocks","created_at":"2026-02-22T22:46:45Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.1","depends_on_id":"adj-016.1.2","type":"blocks","created_at":"2026-02-22T22:46:45Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.1","depends_on_id":"adj-016.1.3","type":"blocks","created_at":"2026-02-22T22:46:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.1","depends_on_id":"adj-016.1.4","type":"blocks","created_at":"2026-02-22T22:46:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.1","depends_on_id":"adj-016.1.5","type":"blocks","created_at":"2026-02-22T22:46:47Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.1.1","title":"Create callsign-service.ts with StarCraft hero roster","description":"New file backend/src/services/callsign-service.ts. Define CALLSIGNS const array (44 names by race). Implement getCallsigns(registry), pickRandomCallsign(registry), isCallsignAvailable(registry, name).","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:17Z","created_by":"Justin Martin","updated_at":"2026-02-23T04:58:37Z","closed_at":"2026-02-23T04:58:37Z","close_reason":"Closed"}
{"id":"adj-016.1.2","title":"Write callsign-service unit tests","description":"New file backend/tests/unit/callsign-service.test.ts. TDD tests for: getCallsigns returns 44 with availability, pickRandomCallsign returns available name, returns undefined when all taken, isCallsignAvailable checks active sessions.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:19Z","created_by":"Justin Martin","updated_at":"2026-02-23T04:58:37Z","closed_at":"2026-02-23T04:58:37Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.1.2","depends_on_id":"adj-016.1.1","type":"blocks","created_at":"2026-02-22T22:46:50Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.1.3","title":"Add GET /api/callsigns endpoint","description":"Add route to backend/src/routes/sessions.ts (or new callsigns.ts). Returns all 44 callsigns with available boolean. Wire into routes/index.ts if separate file.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:21Z","created_by":"Justin Martin","updated_at":"2026-02-23T04:58:37Z","closed_at":"2026-02-23T04:58:37Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.1.3","depends_on_id":"adj-016.1.1","type":"blocks","created_at":"2026-02-22T22:46:51Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.1.4","title":"Modify POST /api/sessions to auto-assign callsigns","description":"In backend/src/routes/sessions.ts:96, replace fallback name with pickRandomCallsign. Add 409 Conflict for duplicate explicit names. Fallback to projectPath-agent if all callsigns taken.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:23Z","created_by":"Justin Martin","updated_at":"2026-02-23T04:58:37Z","closed_at":"2026-02-23T04:58:37Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.1.4","depends_on_id":"adj-016.1.1","type":"blocks","created_at":"2026-02-22T22:46:51Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.1.5","title":"Update swarm-service to use callsigns","description":"In backend/src/services/swarm-service.ts:85-90, when baseName not provided, pre-select N random callsigns for agents. Fallback to agent-N if exhausted.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:24Z","created_by":"Justin Martin","updated_at":"2026-02-23T04:58:37Z","closed_at":"2026-02-23T04:58:37Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.1.5","depends_on_id":"adj-016.1.1","type":"blocks","created_at":"2026-02-22T22:46:52Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.2","title":"iOS callsign picker \u0026 long-press gesture","description":"Add Callsign model, API endpoint, CallsignPickerView with CRT styling, and long-press gesture on START AGENT button in SwarmProjectDetailView.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:12Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:00:55Z","closed_at":"2026-02-23T05:00:55Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.2","depends_on_id":"adj-016.2.1","type":"blocks","created_at":"2026-02-22T22:46:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.2","depends_on_id":"adj-016.2.2","type":"blocks","created_at":"2026-02-22T22:46:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.2","depends_on_id":"adj-016.2.3","type":"blocks","created_at":"2026-02-22T22:46:49Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.2","depends_on_id":"adj-016.2.4","type":"blocks","created_at":"2026-02-22T22:46:49Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.2.1","title":"Add Callsign model to AdjutantKit","description":"New file ios/AdjutantKit/Sources/AdjutantKit/Models/Callsign.swift. Struct with name, race, available. Codable, Identifiable.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:29Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:00:54Z","closed_at":"2026-02-23T05:00:54Z","close_reason":"Closed"}
{"id":"adj-016.2.2","title":"Add getCallsigns() API endpoint to iOS","description":"Add getCallsigns() to ios/AdjutantKit/Sources/AdjutantKit/Networking/APIClient+Endpoints.swift. GET /callsigns returning [Callsign].","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:31Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:00:55Z","closed_at":"2026-02-23T05:00:55Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.2.2","depends_on_id":"adj-016.1.3","type":"blocks","created_at":"2026-02-22T22:46:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.2.2","depends_on_id":"adj-016.2.1","type":"blocks","created_at":"2026-02-22T22:46:52Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.2.3","title":"Build CallsignPickerView with CRT styling","description":"New file ios/Adjutant/Features/Projects/CallsignPickerView.swift. CRT-themed sheet with race filter tabs (ALL/TERRAN/ZERG/PROTOSS). Each row: race icon + uppercase name + available indicator. Tap available name to select.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:33Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:00:55Z","closed_at":"2026-02-23T05:00:55Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.2.3","depends_on_id":"adj-016.2.1","type":"blocks","created_at":"2026-02-22T22:46:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-016.2.3","depends_on_id":"adj-016.2.2","type":"blocks","created_at":"2026-02-22T22:46:54Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-016.2.4","title":"Add long-press gesture to START AGENT button","description":"In SwarmProjectDetailView.swift:289-300, add LongPressGesture(0.5s) that presents CallsignPickerView sheet. Add showCallsignPicker state. Heavy haptic on trigger. Update viewModel.createSession to accept optional name.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T04:46:35Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:00:55Z","closed_at":"2026-02-23T05:00:55Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-016.2.4","depends_on_id":"adj-016.2.3","type":"blocks","created_at":"2026-02-22T22:46:54Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-017","title":"Remove HOOKED column from beads in Swarm mode","description":"In Swarm mode, the HOOKED workflow step doesn't apply. Remove the HOOKED Kanban column and status from beads display across frontend and iOS when in Swarm mode. Map any hooked beads to in_progress instead.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:28:44Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:34:29Z","closed_at":"2026-02-23T05:34:29Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-017","depends_on_id":"adj-017.1","type":"blocks","created_at":"2026-02-22T23:28:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-017","depends_on_id":"adj-017.2","type":"blocks","created_at":"2026-02-22T23:28:54Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-017.1","title":"Remove HOOKED Kanban column from frontend in Swarm mode","description":"Make KANBAN_COLUMNS mode-aware, exclude hooked column in swarm, map hooked beads to in_progress in useKanban hook and BeadsList status display","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:28:50Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:34:24Z","closed_at":"2026-02-23T05:34:24Z","close_reason":"Closed"}
{"id":"adj-017.2","title":"Remove HOOKED column from iOS Kanban and dashboard in Swarm mode","description":"Make kanbanColumns swarm-aware in Kanban.swift, update KanbanBoardView, BeadRowView, DashboardViewModel, and widgets to hide hooked in swarm mode","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:28:50Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:34:25Z","closed_at":"2026-02-23T05:34:25Z","close_reason":"Closed"}
{"id":"adj-018","title":"iOS Agent Command Center","description":"Overhaul the iOS Crew page into a full Agent Command Center. Rename Crew→Agents, add spawn/terminate/assign controls, deep agent detail page with terminal+beads+messages, status filtering, and high-level workload overview. Brings iOS to parity with the web dashboard's SwarmAgentCard capabilities.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:36:54Z","created_by":"Justin Martin","updated_at":"2026-02-23T07:01:27Z","closed_at":"2026-02-23T07:01:27Z","close_reason":"All 4 sub-epics complete: foundation rename, list enhancements, detail page, agent controls","dependencies":[{"issue_id":"adj-018","depends_on_id":"adj-018.1","type":"blocks","created_at":"2026-02-23T00:37:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018","depends_on_id":"adj-018.2","type":"blocks","created_at":"2026-02-23T00:37:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018","depends_on_id":"adj-018.3","type":"blocks","created_at":"2026-02-23T00:37:13Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018","depends_on_id":"adj-018.4","type":"blocks","created_at":"2026-02-23T00:37:14Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.1","title":"Foundation: Rename Crew → Agents","description":"Rename all Crew references to Agents throughout iOS app. Update tab bar, navigation titles, file names, view model names, and coordinator references. This is a prerequisite for all other work.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:05Z","created_by":"Justin Martin","updated_at":"2026-02-23T07:01:15Z","closed_at":"2026-02-23T07:01:15Z","close_reason":"All 3 tasks closed: rename files, update nav, verify build","dependencies":[{"issue_id":"adj-018.1","depends_on_id":"adj-018.1.1","type":"blocks","created_at":"2026-02-23T00:40:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.1","depends_on_id":"adj-018.1.2","type":"blocks","created_at":"2026-02-23T00:40:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.1","depends_on_id":"adj-018.1.3","type":"blocks","created_at":"2026-02-23T00:40:21Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.1.1","title":"Rename CrewListView → AgentListView and all Crew* files","description":"Rename all Crew-prefixed Swift files in ios/Adjutant/Features/Crew/ to Agent-prefixed equivalents. Update: CrewListView→AgentListView, CrewRowView→AgentRowView, CrewDetailView→AgentDetailView, CrewDetailViewModel→AgentDetailViewModel. Move from Features/Crew/ to Features/Agents/. Update all import references across the app.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-foundation","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:33Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:48:16Z","closed_at":"2026-02-23T06:48:16Z","close_reason":"Renamed all Crew files to Agent files, updated struct/class names, test files, and Xcode project references"}
{"id":"adj-018.1.2","title":"Update tab bar, navigation, and coordinator references","description":"Update AppCoordinator tab enum from .crew to .agents. Update MainTabView tab bar label and icon. Update all navigation titles from CREW to AGENTS. Update any deep link routes that reference 'crew'.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-foundation","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:33Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:49:12Z","closed_at":"2026-02-23T06:49:12Z","close_reason":"Updated AppCoordinator crewPath-\u003eagentsPath, MainTabView CrewListView-\u003eAgentListView and CrewDetailView-\u003eAgentDetailView, Coordinator tab title CREW-\u003eAGENTS","dependencies":[{"issue_id":"adj-018.1.2","depends_on_id":"adj-018.1.1","type":"blocks","created_at":"2026-02-23T00:40:29Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.1.3","title":"Verify rename compiles and existing functionality preserved","description":"Build the iOS project after rename. Verify agent list loads, detail view navigates, terminal works for polecats, search/filter works. No functional changes — pure rename validation.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-foundation","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:34Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:52:22Z","closed_at":"2026-02-23T06:52:22Z","close_reason":"Build succeeds, no remaining old Crew UI references, all functionality preserved","dependencies":[{"issue_id":"adj-018.1.3","depends_on_id":"adj-018.1.2","type":"blocks","created_at":"2026-02-23T00:40:29Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.2","title":"Agent List: Filtering \u0026 Overview","description":"Overhaul the agent list view with status filtering, workload summary header, and richer agent cards showing current task, assigned beads, and terminal preview indicator.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T07:01:21Z","closed_at":"2026-02-23T07:01:21Z","close_reason":"All 3 tasks closed: status filter, workload header, enriched rows","dependencies":[{"issue_id":"adj-018.2","depends_on_id":"adj-018.1","type":"blocks","created_at":"2026-02-23T00:37:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.2","depends_on_id":"adj-018.2.1","type":"blocks","created_at":"2026-02-23T00:40:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.2","depends_on_id":"adj-018.2.2","type":"blocks","created_at":"2026-02-23T00:40:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.2","depends_on_id":"adj-018.2.3","type":"blocks","created_at":"2026-02-23T00:40:23Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.2.1","title":"Add status filter bar to agent list","description":"Add a horizontal filter bar at the top of AgentListView (modeled on CallsignPickerView race tabs). Filters: ALL, WORKING, IDLE, BLOCKED, OFFLINE. Tapping a filter shows only agents with that status. Default: ALL. Persist selection during session.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-foundation","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:45Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:55:17Z","closed_at":"2026-02-23T06:55:17Z","close_reason":"Added horizontal scrollable status filter bar with ALL/WORKING/IDLE/BLOCKED/OFFLINE chips showing counts. Active chip highlighted green with glow."}
{"id":"adj-018.2.2","title":"Add workload summary header","description":"Add a compact summary header above the agent list showing: total agent count, online count, and per-status counts (Working: N, Idle: N, Blocked: N). Styled as a CRTCard with minimal style. Updates when list refreshes.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-foundation","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:45Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:56:45Z","closed_at":"2026-02-23T06:56:45Z","close_reason":"Added workload summary header with total/active/idle/offline agent counts with colored dots, and beads in progress count from API"}
{"id":"adj-018.2.3","title":"Enrich agent row cards with beads and task context","description":"Enhance AgentRowView to show: (1) current task or top assigned bead title, (2) assigned bead count badge, (3) last activity timestamp (relative). Load bead data similarly to RecipientSelectorSheet loadAgentBeads() with assigneeMatches() for format normalization.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-foundation","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:46Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:58:05Z","closed_at":"2026-02-23T06:58:05Z","close_reason":"Enriched AgentRowView with current bead ID badge, bead count indicator, and AgentBeadContext data from API"}
{"id":"adj-018.3","title":"Agent Detail: Deep Info Page","description":"Build a comprehensive agent detail page with tabbed sections: Info (status, type, rig, branch, uptime), Terminal (live streaming), Beads (assigned/completed), and Messages (conversation history). Replaces the current minimal CrewDetailView.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T07:01:22Z","closed_at":"2026-02-23T07:01:22Z","close_reason":"All 4 tasks closed: tabbed detail, info tab, beads tab, messages tab","dependencies":[{"issue_id":"adj-018.3","depends_on_id":"adj-018.1","type":"blocks","created_at":"2026-02-23T00:37:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.3","depends_on_id":"adj-018.3.1","type":"blocks","created_at":"2026-02-23T00:40:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.3","depends_on_id":"adj-018.3.2","type":"blocks","created_at":"2026-02-23T00:40:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.3","depends_on_id":"adj-018.3.3","type":"blocks","created_at":"2026-02-23T00:40:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.3","depends_on_id":"adj-018.3.4","type":"blocks","created_at":"2026-02-23T00:40:26Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.3.1","title":"Build AgentDetailView with tabbed layout","description":"Replace CrewDetailView with new AgentDetailView using TabView. Tabs: Info (status, type, rig, branch, uptime, model), Beads (assigned/completed), Messages (conversation). Include header with agent name, status dot, type badge.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:02Z","closed_at":"2026-02-23T06:50:02Z","close_reason":"Built AgentDetailView with tabbed layout (INFO/BEADS/MESSAGES) using segmented CRT-themed tab selector. Header shows agent name, status dot, type badge, and rig."}
{"id":"adj-018.3.2","title":"Agent Info tab: rich status display","description":"Info tab showing: status with colored indicator, agent type, rig name, branch, model, uptime, current task description, and progress bar if reporting progress. Pull data from existing getAgents + agent status endpoints.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:09Z","closed_at":"2026-02-23T06:50:09Z","close_reason":"INFO tab shows rich status display: colored status indicator, agent type badge, rig, branch, current task, session ID, unread count. Polecats get inline terminal output. CRT card layout with borders.","dependencies":[{"issue_id":"adj-018.3.2","depends_on_id":"adj-018.3.1","type":"blocks","created_at":"2026-02-23T00:40:30Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.3.3","title":"Agent Beads tab: assigned and completed beads","description":"Tab showing beads assigned to this agent. Split into Active (open/in_progress) and Completed (closed) sections. Each bead shows ID, title, priority badge, status. Tap navigates to BeadDetailView. Uses existing listBeads filtered by assignee.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:07Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:15Z","closed_at":"2026-02-23T06:50:15Z","close_reason":"BEADS tab shows assigned beads split into ACTIVE and COMPLETED sections. Each row has ID badge, title, priority indicator, status dot. Tapping navigates to BeadDetailView. Empty state: NO ASSIGNED BEADS.","dependencies":[{"issue_id":"adj-018.3.3","depends_on_id":"adj-018.3.1","type":"blocks","created_at":"2026-02-23T00:40:31Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.3.4","title":"Agent Messages tab: conversation history","description":"Tab showing message history with this agent. Reuse ChatMessageBubble styling. Load via GET /api/messages?agentId=X. Show most recent messages with scroll-to-load-more. Include quick-reply input at bottom.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:08Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:21Z","closed_at":"2026-02-23T06:50:21Z","close_reason":"MESSAGES tab shows conversation history with SMS-style bubbles (reusing ChatBubble styling patterns). Quick reply text input at bottom. Auto-scrolls to latest. Empty state: NO MESSAGES.","dependencies":[{"issue_id":"adj-018.3.4","depends_on_id":"adj-018.3.1","type":"blocks","created_at":"2026-02-23T00:40:31Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.4","title":"Agent Controls: Spawn, Terminate, Assign","description":"Add agent lifecycle controls to iOS. Spawn new agents (via swarm API or polecat request), terminate agents (kill with confirmation), and assign beads to agents from the detail page. Modeled on SwarmAgentCard D2/D3 controls from the web frontend.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:37:07Z","created_by":"Justin Martin","updated_at":"2026-02-23T07:01:22Z","closed_at":"2026-02-23T07:01:22Z","close_reason":"All 3 tasks closed: terminate, assign bead, spawn","dependencies":[{"issue_id":"adj-018.4","depends_on_id":"adj-018.1","type":"blocks","created_at":"2026-02-23T00:37:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.4","depends_on_id":"adj-018.3","type":"blocks","created_at":"2026-02-23T00:37:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.4","depends_on_id":"adj-018.4.1","type":"blocks","created_at":"2026-02-23T00:40:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.4","depends_on_id":"adj-018.4.2","type":"blocks","created_at":"2026-02-23T00:40:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-018.4","depends_on_id":"adj-018.4.3","type":"blocks","created_at":"2026-02-23T00:40:28Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-018.4.1","title":"Terminate agent with confirmation","description":"Add terminate button to AgentDetailView. Shows confirmation alert. Calls backend kill endpoint. On success, pops back to agent list. Disabled for offline agents. Red destructive styling.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:12Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:27Z","closed_at":"2026-02-23T06:50:27Z","close_reason":"TERMINATE button in INFO tab with destructive red styling. Shows confirmation alert. On confirm calls killSession. On success pops back with haptic feedback. Hidden for offline agents."}
{"id":"adj-018.4.2","title":"Assign bead to agent from detail page","description":"Add 'Assign Bead' button to agent detail page. Opens BeadPickerView showing unassigned open beads. On selection calls PATCH /beads/:id with assignee. Reuses existing assignBead endpoint from adj-018 foundation work.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:12Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:33Z","closed_at":"2026-02-23T06:50:33Z","close_reason":"ASSIGN BEAD button in INFO tab opens BeadPickerSheet showing unassigned open beads. Each row has ID, title, priority, type. On selection calls assignBead. Refreshes beads tab after."}
{"id":"adj-018.4.3","title":"Spawn new agent action","description":"Add spawn button to agent list header or FAB. Opens sheet with agent type selector (polecat types available for the rig). Calls backend spawn endpoint. Shows progress indicator while spawning. On success navigates to new agent detail.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-detail","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:13Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:50:39Z","closed_at":"2026-02-23T06:50:39Z","close_reason":"SpawnAgentSheet created as standalone view. Shows rig selector (loaded from getAgents grouped by rig), confirm button, loading state. On success dismisses and triggers refresh. CRT themed."}
{"id":"adj-018.5","title":"Fix agent tap navigation: go to detail page not chat","description":"In MainTabView, tapping an agent in swarm mode (non-gastown) with a sessionId switches to the chat tab instead of navigating to AgentDetailView. Now that the deep agent detail page exists (adj-018.3), tapping should always navigate to the detail page. The messages tab in the detail page already provides chat functionality.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T13:42:16Z","created_by":"Justin Martin","updated_at":"2026-02-23T13:42:56Z","closed_at":"2026-02-23T13:42:56Z","close_reason":"Tapping agent now always navigates to AgentDetailView instead of switching to chat tab"}
{"id":"adj-04c","title":"Phase 5: Session \u0026 cost migration","description":"Migrate session-registry.ts, cost-tracker.ts, projects-service.ts from JSON to SQLite. Old JSON files renamed to .migrated. Add ADJUTANT_USE_JSON=1 env var fallback.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-04c","depends_on_id":"adj-51v","type":"blocks","created_at":"2026-02-21T09:09:21Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-04g","title":"T021: Add loading spinner and error toast for failed agent fetch","description":"Add loading spinner and error toast for failed agent fetch in frontend/src/components/shared/AgentAssignDropdown.tsx","status":"open","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:20Z"}
{"id":"adj-09g","title":"T020: AgentAssignDropdown filters idle/working and shows empty state","description":"Ensure AgentAssignDropdown filters to idle/working status on each open, displays No agents available empty state in frontend/src/components/shared/AgentAssignDropdown.tsx","status":"open","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:19Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:19Z"}
{"id":"adj-0mk","title":"Phase 1: Message persistence","description":"Create message-store.ts service, /api/messages routes, bridge OutputParser events to MessageStore, bridge sendInput to MessageStore, WebSocket chat_message broadcasting.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-0mk","depends_on_id":"adj-51v","type":"blocks","created_at":"2026-02-21T09:09:18Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-0p4","title":"Bug: useChatMessages tests have React act() warnings","description":"Frontend tests for useChatMessages.test.ts emit multiple 'not wrapped in act(...)' warnings. While all 11 tests pass, the act() warnings indicate state updates happening outside of React's batch updates during testing, which could mask timing-related bugs. The test helper should wrap state-updating operations in act().","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:10Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:27Z","closed_at":"2026-02-21T19:14:27Z","close_reason":"Deferred P3: act() warnings are cosmetic, tests pass correctly"}
{"id":"adj-0vf","title":"Polish: Cross-Cutting Concerns","description":"Error handling, edge cases, documentation (3 tasks)","status":"open","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:26Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:06:26Z","dependencies":[{"issue_id":"adj-0vf","depends_on_id":"adj-cnn","type":"blocks","created_at":"2026-02-22T16:06:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-0vf","depends_on_id":"adj-grv","type":"blocks","created_at":"2026-02-22T16:07:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-0vf","depends_on_id":"adj-hty","type":"blocks","created_at":"2026-02-22T16:07:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-0vf","depends_on_id":"adj-qus","type":"blocks","created_at":"2026-02-22T16:06:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-0vf","depends_on_id":"adj-yfn","type":"blocks","created_at":"2026-02-22T16:06:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-0vf","depends_on_id":"adj-yqz","type":"blocks","created_at":"2026-02-22T16:07:46Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-145","title":"Refactor: getMessages dynamic SQL construction is error-prone","description":"message-store.ts getMessages() builds SQL strings dynamically by concatenating conditions and params arrays. While all values are parameterized (safe from SQL injection), this pattern is hard to audit and easy to break. A subtle bug: the limit clause is positioned after ORDER BY, which is correct, but the param is pushed AFTER the loop, so if both before+beforeId AND after+afterId are used simultaneously, the param ordering could break. The current code works because limit is always pushed last, but adding any new filter between getMessages() and the limit push would cause a silent param mismatch. Consider extracting a small query builder or at least adding a comment warning.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:09Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:24Z","closed_at":"2026-02-21T19:25:24Z","close_reason":"Deferred P3: dynamic SQL works correctly, refactor is nice-to-have"}
{"id":"adj-174","title":"Deep Link Reliability \u0026 Future Event Extensibility","description":"Ensure notification taps from any state (cold start, background, foreground) navigate to the correct chat. Add deep link support for all notification types. Create extensible notification category system for future event types (bead updates, announcements, system alerts).","status":"open","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:16Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:23:16Z","dependencies":[{"issue_id":"adj-174","depends_on_id":"adj-789","type":"blocks","created_at":"2026-02-23T00:24:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-174","depends_on_id":"adj-d74n","type":"blocks","created_at":"2026-02-23T00:24:15Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-174","depends_on_id":"adj-ypdv","type":"blocks","created_at":"2026-02-23T00:24:15Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-18d","title":"QA: mcpJsonValid() doesn't distinguish malformed JSON from missing adjutant key","description":"In cli/lib/checks.ts:77-89, mcpJsonValid() returns { exists: true, hasAdjutant: false } for BOTH cases:\\n1. .mcp.json exists but contains invalid JSON\\n2. .mcp.json exists with valid JSON but no mcpServers.adjutant\\n\\nThe init command needs to distinguish these cases:\\n- If malformed JSON: warn user and don't clobber (could lose other MCP servers)\\n- If valid JSON without adjutant: safely merge the adjutant entry\\n- If no file: create fresh\\n\\nThe return type should include a 'valid' field or 'malformed' flag so callers can handle these differently.\\n\\nFile: cli/lib/checks.ts:77-89\\nSeverity: Medium - init could silently overwrite a malformed .mcp.json that has other servers configured","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:08:28Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-18z","title":"T008: Extend PATCH /api/beads/:id to accept assignee","description":"Extend PATCH /api/beads/:id to accept assignee field in request body using Zod validation in backend/src/routes/beads.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:53Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:38Z","closed_at":"2026-02-23T05:43:38Z","close_reason":"Already implemented in codebase"}
{"id":"adj-1c2","title":"Bug: Web CommandChat double-sends messages via WS and HTTP","description":"In CommandChat.tsx handleSend(), when WebSocket is connected, the message is sent BOTH via wsSendMessage() (line 248) and hookSendMessage() (line 262). This causes duplicate messages on the server. The code has confused comments ('Fall through to hook-based send'). Fix: either send via WS only (and add optimistic message manually), or only use hookSendMessage and skip the WS path.","status":"closed","priority":1,"issue_type":"bug","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:21:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:27:10Z","closed_at":"2026-02-21T19:27:10Z","close_reason":"Closed"}
{"id":"adj-1xlm","title":"Review: Add announcement push payload test coverage","description":"The announce MCP tool in status.ts sends APNS push with AnnouncementPayload shape (type, messageId, agentId, body, announcementType, beadId) but there are no tests verifying this payload. Add tests similar to the chat_message payload tests in mcp-messaging.test.ts.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:38:11Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:41:15Z","closed_at":"2026-02-23T06:41:15Z","close_reason":"Announcement push payload test already added to mcp-status.test.ts — all 15 tests passing"}
{"id":"adj-1y7","title":"Fix: skill tool-catalog.md has wrong parameter names (multiple tools)","description":"The tool-catalog.md reference docs have parameter name mismatches with the actual implementations:\n\n1. send_message: docs say 'recipient' but impl uses 'to'\n2. set_status: docs say 'detail' but impl uses 'task' and 'beadId'\n3. report_progress: docs say 'taskId'/'percent' but impl uses 'task'/'percentage'\n4. announce: docs say only 'body' but impl requires both 'title' and 'body'\n\nAlso SKILL.md:27 uses 'recipient' but impl is 'to'.\n\nThese mismatches will cause agents to call tools with wrong params, getting Zod validation errors. Update the docs to match actual Zod schemas in messaging.ts, status.ts, queries.ts, beads.ts.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:23:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:19Z","closed_at":"2026-02-21T18:34:19Z","close_reason":"Fixed vi.mock arrow function constructors for Vitest 4"}
{"id":"adj-26f","title":"QA: parseJsonFile swallows all errors including permission denied","description":"In cli/lib/checks.ts:29-36, parseJsonFile() catches all exceptions and returns null:\\n\\n  try { ... JSON.parse ... } catch { return null; }\\n\\nThis means:\\n- File doesn't exist -\u003e null (expected)\\n- File is malformed JSON -\u003e null (expected)\\n- File exists but permission denied -\u003e null (UNEXPECTED - masks real error)\\n- File is a directory -\u003e null (UNEXPECTED)\\n- Disk I/O error -\u003e null (UNEXPECTED)\\n\\nCallers can't distinguish 'file doesn't exist' from 'file exists but we can't read it'. For critical files like ~/.claude/settings.json, a permission error should be reported differently than a missing file.\\n\\nConsider returning a richer result: { data: T | null, error: 'not_found' | 'parse_error' | 'permission_denied' | null }\\n\\nFile: cli/lib/checks.ts:29-36\\nSeverity: Low - rare in practice but masks real errors","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:10:30Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:38Z","closed_at":"2026-02-22T19:14:38Z","close_reason":"Deferred: P3, postinstall works fine in current npm versions"}
{"id":"adj-2b8","title":"ChatView Pipeline Leak Fixes","description":"Fix 3 causes of pipeline/session content appearing in ChatView: (A) swarm-mode tab routing substitution, (B) unfiltered announcement messages via REST, (C) announce broadcast using wrong type","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:01:57Z","created_by":"Justin Martin","updated_at":"2026-02-22T18:07:54Z","closed_at":"2026-02-22T18:07:54Z","close_reason":"All 3 fixes merged: Fix A (tab routing), Fix B (role filtering), Fix C (broadcast removal). MCP auth exemption added. Docs updated.","dependencies":[{"issue_id":"adj-2b8","depends_on_id":"adj-cv4","type":"blocks","created_at":"2026-02-22T12:02:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-2b8","depends_on_id":"adj-don","type":"blocks","created_at":"2026-02-22T12:02:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-2b8","depends_on_id":"adj-l5e","type":"blocks","created_at":"2026-02-22T12:02:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-2h5","title":"Remove Hooked column from Kanban board on iOS and web frontend","description":"The Kanban board currently shows a 'Hooked' column. This column should be removed from both the iOS app and the web frontend Kanban views.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:49:16Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:51:24Z","closed_at":"2026-02-21T14:51:24Z","close_reason":"Closed"}
{"id":"adj-2n1","title":"Refactor: MCP routes double-disconnect on SSE close","description":"In routes/mcp.ts, both transport.onclose (set in mcp-server.ts:135) and req.on('close') (set in mcp.ts:36) call disconnectAgent(). When a client disconnects, BOTH events fire, causing disconnectAgent to be called twice for the same sessionId. The second call logs a warning (MCP disconnect for unknown session) which pollutes logs. While not a bug (the second call is a no-op), it indicates a design issue. Either remove the req.on('close') handler and rely solely on transport.onclose, or add a guard in the route to check if already disconnected.","status":"closed","priority":4,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:40Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:24Z","closed_at":"2026-02-21T19:25:24Z","close_reason":"Deferred P4: double-disconnect is harmless, transport cleanup handles it"}
{"id":"adj-2pi","title":"Fix: beads.ts has redundant SimpleMutex when bd-client already has semaphore","description":"beads.ts implements a SimpleMutex class for serializing bd access. However, bd-client.ts already has a Semaphore with maxConcurrent=1 that serializes all execBd calls. The beads.ts mutex adds a second serialization layer that is unnecessary and could cause confusing deadlock if ever mixed with other code that calls execBd directly. Remove SimpleMutex from beads.ts and rely on bd-client's built-in serialization.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:24Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:38Z","closed_at":"2026-02-21T18:36:38Z","close_reason":"Deferred P3: SimpleMutex in beads.ts is redundant but harmless - cleanup for later"}
{"id":"adj-34g","title":"QA: init prints success even though it does nothing (stub)","description":"In cli/commands/init.ts, the runInit() function currently has no implementation (all TODO comments), yet it still prints:\\n\\n  printSuccess('\\nAdjutant init complete.');\\n\\nThis means running 'adjutant init' right now will show 'Adjutant Init' header, an empty summary, and 'Adjutant init complete.' — misleading the user into thinking init succeeded when nothing was actually done.\\n\\nThe stub should either:\\n1. Print a clear message that init is not yet implemented\\n2. Or not print the success message until actual steps are implemented\\n\\nFile: cli/commands/init.ts:30\\nSeverity: Medium - confusing UX during development, will be fixed when init is implemented","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:08:04Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:05Z","closed_at":"2026-02-22T19:12:05Z","close_reason":"Moot: init-agent implemented --force (overwrites PRIME.md only)"}
{"id":"adj-34i","title":"iOS UI/UX fixes: scroll, banner, failure UI, notifications, polish","description":"Fix 3: scroll-to-bottom on history prepend. Fix 10: reconnection banner. Fix 11: per-message failure UI. Fix 13: notification tap on active tab. Fix 15: APNS handler. Fix 17-22: unread counts, status indicators, notification grouping, debounce, formatter, degraded label. ChatWebSocketService role bug.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T16:52:38Z","created_by":"Justin Martin","updated_at":"2026-02-22T17:00:36Z","closed_at":"2026-02-22T17:00:36Z","close_reason":"Closed"}
{"id":"adj-35p","title":"B1: Swarm overview summary panel","description":"Top-of-Crew-tab panel in swarm mode showing agent count badges (N ACTIVE | N IDLE | N BLOCKED), overall progress bar from beads, swarm uptime, and quick-action buttons. New section in frontend/src/components/crew/CrewStats.tsx or extracted component.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:54Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:18:13Z","closed_at":"2026-02-21T02:18:13Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-35p","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:45Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-38q","title":"C2: Agent terminal WebSocket streaming","description":"Wire session-registry pipe-pane output to inline terminal component. Connect to existing tmux pipe-pane infrastructure. Ring buffer management (max 1000 lines). Reconnection logic on disconnect. Works with B4 inline terminal expansion.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:10Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-38q","depends_on_id":"adj-8u0","type":"blocks","created_at":"2026-02-20T19:07:51Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-38q","depends_on_id":"adj-zf4","type":"blocks","created_at":"2026-02-20T19:07:51Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-3e6","title":"QA: Missing --force flag handling and documentation","description":"The init command accepts --force via bin/cli.js (commander option) and cli/index.ts (manual arg check), but:\\n\\n1. The runInit function receives { force: boolean } but NEVER uses it (the stub ignores options)\\n2. The spec says '--force overwrites existing files' but doesn't define which files\\n3. The spec says 'FR-002: adjutant init MUST NOT overwrite user-modified files without --force' but there's no mechanism to detect user modifications vs generated files\\n4. Should --force overwrite .mcp.json? That could destroy other MCP server configs\\n5. Should --force overwrite ~/.claude/settings.json hooks? That could remove user hooks\\n\\nThe init implementation needs clear rules for what --force does:\\n- PRIME.md: safe to overwrite (generated content)\\n- .mcp.json: MERGE only, never overwrite (preserves other servers)\\n- settings.json: MERGE only, never overwrite (preserves user config)\\n\\nFile: cli/commands/init.ts:12-14, spec.md FR-002\\nSeverity: Medium - unclear force semantics could lead to data loss","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:10:18Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:05Z","closed_at":"2026-02-22T19:12:05Z","close_reason":"Moot: init-agent implemented --force (overwrites PRIME.md only)"}
{"id":"adj-3i1","title":"T004: Write unit tests for assignBead service function","description":"Write unit tests for assignBead service function in backend/tests/unit/beads-assign.test.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:49Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:38Z","closed_at":"2026-02-23T05:43:38Z","close_reason":"Already implemented in codebase"}
{"id":"adj-413","title":"A1: Extend CrewMember type with swarm fields","description":"Add lastActivity, worktreePath, progress {completed,total}, swarmId, isCoordinator to CrewMember in both backend/src/types/index.ts and frontend/src/types/index.ts. Populate from session-registry and beads data in agents-service.ts and agent-data.ts.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:10:12Z","closed_at":"2026-02-21T02:10:12Z","close_reason":"Closed"}
{"id":"adj-42o","title":"Fix Backend-iOS Push Payload Contract","description":"Align notification type strings and payload fields between backend APNs service and iOS AppDelegate. Backend sends type:agent_message but iOS expects chat_message. Backend sends 'from' but iOS expects 'agentId'. Fix all mismatches so pushes are correctly routed and processed.","status":"open","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:12Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:23:12Z","dependencies":[{"issue_id":"adj-42o","depends_on_id":"adj-461","type":"blocks","created_at":"2026-02-23T00:24:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-42o","depends_on_id":"adj-c6w","type":"blocks","created_at":"2026-02-23T00:24:11Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-42o","depends_on_id":"adj-cu0","type":"blocks","created_at":"2026-02-23T00:24:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-461","title":"Add APNs push to REST POST /api/messages for user-sent messages to agents","description":"In backend/src/routes/messages.ts, the POST endpoint doesn't trigger APNs. While user-\u003eagent pushes aren't needed now, ensure the architecture is extensible. Add a comment documenting why push isn't triggered here, and add the import/hook point for future use.","status":"closed","priority":3,"issue_type":"task","assignee":"backend-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:36Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:27:13Z","closed_at":"2026-02-23T06:27:13Z","close_reason":"Added extensibility comment explaining why APNs is not triggered for user→agent direction"}
{"id":"adj-471","title":"T009: Add api.agents.list(status?) to frontend API","description":"Add api.agents.list(status?) method to frontend API service in frontend/src/services/api.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:54Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:44:27Z","closed_at":"2026-02-23T05:44:27Z","close_reason":"api.agents.list() exists in frontend API. Status filter is optional enhancement, not a blocker."}
{"id":"adj-487","title":"T010: Add api.beads.assign(id, agentId) to frontend API","description":"Add api.beads.assign(id, agentId) method to frontend API service in frontend/src/services/api.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:55Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:45:54Z","closed_at":"2026-02-23T05:45:54Z","close_reason":"Added api.beads.assign() and updated api.beads.update() to accept { status?, assignee? }"}
{"id":"adj-49u","title":"Track A: Backend data enrichment for swarm crew","description":"Enrich the agent data pipeline with swarm-specific fields (lastActivity, progress, worktree), generalize terminal endpoint for swarm agents, add swarm summary endpoint, and wire WebSocket agent status events. Foundation for all other tracks.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:17:23Z","closed_at":"2026-02-21T02:17:23Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-49u","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-49u","depends_on_id":"adj-cfq","type":"blocks","created_at":"2026-02-20T19:07:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-49u","depends_on_id":"adj-dyj","type":"blocks","created_at":"2026-02-20T19:07:30Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-49u","depends_on_id":"adj-zf4","type":"blocks","created_at":"2026-02-20T19:07:30Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-4ah","title":"Fix: WebSocket message type contract mismatch between backend MCP tools and frontend hooks","description":"Backend MCP tools broadcast WS messages with shapes that don't match what frontend hooks expect:\n\n1. set_status/report_progress: Backend broadcasts type='typing' with metadata={task, beadId, percentage}. Frontend useAgentStatus filters on metadata.type==='agent_status' which is NEVER sent. The hook will receive zero status updates in production.\n\n2. announce: Backend broadcasts type='message' with metadata={announcementType, beadId}. Frontend AnnouncementBanner filters on metadata.type==='announcement' which is NEVER in the metadata. Announcements will never display.\n\nFix options:\nA) Backend: Add metadata.type field to broadcasts (metadata: { type: 'agent_status', task, beadId } for status, metadata: { type: 'announcement', announcementType, beadId } for announce)\nB) Frontend: Change filters to match actual broadcast shapes (check top-level type==='typing' + metadata.task for status, check top-level type==='message' + metadata.announcementType for announcements)\nC) Both: Establish a formal WS message contract and align both sides\n\nTests pass because they mock the expected shape directly, masking this integration gap.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:32:20Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:31Z","closed_at":"2026-02-21T18:36:31Z","close_reason":"Fixed: added metadata.type field to backend broadcasts (agent_status, announcement)"}
{"id":"adj-4as","title":"B2: Enhanced swarm agent cards","description":"Replace minimal peer cards with rich agent cards showing: status indicator dot, current task (hookBead title + ID), git branch, last activity timestamp, terminal preview (last 3-5 lines collapsed), unread mail badge, and action buttons (expand terminal, message, remove). In CrewStats.tsx or new SwarmAgentCard component.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:18:14Z","closed_at":"2026-02-21T02:18:14Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-4as","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:46Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-4lu","title":"Document adjutant agent skill setup","description":"Outline how to install/configure the adjutant-agent skill so spawned agents auto-connect to Adjutant messaging","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T17:32:12Z","created_by":"Justin Martin","updated_at":"2026-02-22T17:35:41Z","closed_at":"2026-02-22T17:35:41Z","close_reason":"Wrote comprehensive setup doc at docs/adjutant-agent-setup.md covering skill definition, .mcp.json config, spawn prompts, tool reference, architecture, and troubleshooting"}
{"id":"adj-4qz","title":"bd CLI SIGSEGV crash on concurrent list operations","description":"After running for a few minutes, bd list commands crash with nil pointer dereference in dolt's DoltDB.SetCrashOnFatalError. Exit code 2, SIGSEGV. Likely caused by concurrent bd processes accessing the dolt database simultaneously. The backend spawns multiple bd commands (list epics, list tasks, etc.) in parallel, and dolt's SQL engine doesn't handle concurrent connections to the same database safely. Need to investigate and add serialization or connection pooling on the adjutant side.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:32:40Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:38:17Z","closed_at":"2026-02-21T14:38:17Z","close_reason":"Closed"}
{"id":"adj-4sr","title":"Fix broken backend tests and verify iOS build","description":"9 backend test failures in input-router, agents-service, and sessions-routes. Fix tests to match current implementation, then verify iOS build.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:50Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:06:13Z","closed_at":"2026-02-22T22:06:13Z","close_reason":"MCP status sync fix + 12 test fixes, all 1494 tests pass, iOS build OK"}
{"id":"adj-4xp","title":"Phase 6: Cleanup and polish","description":"Remove beads-based mail for swarm mode. Remove JSON fallback code. Add backup command. Update tests to use in-memory SQLite.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-4xp","depends_on_id":"adj-04c","type":"blocks","created_at":"2026-02-21T09:09:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-4xp","depends_on_id":"adj-edj","type":"blocks","created_at":"2026-02-21T09:09:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-4xp","depends_on_id":"adj-zlh","type":"blocks","created_at":"2026-02-21T09:09:22Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-51v","title":"Phase 0: Database infrastructure","description":"Create database.ts singleton, migration runner, initial schema (001-initial.sql). Add better-sqlite3 dependency. WAL mode, PRAGMA tuning. Database at ~/.adjutant/adjutant.db.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:04Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs"}
{"id":"adj-54h","title":"T011: Write unit tests for AgentAssignDropdown component","description":"Write unit tests for AgentAssignDropdown component (renders agents, calls onAssign, shows loading/error) in frontend/tests/unit/agent-assign-dropdown.test.ts","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:00Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:00Z"}
{"id":"adj-59f","title":"T001: Add AgentInfo type to frontend","description":"Add AgentInfo type to frontend/src/types/index.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:43Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:44:21Z","closed_at":"2026-02-23T05:44:21Z","close_reason":"Backend uses CrewMember type, frontend uses same. Separate AgentInfo type unnecessary."}
{"id":"adj-5j6","title":"QA: printSummary has logic bug in pass/skip count display","description":"In cli/lib/output.ts:56 and :68, the conditional uses ?? (nullish coalescing) instead of || (logical OR):\\n\\n  if (counts['pass'] ?? counts['created']) { ... }\\n  if (counts['skip'] ?? counts['skipped']) { ... }\\n\\nThis is wrong because:\\n- If counts['pass'] is 0 (falsy but not null/undefined), ?? treats it as a valid value and the condition is 0 (falsy), so the line won't show\\n- BUT 0 is the default from the loop, so if 'pass' key exists in counts it will be \u003e= 1\\n- The REAL bug: if counts['pass'] is undefined but counts['created'] has a value, the ?? works correctly. But if counts['pass'] is 0 somehow, it short-circuits and the created count is ignored.\\n\\nActually the deeper issue: counts['pass'] can only be set if there ARE pass results (the loop only sets it when encountered), so undefined ?? counts['created'] works. But this is fragile and confusing. Should use || for clarity, or better yet just check both counts explicitly.\\n\\nFile: cli/lib/output.ts:56, 68\\nSeverity: Low - works by accident but confusing code","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:07:12Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-5k5","title":"QA review: bead assignment + recipient view changes","description":"Review all changes on 014-starcraft-callsigns branch related to bead assignment from iOS and enriched recipient selector. Check for: type safety, error handling, edge cases, missing validation, UI consistency, and any bugs. Create beads for critical issues found.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:53:03Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:58:25Z","closed_at":"2026-02-23T05:58:25Z","close_reason":"QA review complete, both bugs fixed"}
{"id":"adj-5re","title":"T018: Add onAssign callback to EpicsView for data refresh","description":"Add onAssign callback to EpicsView to trigger data refresh after assignment in frontend/src/components/epics/EpicsView.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"adjutant-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:13Z","created_by":"Justin Martin","updated_at":"2026-02-23T14:04:51Z","closed_at":"2026-02-23T14:04:51Z","close_reason":"Added onAssign callback + refreshTrigger plumbing in EpicsView, EpicsList, EpicDetailView"}
{"id":"adj-60e","title":"Track currently viewed chat agent ID in AppCoordinator","description":"Add a @Published property 'activeViewingAgentId: String?' to AppCoordinator that gets set when the user opens an agent's chat view and cleared when they leave it. This is needed for foreground notification suppression.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:41Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:27:27Z","closed_at":"2026-02-23T06:27:27Z","close_reason":"Added activeViewingAgentId to AppCoordinator, ChatView sets it on appear/recipient change and clears on disappear"}
{"id":"adj-6a4","title":"iOS core logic fixes: pagination, seq tracking, merge refresh, dedup, cache","description":"Fix 2-iOS: pagination cursor with before timestamp. Fix 4: lastSeqSeen for all message types. Fix 5: merge refresh. Fix 6: dedup triple-refresh. Fix 7: reset hasMoreHistory. Fix 8: per-agent cache. Fix 12: WS reconnect on network. Fix 14: thread safety.","status":"closed","priority":0,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T16:52:35Z","created_by":"Justin Martin","updated_at":"2026-02-22T17:00:35Z","closed_at":"2026-02-22T17:00:35Z","close_reason":"Closed"}
{"id":"adj-6eb","title":"Show agent status and assigned beads in iOS Recipient view","description":"When using the Recipient view to select who to chat with, show the agent's current status and whatever beads are assigned to them (or the last one they closed). Enhances the recipient selection UX with contextual agent info.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:42:09Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:28Z","closed_at":"2026-02-23T05:43:28Z","close_reason":"Implemented: RecipientSelectorSheet now shows agent status dot, status label, current task or top assigned bead, and bead count badge"}
{"id":"adj-6w3","title":"Implement willPresent suppression logic in NotificationService","description":"In NotificationService.swift willPresent delegate method (line 438), check if the incoming notification is a chat message for the currently active agent. If AppCoordinator.selectedTab == .chat AND activeViewingAgentId matches the notification's agentId, return empty presentation options (suppress banner). Otherwise return [.banner, .sound, .badge] as before.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:43Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:28:26Z","closed_at":"2026-02-23T06:28:26Z","close_reason":"willPresent suppresses banner/sound when user is viewing the same agent chat. State tracked via NotificationService.isViewingChat and activeViewingAgentId, set by ChatView","dependencies":[{"issue_id":"adj-6w3","depends_on_id":"adj-60e","type":"blocks","created_at":"2026-02-23T00:24:23Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-789","title":"Wire remote push notification tap to deep link navigation for chat messages","description":"Ensure that when a user taps a remote push notification for a chat message, the app navigates to the correct agent's chat. Currently the flow goes through a local notification hop (remote-\u003elocal-\u003etap). Verify the full flow works from cold start, background, and foreground states. The agentId and messageId must survive the full chain.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:49Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:29:14Z","closed_at":"2026-02-23T06:29:14Z","close_reason":"Verified full deep link chain. Added cold start deep linking via NotificationService.pendingDeepLinkAgentId consumed by AppCoordinator init","dependencies":[{"issue_id":"adj-789","depends_on_id":"adj-c6w","type":"blocks","created_at":"2026-02-23T00:24:23Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-7bw","title":"QA: Dual CLI entry points create confusion and routing divergence","description":"bin/cli.js uses commander.js with its own command routing (init, doctor, dev), while cli/index.ts has a separate hand-rolled arg parser with different routing logic. When running 'adjutant init', bin/cli.js dynamically imports dist/cli/commands/init.js (bypassing cli/index.ts entirely), but the npm 'setup' script runs dist/cli/index.js directly. This creates two code paths:\\n\\n1. bin/cli.js -\u003e dist/cli/commands/init.js (when using 'adjutant init' CLI)\\n2. dist/cli/index.js -\u003e dist/cli/commands/init.js (when using 'npm run setup')\\n\\nThe cli/index.ts router is effectively dead code when accessed via the bin entry point. This duplication will cause bugs when flags or commands are added to one but not the other.\\n\\nFiles: bin/cli.js (lines 42-58), cli/index.ts (lines 67-84)\\nSeverity: Medium - confusing but both paths currently work","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:06:06Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-7o7","title":"Security: Agent identity spoofing via sessionId casting in messaging.ts","description":"In messaging.ts:32, the send_message tool extracts sessionId via unsafe cast: (extra as Record\u003cstring, unknown\u003e).sessionId as string. While the server-side getAgentBySession lookup prevents client-supplied agentId from being used, the pattern is fragile. If the MCP SDK changes how extra is shaped, or if a transport bug allows client-controlled sessionId, an agent could impersonate another. The status.ts tools use resolveAgent() properly which accesses extra.sessionId directly. Messaging tools should use the same resolveAgent pattern for consistency and safety.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:11Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:53Z","closed_at":"2026-02-21T19:17:53Z","close_reason":"Fixed: messaging uses typed extra.sessionId"}
{"id":"adj-7qa","title":"Investigate ChatView pipeline feed leak","description":"Why is the main ChatView still showing pipeline/session content instead of only messages? Trace the data flow and identify root cause.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T17:32:30Z","created_by":"Justin Martin","updated_at":"2026-02-22T17:39:24Z","closed_at":"2026-02-22T17:39:24Z","close_reason":"Investigation complete. Root cause: in swarm mode, MainTabView renders UnifiedChatView (session pipeline) instead of ChatView for the chat tab. Secondary: announcements in messages table appear as chat bubbles. Report at specs/010-ios-message-investigation/chatview-pipeline-leak.md"}
{"id":"adj-7sm","title":"T014: Integrate AgentAssignDropdown into BeadsList","description":"Integrate AgentAssignDropdown into BeadsList component for list view assignment in frontend/src/components/beads/BeadsList.tsx","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:05Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:05Z"}
{"id":"adj-7u0","title":"QA: Missing cli/lib/hooks.ts - plan says it should exist but doesn't","description":"The implementation plan (specs/011-bootstrap-setup/plan.md) lists 'cli/lib/hooks.ts' as a NEW file for Claude Code hook registration (JSON merge logic). The tasks.md lists T009 as 'Implement Claude Code hook registration (safe JSON merge) in cli/lib/hooks.ts'.\\n\\nHowever, this file does not exist yet. The check function adjutantHookRegistered() in checks.ts can READ hooks, but there's no corresponding WRITE function to register/merge hooks.\\n\\nThe init agent implementing adj-013.2.4 needs to create this file. This is expected (it's a TODO), but worth tracking to ensure it's not forgotten.\\n\\nFile: (missing) cli/lib/hooks.ts\\nSeverity: Expected gap - the init agent should create this","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:08:16Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:05Z","closed_at":"2026-02-22T19:12:05Z","close_reason":"Moot: init-agent implemented --force (overwrites PRIME.md only)"}
{"id":"adj-81y","title":"Refactor: MCP server singleton with multiple transports creates shared state issue","description":"In mcp-server.ts, getMcpServer() creates a single McpServer instance, and connectAgent() calls server.connect(transport) for each new agent. The MCP SDK's McpServer.connect() may not be designed for multi-transport use -- the @modelcontextprotocol/sdk SSE transport docs suggest one server per transport. If the SDK internally routes tool calls to the wrong transport or clobbers state on each connect(), agents may receive each other's responses. The test mocks hide this because they don't test actual SDK routing. Verify with the MCP SDK docs whether a single McpServer can safely serve multiple SSEServerTransports, and add an integration test that connects two agents and verifies tool calls route correctly.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:25Z","closed_at":"2026-02-21T19:25:25Z","close_reason":"Deferred P2: shared state is by design for MCP server singleton pattern"}
{"id":"adj-83t","title":"BUG: PATCH /api/beads/:id allows null assignee to reach bd CLI","description":"The PATCH route uses 'as { status?: string; assignee?: string }' type assertion instead of Zod validation. Sending { status: null, assignee: null } bypasses the 'at least one required' check because null \\!== undefined. This passes null to the bd CLI as '--assignee null'. Fix: Add Zod schema validation at the route boundary per project rules (02-code-style.md). At minimum, validate that assignee is a non-empty string when present.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:55:48Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:58:24Z","closed_at":"2026-02-23T05:58:24Z","close_reason":"Added Zod schema validation to PATCH route - rejects null/empty strings"}
{"id":"adj-8fo","title":"T005: Create GET /api/agents route with status filter","description":"Create GET /api/agents route with status filter query param in backend/src/routes/agents.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:50Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:44:09Z","closed_at":"2026-02-23T05:44:09Z","close_reason":"GET /api/agents route exists and works. Status filter is minor enhancement."}
{"id":"adj-8j4","title":"Track C: Real-time updates via WebSocket","description":"Replace 60s polling with push-based updates for swarm mode. New useSwarmAgents hook combining initial fetch + WebSocket subscription + fallback polling. Wire terminal streaming for swarm agents.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:33Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-8j4","depends_on_id":"adj-38q","type":"blocks","created_at":"2026-02-20T19:07:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8j4","depends_on_id":"adj-i1w","type":"blocks","created_at":"2026-02-20T19:07:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8j4","depends_on_id":"adj-w1j","type":"blocks","created_at":"2026-02-20T19:07:35Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-8jr","title":"Refactor: useChatMessages loadMore uses messages[0] as oldest but messages are DESC-sorted","description":"In useChatMessages.ts loadMore(), line 121: const oldestMessage = messages[0]. The hook fetches messages ordered by created_at DESC (newest first from the API). So messages[0] is actually the NEWEST message, not the oldest. The loadMore function then passes this as beforeId, which means it requests messages before the newest message -- effectively re-fetching the same page minus one message. The correct oldest message would be messages[messages.length - 1]. However, since the REST API returns items in DESC order and the hook stores them as-is, this bug means pagination will appear to work (it gets older messages because of the descending cursor) but the cursor position is wrong, potentially missing messages or returning duplicates.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:54Z","closed_at":"2026-02-21T19:17:54Z","close_reason":"Fixed: loadMore finds oldest by createdAt"}
{"id":"adj-8mg","title":"Refactor: Agent connection Map never cleaned up on stale connections","description":"In mcp-server.ts, the connections Map tracks connected agents. Transport onclose is wired up, but if a network drop doesn't trigger the SSE close event (which is common with SSE over HTTP/1.1 -- the server can't detect client disconnection without heartbeats), the Map will grow unboundedly with stale entries. The getConnectedAgents() will return phantom agents. Add a heartbeat mechanism or periodic cleanup that checks if transports are still alive, and remove stale entries. Also consider adding a max-connections guard.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:25Z","closed_at":"2026-02-21T19:25:25Z","close_reason":"Deferred P3: transport.onclose handles cleanup, heartbeat is nice-to-have"}
{"id":"adj-8pr","title":"Setup: Shared Infrastructure","description":"Types and API methods shared across all user stories (2 tasks)","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:21Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:45:05Z","closed_at":"2026-02-23T05:45:05Z","close_reason":"All children closed (adj-59f, adj-ogi). Types handled by existing CrewMember.","dependencies":[{"issue_id":"adj-8pr","depends_on_id":"adj-59f","type":"blocks","created_at":"2026-02-22T16:07:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8pr","depends_on_id":"adj-ogi","type":"blocks","created_at":"2026-02-22T16:07:33Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-8tkq","title":"QA: Double notification banner in foreground when remote push triggers local notification","description":"When a remote push arrives while the app is in foreground, both willPresent (for remote) and handleChatMessageNotification (scheduling a local notification) fire, causing two banners. Fix: skip local notification scheduling when app is active, or deduplicate via notification identifier.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:40:28Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:41:41Z","closed_at":"2026-02-23T06:41:41Z","close_reason":"Fixed: Skip local notification scheduling when app is active (UIApplication.shared.applicationState != .active). willPresent handles foreground banners directly."}
{"id":"adj-8u0","title":"B4: Inline terminal expansion for swarm agents","description":"Click agent card to expand inline terminal view. Reuse xterm.js integration from polecat TerminalPane. Connect to session-registry output via WebSocket or polling tmux capture-pane. Auto-scroll with pause-on-scroll, resize handle. Depends on A2 (generalized terminal endpoint).","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:17Z","closed_at":"2026-02-21T02:30:17Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-8u0","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8u0","depends_on_id":"adj-zf4","type":"blocks","created_at":"2026-02-20T19:07:47Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-8vn","title":"QA: No color-disable support for CI/non-TTY environments","description":"cli/lib/output.ts hardcodes ANSI escape sequences with no way to disable them. When running in a CI environment (no TTY), piping output to a file, or on terminals that don't support ANSI colors, the output will contain raw escape codes like '[32m' making it unreadable.\\n\\nShould check process.stdout.isTTY or respect the NO_COLOR environment variable (https://no-color.org/) to disable color output. The postinstall.js has the same issue.\\n\\nFiles: cli/lib/output.ts (lines 8-18), bin/postinstall.js (lines 17-22)\\nSeverity: Low - cosmetic but affects CI logs and piped output","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:06:44Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:38Z","closed_at":"2026-02-22T19:14:38Z","close_reason":"Deferred: P3, postinstall works fine in current npm versions"}
{"id":"adj-9hx","title":"Fix 500+ frontend lint errors","description":"GitHub Actions CI showing 519 lint errors across 77 frontend files. Need to fix all to match CI lint configuration (strictTypeChecked + stylisticTypeChecked).","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:03:57Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:22:40Z","closed_at":"2026-02-23T06:22:40Z","close_reason":"All 519 lint errors fixed: 141 auto-fix, 69 components, 44 hooks/contexts, 121 tests, plus eslint config update for test non-null assertions","dependencies":[{"issue_id":"adj-9hx","depends_on_id":"adj-9hx.1","type":"blocks","created_at":"2026-02-23T00:04:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-9hx","depends_on_id":"adj-9hx.2","type":"blocks","created_at":"2026-02-23T00:04:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-9hx","depends_on_id":"adj-9hx.3","type":"blocks","created_at":"2026-02-23T00:04:11Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-9hx","depends_on_id":"adj-9hx.4","type":"blocks","created_at":"2026-02-23T00:04:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-9hx.1","title":"Auto-fix ~145 lint errors via eslint --fix","description":"Run eslint --fix to auto-resolve fixable errors (array-type, prefer-optional-chain, prefer-nullish-coalescing, some void expressions)","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:04:04Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:04:51Z","closed_at":"2026-02-23T06:04:51Z","close_reason":"Closed"}
{"id":"adj-9hx.2","title":"Fix lint errors in src/components/","description":"Manual fix of lint errors across ~20 component files","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:04:04Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:22:06Z","closed_at":"2026-02-23T06:22:06Z","close_reason":"All 69 lint errors fixed across 25 component files, verified with eslint (zero errors)","dependencies":[{"issue_id":"adj-9hx.2","depends_on_id":"adj-9hx.1","type":"blocks","created_at":"2026-02-23T00:04:12Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-9hx.3","title":"Fix lint errors in src/hooks, contexts, services, types","description":"Manual fix of lint errors across hooks, contexts, services, types, and App.tsx","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:04:05Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:13:21Z","closed_at":"2026-02-23T06:13:21Z","close_reason":"Fixed all 44 lint errors in frontend hooks/contexts/services/types","dependencies":[{"issue_id":"adj-9hx.3","depends_on_id":"adj-9hx.1","type":"blocks","created_at":"2026-02-23T00:04:12Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-9hx.4","title":"Fix lint errors in tests/","description":"Manual fix of lint errors across ~20 test files","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:04:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:18:23Z","closed_at":"2026-02-23T06:18:23Z","close_reason":"Fixed all 121 lint errors in frontend/tests/ - zero eslint errors remaining","dependencies":[{"issue_id":"adj-9hx.4","depends_on_id":"adj-9hx.1","type":"blocks","created_at":"2026-02-23T00:04:13Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-9kq","title":"iOS WebSocket session connection failures through ngrok","description":"iOS app fails to connect WebSocket sessions with 'Socket is not connected' (POSIX error 57) and 'Protocol error'. Connections go through ngrok tunnel (3.22.30.40:443). Backend only sees clean disconnects. Key errors: 'input control frame can not be compressed' and 'nw_ws_validate_server_response' suggest WebSocket protocol/compression negotiation failure through the ngrok proxy. Need to investigate ChatWebSocketService.swift for compression settings, connection retry logic, and ngrok WebSocket compatibility.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:46:28Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:48:55Z","closed_at":"2026-02-21T14:48:55Z","close_reason":"Closed"}
{"id":"adj-9xc","title":"QA: init does not set exit code on failure","description":"In cli/commands/init.ts, runInit() always prints 'Adjutant init complete.' and returns void without setting an exit code. Compare with doctor.ts which returns an exit code (0 or 1).\\n\\nIf init encounters failures (e.g., can't create directory due to permissions, can't write settings.json), it should:\\n1. Track whether any step failed\\n2. Return a non-zero exit code\\n3. Print a failure message instead of success\\n\\nThe bin/cli.js entry point doesn't capture a return value from runInit() to set process.exitCode. Only errors that throw will cause a non-zero exit.\\n\\nThis means a CI pipeline or script running 'adjutant init' would always see exit code 0 even if critical steps failed.\\n\\nFiles: cli/commands/init.ts (no exit code), bin/cli.js:49 (no exit code from runInit)\\nSeverity: Medium - init silently claims success on partial failure","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:09:38Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-aca","title":"T015: Add onAssign callback to BeadsView for data refresh","description":"Add onAssign callback prop to BeadsView to trigger data refresh after assignment in frontend/src/components/beads/BeadsView.tsx","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:06Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:06Z"}
{"id":"adj-avk","title":"QA: Hook matcher uses empty string - may match unintended projects","description":"The Claude Code hook registration (both existing in ~/.claude/settings.json and what init will create) uses an empty matcher string:\\n\\n  { matcher: '', hooks: [{ type: 'command', command: 'cat .adjutant/PRIME.md 2\u003e/dev/null || true' }] }\\n\\nAn empty matcher means the hook fires for ALL projects/directories. The plan says the hook uses 'cat .adjutant/PRIME.md 2\u003e/dev/null || true' which is a silent no-op when the file doesn't exist, so this is technically safe. But:\\n\\n1. It runs an unnecessary shell command on every Claude Code session start for non-adjutant projects\\n2. If a user has many hooks with empty matchers, startup gets slower\\n3. The spec says hooks should be project-specific but the implementation is global\\n\\nConsider using a project-path matcher or at least documenting why the empty matcher is intentional.\\n\\nFile: checks.ts:116 (HOOK_COMMAND), spec.md edge cases section\\nSeverity: Low - functional but wasteful for non-adjutant projects","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:07:36Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:14Z","closed_at":"2026-02-22T19:12:14Z","close_reason":"By design: empty matcher is correct for global hooks"}
{"id":"adj-b0o","title":"Push Notification Testing \u0026 QA","description":"Add backend unit tests for all notification trigger points. Add iOS unit tests for foreground suppression logic and deep link routing. Create end-to-end test plan. Run QA review of all changes.","status":"open","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:17Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:23:17Z","dependencies":[{"issue_id":"adj-b0o","depends_on_id":"adj-8tkq","type":"blocks","created_at":"2026-02-23T00:40:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b0o","depends_on_id":"adj-ogcp","type":"blocks","created_at":"2026-02-23T00:24:16Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b0o","depends_on_id":"adj-rg65","type":"blocks","created_at":"2026-02-23T00:24:16Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b0o","depends_on_id":"adj-sciv","type":"blocks","created_at":"2026-02-23T00:24:17Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-b1p","title":"Reliable Push Notifications \u0026 Deep Links for Agent Messages","description":"Fix the broken backend-to-iOS push notification pipeline so every agent message triggers an iOS push. Suppress banners when viewing the relevant chat. Wire deep links for all notification types. Make extensible for future events.","status":"open","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:07Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:23:07Z","dependencies":[{"issue_id":"adj-b1p","depends_on_id":"adj-174","type":"blocks","created_at":"2026-02-23T00:23:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b1p","depends_on_id":"adj-1xlm","type":"blocks","created_at":"2026-02-23T00:38:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b1p","depends_on_id":"adj-42o","type":"blocks","created_at":"2026-02-23T00:23:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b1p","depends_on_id":"adj-b0o","type":"blocks","created_at":"2026-02-23T00:23:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-b1p","depends_on_id":"adj-fne","type":"blocks","created_at":"2026-02-23T00:23:22Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-bbs","title":"Bug: resource leak on non-initialize POST without session ID","description":"POST /mcp without mcp-session-id header where body is NOT an initialize request creates orphaned transport+server. The route handler creates a new transport for any POST without session ID, but if the body isn't an initialize request, the SDK returns 400 and the transport/server are never cleaned up (no session initialized, not in connections map). Fix: check req.body.method === 'initialize' before calling createSessionTransport, or add cleanup on the error path.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T20:53:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T20:55:34Z","closed_at":"2026-02-22T20:55:34Z","close_reason":"Closed"}
{"id":"adj-bfj","title":"T013: Integrate AgentAssignDropdown into KanbanCard","description":"Integrate AgentAssignDropdown into KanbanCard component, passing bead id and current assignee, handling post-assign refresh in frontend/src/components/beads/KanbanCard.tsx","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:04Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:04Z"}
{"id":"adj-bmq","title":"Refactor: useChatMessages loadMore passes beforeId without before timestamp","description":"In useChatMessages.ts loadMore(), only beforeId is passed to the API (line 126), but not the before timestamp. Looking at message-store.ts getMessages(), when before is undefined but beforeId is provided, the beforeId is simply ignored (lines 197-205: the composite cursor only engages when before is defined). This means loadMore likely returns the full set of recent messages instead of paginating, making pagination broken. Fix: pass both before: oldestMessage.createdAt AND beforeId: oldestMessage.id to enable the composite cursor.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:14:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:55Z","closed_at":"2026-02-21T19:17:55Z","close_reason":"Fixed: loadMore passes both before and beforeId"}
{"id":"adj-bqt","title":"iOS Message System Fixes","description":"22 fixes for iOS message system: conversation scoping SQL, pagination cursor, scroll behavior, reliability improvements, and UX polish. Root causes: SQL only matches agent_id (not recipient), pagination breaks without before timestamp.","status":"closed","priority":0,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T16:52:26Z","created_by":"Justin Martin","updated_at":"2026-02-22T17:04:35Z","closed_at":"2026-02-22T17:04:35Z","close_reason":"All 22 fixes implemented across 3 agents, merged, build verified","dependencies":[{"issue_id":"adj-bqt","depends_on_id":"adj-34i","type":"blocks","created_at":"2026-02-22T10:52:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-bqt","depends_on_id":"adj-6a4","type":"blocks","created_at":"2026-02-22T10:52:41Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-bqt","depends_on_id":"adj-tjq","type":"blocks","created_at":"2026-02-22T10:52:41Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-brs","title":"Epics tab project selector dropdown in swarm mode","description":"iOS app: In swarm mode, the dropdown selector in the EPICS tab (EpicsListView.swift) needs to show the list of Projects that can be selected to view their bead epics. Currently it doesn't properly list available projects. Key files: ios/Adjutant/Features/Epics/Views/EpicsListView.swift, ios/Adjutant/Features/Epics/ViewModels/EpicsListViewModel.swift, ios/Adjutant/Features/Projects/ for reference on how projects are listed.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:38:41Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:45:57Z","closed_at":"2026-02-21T14:45:57Z","close_reason":"Closed"}
{"id":"adj-c31","title":"T016: Integrate AgentAssignDropdown into EpicDetailView subtask rows","description":"Integrate AgentAssignDropdown into EpicDetailView subtask rows, passing subtask bead id and current assignee in frontend/src/components/epics/EpicDetailView.tsx","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:11Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:11Z"}
{"id":"adj-c6w","title":"Align APNs notification type field: change agent_message to chat_message in backend MCP messaging.ts","description":"In backend/src/services/mcp-tools/messaging.ts line 76, the payload sends type:'agent_message' but iOS AppDelegate.swift handles type:'chat_message'. Change to 'chat_message' to match iOS expectations. Also include 'agentId' field (currently sends 'from') and include 'body' in the data payload so iOS handleChatMessageNotification can read it.","status":"closed","priority":1,"issue_type":"task","assignee":"backend-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:30Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:26:28Z","closed_at":"2026-02-23T06:26:28Z","close_reason":"Fixed data payload: type→chat_message, from→agentId, added body in data"}
{"id":"adj-c8f","title":"Fix: beads test MockMcpServer constructor crash (25/25 failing)","description":"mcp-beads.test.ts uses vi.fn().mockImplementation() in vi.hoisted() to create MockMcpServer. vi.fn() returns a non-constructable proxy so 'new MockMcpServer()' throws TypeError. Same root cause as adj-010.2.7.1 (mcp-server.test.ts). Fix: use a real class or regular function keyword instead of vi.fn().mockImplementation().","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:19:32Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:35Z","closed_at":"2026-02-21T18:34:35Z","close_reason":"Fixed: vi.mock arrow functions replaced with function expressions"}
{"id":"adj-cfq","title":"A4: Wire WebSocket agent status change events","description":"Session-registry already emits agent:status_changed events. Create WS endpoint /api/agents/stream that pushes {type, agent, fromStatus, toStatus, timestamp} to connected clients. The Crew tab will subscribe to this for real-time updates. In backend/src/routes/agents.ts or new ws handler.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:49Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:17:22Z","closed_at":"2026-02-21T02:17:22Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-cfq","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:44Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-cnn","title":"US2: Assign from Epics View","description":"Mayor can assign epic subtasks and epics to agents from EpicDetailView (3 tasks)","status":"open","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:24Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:06:24Z","dependencies":[{"issue_id":"adj-cnn","depends_on_id":"adj-5re","type":"blocks","created_at":"2026-02-22T16:07:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-cnn","depends_on_id":"adj-c31","type":"blocks","created_at":"2026-02-22T16:07:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-cnn","depends_on_id":"adj-fes","type":"blocks","created_at":"2026-02-22T16:07:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-cnn","depends_on_id":"adj-i27","type":"blocks","created_at":"2026-02-22T16:06:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-cnn","depends_on_id":"adj-yfn","type":"blocks","created_at":"2026-02-22T16:06:36Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-cnz","title":"D3: Assign bead to agent from crew tab","description":"Assign work action on idle agent cards. Bead picker showing ready beads from bd ready. Updates hook bead assignment via backend. Agent card immediately reflects new task. New endpoint or use existing beads API.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:21Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:45Z","closed_at":"2026-02-21T02:24:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-cnz","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:54Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-cu0","title":"Add AGENT_MESSAGE category to iOS NotificationService and register it","description":"Add a new notification category 'AGENT_MESSAGE' (or reuse CHAT_MESSAGE) in NotificationService.swift. Ensure AppDelegate.swift switch case handles 'agent_message' type if we keep the backend type as-is. The category should support View and Reply actions.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:33Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:27:05Z","closed_at":"2026-02-23T06:27:05Z","close_reason":"Added AGENT_MESSAGE category to NotificationService Category enum and registered it with View/Dismiss actions"}
{"id":"adj-cv4","title":"Fix C: Fix announce broadcast type in status.ts","description":"The announce MCP tool in status.ts:165-172 broadcasts with type='message' instead of type='chat_message'. Either change to chat_message for consistency or remove the orphaned broadcast since iOS ignores type=message after c739cc0 patch.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:02:05Z","created_by":"Justin Martin","updated_at":"2026-02-22T18:04:36Z","closed_at":"2026-02-22T18:04:36Z","close_reason":"Closed"}
{"id":"adj-cyo","title":"T006: Register agents route in app setup","description":"Register agents route in backend/src/index.ts or app setup file","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:51Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:38Z","closed_at":"2026-02-23T05:43:38Z","close_reason":"Already implemented in codebase"}
{"id":"adj-d0l","title":"Bug: searchMessages crashes on empty string query (FTS5 MATCH)","description":"message-store.ts searchMessages() does not validate against empty string queries. FTS5 MATCH '' in SQLite throws an error. The search_messages MCP tool uses z.string() which allows empty strings, so an agent passing query='' would crash the search. Should either validate query is non-empty (z.string().min(1)) or return empty results for empty queries.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:26Z","closed_at":"2026-02-21T19:14:26Z","close_reason":"Fixed: searchMessages returns [] for empty queries"}
{"id":"adj-d5g","title":"Epic: Crew tab swarm mode overhaul","description":"Transform the Crew tab into a real-time swarm command center showing all active agents, what they're working on, live terminal output, and agent management controls. See docs/crew-swarm-update.md for full design.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:22Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:22Z","closed_at":"2026-02-21T02:30:22Z","close_reason":"All 4 tracks complete: backend enrichment, frontend redesign, real-time updates, agent controls","dependencies":[{"issue_id":"adj-d5g","depends_on_id":"adj-49u","type":"blocks","created_at":"2026-02-20T19:07:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-d5g","depends_on_id":"adj-8j4","type":"blocks","created_at":"2026-02-20T19:07:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-d5g","depends_on_id":"adj-en1","type":"blocks","created_at":"2026-02-20T19:07:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-d5g","depends_on_id":"adj-q92","type":"blocks","created_at":"2026-02-20T19:07:27Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-d74n","title":"Add APNs notification triggers for MCP announcements and bead status changes","description":"In backend/src/services/mcp-tools/status.ts, ensure announce() tool triggers APNs push with appropriate type and payload. Add notification categories for announcements (completion, blocker, question) that deep link to the relevant bead or agent. This makes the system extensible beyond just chat messages.","status":"closed","priority":2,"issue_type":"task","assignee":"backend-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:52Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:27:00Z","closed_at":"2026-02-23T06:27:00Z","close_reason":"Announcement APNs trigger already existed; aligned payload with iOS expectations (agentId, body, beadId in data)"}
{"id":"adj-dbu","title":"Bug: MCP bead tools and query tools never registered at startup","description":"registerBeadTools() and registerQueryTools() are defined in mcp-tools/beads.ts and mcp-tools/queries.ts respectively, and have passing unit tests, but are never imported or called in index.ts or mcp-server.ts. This means agents connecting via MCP will not have access to create_bead, update_bead, close_bead, list_beads, show_bead, list_agents, get_project_state, or search_messages tools at runtime.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:50Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:26Z","closed_at":"2026-02-21T19:14:26Z","close_reason":"Fixed: all 4 tool groups now registered at startup"}
{"id":"adj-don","title":"Fix B: Filter messages by role in ChatViewModel","description":"ChatViewModel.performRefresh() and handleIncomingMessage() show all messages including role=announcement. Filter to only show role=user and role=agent. Announcements should not appear as chat bubbles.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:02:03Z","created_by":"Justin Martin","updated_at":"2026-02-22T18:03:46Z","closed_at":"2026-02-22T18:03:46Z","close_reason":"Closed"}
{"id":"adj-dyj","title":"A3: Add swarm summary stats endpoint","description":"New endpoint GET /api/swarms/active returning {id, agentCount, activeCount, idleCount, blockedCount, overallProgress, createdAt}. Aggregate from swarm-service registry and agent data. Add to backend/src/routes/swarms.ts.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:47Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:14:42Z","closed_at":"2026-02-21T02:14:42Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-dyj","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:43Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-e7x","title":"T019: Write unit tests for agent filtering logic","description":"Write unit tests for agent filtering logic (only idle/working shown, empty state) in frontend/tests/unit/agent-assign-dropdown.test.ts","status":"open","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:18Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:18Z"}
{"id":"adj-edj","title":"Phase 3: Web frontend chat UI","description":"Extract ChatBubble/ChatMessages/ChatHeader/ChatInput from CommandChat. Create ChatTab with view state machine. Create useChatMessages hook. Create HistoryPanel + FullSessionOverlay.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-edj","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:20Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-emo","title":"Fix: messaging wsBroadcast uses 'as any' type escape for chat_message","description":"In messaging.ts:66 and messages.ts:130, wsBroadcast is called with type 'chat_message' using 'as any' cast. This bypasses the typed WsBroadcastMessage interface. The WsMessage type union in ws-server.ts needs a new 'chat_message' variant added to properly type these broadcasts. Same pattern in both MCP tool (messaging.ts) and REST route (messages.ts).","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:39Z","closed_at":"2026-02-21T18:36:39Z","close_reason":"Deferred P3: as-any type escape works correctly, cosmetic improvement for later"}
{"id":"adj-en1","title":"Track D: Agent management controls","description":"Add operator controls for swarm management from Crew tab: spawn agent, remove agent, assign bead to agent. Leverages existing swarm-service CRUD endpoints.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:35Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:48Z","closed_at":"2026-02-21T02:24:48Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-en1","depends_on_id":"adj-cnz","type":"blocks","created_at":"2026-02-20T19:07:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-en1","depends_on_id":"adj-ie7","type":"blocks","created_at":"2026-02-20T19:07:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-en1","depends_on_id":"adj-v84","type":"blocks","created_at":"2026-02-20T19:07:37Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-fes","title":"T017: Integrate AgentAssignDropdown into EpicCard","description":"Integrate AgentAssignDropdown into EpicCard for epic-level assignment in frontend/src/components/epics/EpicCard.tsx","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:12Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:12Z"}
{"id":"adj-fne","title":"Foreground Notification Suppression","description":"When user is actively viewing a chat with agent X, suppress push notification banners for messages from agent X. Implement by tracking the currently viewed agent ID and checking in willPresent delegate. Show notifications for all other agents/chats normally.","status":"open","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:14Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:23:14Z","dependencies":[{"issue_id":"adj-fne","depends_on_id":"adj-60e","type":"blocks","created_at":"2026-02-23T00:24:13Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-fne","depends_on_id":"adj-6w3","type":"blocks","created_at":"2026-02-23T00:24:13Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-g5i","title":"QA: .mcp.json uses env var interpolation that Claude Code may not support","description":".mcp.json contains:\\n\\n  \"X-Agent-Id\": \"${ADJUTANT_AGENT_ID:-unknown}\"\\n\\nThis shell-style variable interpolation (${VAR:-default}) may not be supported by Claude Code's MCP configuration parser. Claude Code likely reads .mcp.json as plain JSON, treating the value as a literal string '${ADJUTANT_AGENT_ID:-unknown}' rather than performing shell expansion.\\n\\nIf this is intentional (the MCP server receives the literal string and handles it server-side), then it's fine. But if the expectation is that the agent ID is resolved client-side before connecting, this will silently fail and all agents will connect with the literal string as their ID.\\n\\nThe init command should document or verify how this interpolation works.\\n\\nFile: .mcp.json:7\\nSeverity: Medium - could cause all agents to have the same ID, breaking identity resolution","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:09:15Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:26Z","closed_at":"2026-02-22T19:12:26Z","close_reason":"Doc/plan out of date. Not a code issue."}
{"id":"adj-gj7","title":"QA: getVersion() in cli/index.ts resolves wrong package.json path when compiled","description":"In cli/index.ts:24, getVersion() reads package.json relative to __dirname:\\n\\n  readFileSync(join(__dirname, '..', 'package.json'), 'utf-8')\\n\\nWhen compiled, __dirname is dist/cli/, so '..' resolves to dist/, not the project root. The package.json is at the project root, not in dist/. This means the version lookup will fail silently (caught by try/catch) and return 'unknown'.\\n\\nThe bin/cli.js entry point has a similar line (line 13) but uses join(__dirname, '..', 'package.json') where __dirname is bin/, so '..' correctly resolves to the project root.\\n\\nFor cli/index.ts compiled to dist/cli/index.js, it should be join(__dirname, '..', '..', 'package.json') to reach the project root.\\n\\nFile: cli/index.ts:24\\nSeverity: Medium - 'adjutant --version' shows 'unknown' when run from compiled dist","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:07:24Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-gkj","title":"Persistent messaging system for swarm mode","description":"Replace ephemeral chat and beads-based mail with a unified persistent messaging system backed by SQLite. See docs/persistent-messaging-system.md for full design.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:08:49Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-gkj","depends_on_id":"adj-04c","type":"blocks","created_at":"2026-02-21T09:09:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:15Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-4xp","type":"blocks","created_at":"2026-02-21T09:09:18Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-51v","type":"blocks","created_at":"2026-02-21T09:09:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-edj","type":"blocks","created_at":"2026-02-21T09:09:16Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-n86","type":"blocks","created_at":"2026-02-21T09:09:15Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-zlh","type":"blocks","created_at":"2026-02-21T09:09:16Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-gqh","title":"Remove START TEAM button from Project Detail page","description":"iOS app: Remove the 'START TEAM (3 AGENTS)' button from the SwarmProjectDetailView. File: ios/Adjutant/Features/Projects/SwarmProjectDetailView.swift, line ~302-309. The actionButton with label 'START TEAM (3 AGENTS)' and its associated handler should be removed.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:38:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:44:44Z","closed_at":"2026-02-21T14:44:44Z","close_reason":"Closed"}
{"id":"adj-grv","title":"T024: Run quickstart.md validation","description":"Run quickstart.md validation (manual test of all endpoints and UI flows)","status":"open","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:27Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:27Z"}
{"id":"adj-hb2","title":"Session output leaking into normal chat view","description":"After sending a message, terminal session output from agent tmux sessions appears in the normal chat view. Chat should only display SQLite-backed messages (chat_message type). Investigate: (1) WS handleMessage broadcasts type:'message' (not chat_message) — CommunicationContext.tsx handles both types on line 252-253. (2) Check if session_output events are somehow being broadcast via wsBroadcast. (3) iOS ChatWebSocketService handleLegacyChatMessage may be too permissive. (4) The WS message path should persist to SQLite first, then broadcast as chat_message — currently it only broadcasts without persistence.","status":"closed","priority":1,"issue_type":"task","assignee":"session-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T02:44:32Z","created_by":"Justin Martin","updated_at":"2026-02-22T04:35:55Z","closed_at":"2026-02-22T04:35:55Z","close_reason":"Fixed session output leak: WS messages now route through SQLite message store and broadcast as chat_message. Frontend/iOS only handle chat_message type."}
{"id":"adj-hp9","title":"Fix: getAgentStatuses returns mutable reference to internal Map","description":"status.ts:36 getAgentStatuses() returns the internal agentStatuses Map directly. Any caller can mutate the module-level state (delete entries, modify values). Should return a shallow copy: return new Map(agentStatuses). This is a defensive programming issue -- callers should not be able to corrupt internal state.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:39Z","closed_at":"2026-02-21T18:36:39Z","close_reason":"Deferred P3: mutable Map reference is internal-only, safe for current usage"}
{"id":"adj-hty","title":"T023: Add JSDoc comments to all new public functions","description":"Add JSDoc comments to all new public functions and components","status":"open","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:26Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:07:26Z"}
{"id":"adj-i1w","title":"C3: Reduce swarm polling interval to 10s","description":"Quick win: reduce base polling interval from 60s to 10s for swarm mode as fallback while WebSocket is primary. Update useDashboardCrew.ts or useSwarmAgents polling config. Mode-aware interval selection.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:12Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:12:34Z","closed_at":"2026-02-21T02:12:34Z","close_reason":"Closed"}
{"id":"adj-i27","title":"Foundational: Backend Endpoints","description":"Backend endpoints that ALL user stories depend on — agent list API and bead assignment API (8 tasks)","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:22Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:45:58Z","closed_at":"2026-02-23T05:45:58Z","close_reason":"All backend endpoint tasks complete. PATCH accepts assignee, GET /api/agents works, frontend API updated.","dependencies":[{"issue_id":"adj-i27","depends_on_id":"adj-18z","type":"blocks","created_at":"2026-02-22T16:07:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-3i1","type":"blocks","created_at":"2026-02-22T16:07:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-471","type":"blocks","created_at":"2026-02-22T16:07:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-487","type":"blocks","created_at":"2026-02-22T16:07:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-8fo","type":"blocks","created_at":"2026-02-22T16:07:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-8pr","type":"blocks","created_at":"2026-02-22T16:06:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-cyo","type":"blocks","created_at":"2026-02-22T16:07:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-ipm","type":"blocks","created_at":"2026-02-22T16:07:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-i27","depends_on_id":"adj-pzf","type":"blocks","created_at":"2026-02-22T16:07:36Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-i6r","title":"Refactor: FTS5 search query not sanitized for special characters","description":"In message-store.ts searchMessages(), the query string is passed directly to FTS5 MATCH. FTS5 has special syntax characters (AND, OR, NOT, quotes, asterisks, etc.) that can cause parse errors if user/agent input contains them. For example, searching for 'C++ OR crash' would be interpreted as FTS5 boolean logic. While this is not SQL injection (parameterized queries prevent that), it causes unhandled SQLite exceptions that will 500 the REST API and crash MCP tool calls. Fix: escape or sanitize the FTS5 query input, or wrap the search in try/catch with a user-friendly error.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:34Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:53Z","closed_at":"2026-02-21T19:17:53Z","close_reason":"Fixed: FTS5 queries wrapped in escaped double quotes"}
{"id":"adj-idn","title":"Refactor: REST messages router missing limit validation","description":"In routes/messages.ts GET /, the limit query param is parsed with parseInt but never validated. A client could pass limit=999999999 and pull the entire message history in one request, causing memory pressure. Similarly, limit=-1 or limit=NaN (from invalid input) would cause unpredictable behavior. The POST endpoint uses Zod validation, but the GET endpoint has no input validation at all. Add Zod validation or at least clamp the limit to a reasonable range (e.g., 1-200).","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:26Z","closed_at":"2026-02-21T19:25:26Z","close_reason":"Deferred P3: limit defaults to 50 in service layer, validation is nice-to-have"}
{"id":"adj-ie7","title":"D2: Remove agent from swarm","description":"Context menu or button on agent card to remove agent. Confirmation dialog (Agent X is working. Remove anyway?). Calls existing DELETE /api/swarms/:id/agents/:sessionId. Handle graceful vs force removal. Updates UI optimistically.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:45Z","closed_at":"2026-02-21T02:24:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-ie7","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:53Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-ipm","title":"T003: Write unit tests for GET /api/agents endpoint","description":"Write unit tests for GET /api/agents endpoint in backend/tests/unit/agents-route.test.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:48Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:38Z","closed_at":"2026-02-23T05:43:38Z","close_reason":"Already implemented in codebase"}
{"id":"adj-j00","title":"Fix: announce tool missing APNS push notification (spec US2-AC2)","description":"Spec User Story 2, Acceptance Criteria 2 says: 'When [agent] calls announce(type: completion), Then iOS sends a push.' The announce tool in status.ts stores the message and broadcasts via WebSocket, but does NOT call sendNotificationToAll from apns-service. Compare with messaging.ts which correctly sends APNS for messages to 'user'. The announce tool should also send APNS push with title=announcement type and body=announcement title.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:21:50Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:32Z","closed_at":"2026-02-21T18:36:32Z","close_reason":"Fixed: announce tool now sends APNS push notifications"}
{"id":"adj-j7c","title":"Fix docs instructing agents to manually close epics","description":"Multiple docs (PRIME.md, PRIME copy.md, beads-workflow.md) tell agents to 'bd close \u003cparent-id\u003e' after all tasks done. This conflicts with the epic auto-completion strategy (bd epic close-eligible) implemented in beads-service.ts. Agents attempting bd close on an epic will get EPIC_CLOSE_BLOCKED error. Update all docs to explain that epics auto-close when all children are closed.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:09:21Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:10:55Z","closed_at":"2026-02-23T06:10:55Z","close_reason":"Updated PRIME.md, PRIME copy.md, and beads-workflow.md to reflect epic auto-completion. Removed all instructions to manually bd close parent epics."}
{"id":"adj-ja1","title":"Bug: Bead and Query MCP tools never registered at startup","description":"registerBeadTools() and registerQueryTools() are defined in mcp-tools/beads.ts and mcp-tools/queries.ts but are never called during server initialization. Only registerStatusTools() and registerMessagingTools() are wired up in initMcpServer() + index.ts. Agents connecting via MCP will not have access to create_bead, update_bead, close_bead, list_beads, show_bead, list_agents, get_project_state, or search_messages. Fix: add registerBeadTools(server) and registerQueryTools(server, store) calls in initMcpServer() or index.ts.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:11:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:54Z","closed_at":"2026-02-21T19:14:54Z","close_reason":"Already fixed in ce60ebf (same as adj-dbu)"}
{"id":"adj-jqs","title":"Bug: Web useChatMessages WS subscription does not filter by agentId","description":"In useChatMessages.ts, the subscribe() callback (line 92) accepts ALL incoming messages from the CommunicationContext without checking if the message is from/to the current agentId. This means messages from agent 'researcher' would appear in agent 'coder' conversation. Fix: add agent scoping check like iOS does in handleIncomingMessage: guard message.agentId == agentId || message.recipient == agentId","status":"closed","priority":2,"issue_type":"bug","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:21:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:27:22Z","closed_at":"2026-02-21T19:27:22Z","close_reason":"Closed"}
{"id":"adj-k9k","title":"Bug: initMcpServer creates a second MessageStore instance","description":"initMcpServer() in mcp-server.ts creates its own MessageStore (line 77: const store = createMessageStore(db)), while index.ts also creates one (const messageStore = ...) and passes it to registerMessagingTools. This means status tools (set_status, report_progress, announce) operate on a DIFFERENT MessageStore instance than messaging tools (send_message, read_messages). While both use the same underlying SQLite DB, they hold different prepared statements. This duplication is confusing and will cause bugs if any caching or state is ever added to MessageStore. Fix: pass the message store into initMcpServer() instead of creating one internally, or move all tool registration to a single place.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:22Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:52Z","closed_at":"2026-02-21T19:17:52Z","close_reason":"Fixed: removed duplicate MessageStore, all tool registration in index.ts"}
{"id":"adj-l5e","title":"Fix A: Always render ChatView regardless of deployment mode","description":"In MainTabView.swift:108-112, swarm mode renders UnifiedChatView() instead of ChatView(). Change to always render ChatView. Move UnifiedChatView access to SessionSwitcherButton which already exists.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T18:02:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T18:03:34Z","closed_at":"2026-02-22T18:03:34Z","close_reason":"Closed"}
{"id":"adj-l9g","title":"Spec directory review and cleanup","description":"Review all 16 specs in specs/ directory. Archive specs for completed features, remove Gastown-coupled specs that are no longer relevant, keep specs for desired future features (voice, push notifications, etc.)","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:51:36Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:54:58Z","closed_at":"2026-02-23T05:54:58Z","close_reason":"Completed deep review of all 8 assigned specs. Report sent to team-lead."}
{"id":"adj-lrb","title":"Fix: mark_read tool silently succeeds when neither messageId nor agentId provided","description":"messaging.ts:172-179 mark_read tool handler: if both messageId and agentId are undefined, the handler does nothing but still returns {success: true}. This is misleading. Should return an error indicating that at least one of messageId or agentId is required. The Zod schema marks both as optional but the handler needs a runtime check.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:33Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:38Z","closed_at":"2026-02-21T18:34:38Z","close_reason":"Fixed: mark_read validates input params"}
{"id":"adj-lsc","title":"QA: No Node.js version check in init or doctor","description":"package.json specifies 'engines.node \u003e= 20.0.0' but neither the init command nor the doctor command checks the Node.js version. npm will warn but not block on engine mismatches by default (unless the user has engine-strict=true in .npmrc).\\n\\nA user on Node 18 (still common in some environments) would:\\n1. npm install succeeds (no enforcement)\\n2. adjutant init might fail with cryptic syntax errors from ES2022 features\\n3. No clear error message about the version requirement\\n\\nDoctor should check process.version against the engines requirement and report FAIL if too old. Init could also check early and bail with a clear message.\\n\\nFiles: cli/commands/doctor.ts (missing check), cli/commands/init.ts (missing check)\\nSeverity: Medium - affects users with older Node.js","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:08:41Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-mhf","title":"Agent Task Assignment","description":"Add ability to assign beads/tasks to agents from Beads and Epics views. Assignment updates assignee, auto-transitions open beads to in_progress, and notifies the assigned agent via messaging.","status":"open","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:16Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:06:16Z","dependencies":[{"issue_id":"adj-mhf","depends_on_id":"adj-0vf","type":"blocks","created_at":"2026-02-22T16:06:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-8pr","type":"blocks","created_at":"2026-02-22T16:06:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-cnn","type":"blocks","created_at":"2026-02-22T16:06:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-i27","type":"blocks","created_at":"2026-02-22T16:06:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-mhf.1","type":"blocks","created_at":"2026-02-23T07:54:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-mhf.2","type":"blocks","created_at":"2026-02-23T07:54:39Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-qus","type":"blocks","created_at":"2026-02-22T16:06:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-mhf","depends_on_id":"adj-yfn","type":"blocks","created_at":"2026-02-22T16:06:32Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-mhf.1","title":"Drag-to-in_progress triggers agent assignment modal","description":"When a bead is dragged into the in_progress column on the Kanban board, intercept the drop and show an agent selection modal/popup before completing the move. The modal lets the user pick which agent to assign. On confirm: update both status to in_progress AND assignee. On cancel: abort the drag (don't move the card).","status":"open","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T13:54:30Z","created_by":"Justin Martin","updated_at":"2026-02-23T13:54:30Z"}
{"id":"adj-mhf.2","title":"Auto-message agent on bead assignment (backend)","description":"When PATCH /api/beads/:id receives an assignee field, automatically send a message from 'user' to the assigned agent: 'You've been assigned to \u003cbead-id\u003e. Finish what you are working on and then begin immediately. Report updates via Adjutant skills.' This fires regardless of how the assignment happens — kanban drag, detail view, epics view, or direct API. Implemented in the beads route or beads-service layer.","status":"closed","priority":1,"issue_type":"task","assignee":"adjutant-agent","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T13:54:33Z","created_by":"Justin Martin","updated_at":"2026-02-23T14:06:38Z","closed_at":"2026-02-23T14:06:38Z","close_reason":"Event bus listener auto-sends message from user to agent when bead:updated has assignee. Includes WS broadcast and tmux delivery."}
{"id":"adj-n4x","title":"QA: adjutantHookRegistered() checks wrong hook command vs what init will register","description":"In cli/lib/checks.ts:116, the hook check looks for:\\n\\n  const HOOK_COMMAND = 'cat .adjutant/PRIME.md 2\u003e/dev/null || true';\\n\\nBut the existing ~/.claude/settings.json has:\\n\\n  { type: 'command', command: 'bd prime' }\\n\\nThe spec says init should register an ADJUTANT-specific hook alongside the existing 'bd prime' hook. However, when doctor runs adjutantHookRegistered(), it will return false because the existing hooks use 'bd prime' not 'cat .adjutant/PRIME.md'. This is by design (they're different hooks), but:\\n\\n1. The init command must be careful to ADD the new hook, not replace 'bd prime'\\n2. After init adds both hooks, every session will execute BOTH 'bd prime' AND 'cat .adjutant/PRIME.md', which is redundant since bd prime already handles protocol injection\\n3. The spec (US3, acceptance scenario 4) explicitly requires coexistence, but doesn't address the redundancy\\n\\nThe init agent should be aware that both hooks serve overlapping purposes.\\n\\nFile: cli/lib/checks.ts:116, ~/.claude/settings.json hooks section\\nSeverity: Medium - potential redundant hook execution, but functionally correct","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:07:51Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:14Z","closed_at":"2026-02-22T19:12:14Z","close_reason":"By design: empty matcher is correct for global hooks"}
{"id":"adj-n86","title":"Phase 2: Agent communication","description":"Inject ADJUTANT_SESSION_ID env var in session creation. Create .claude/rules/adjutant-messaging.md. POST /api/messages for agent-originated messages. APNS push for offline delivery.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-n86","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:19Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-nhc","title":"Fix: mcp-server.test.ts still 18/25 failing (constructor mock unfixed)","description":"adj-010.2.7.1 was closed but the mcp-server.test.ts still has 18/25 tests failing. The vi.fn().mockImplementation() pattern inside vi.mock factory still produces a non-constructable function. Commits d6a8bc3 and 48e0357 did not resolve the issue. Fix: replace the arrow function in vi.mock factory with a real class definition or use function keyword (not arrow) which is constructable.","status":"closed","priority":0,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:19:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:35Z","closed_at":"2026-02-21T18:34:35Z","close_reason":"Fixed: vi.mock arrow functions replaced with function expressions"}
{"id":"adj-nqu","title":"iOS: Chat history lost after background/shutdown","description":"When the iOS app is backgrounded or killed, chat messages disappear. Root causes: (1) ResponseCache.shared.chatMessages is in-memory only — lost on termination. (2) onAppear() doesn't call refresh() directly — it waits for WebSocket connect callback (line 248). (3) No background refresh when scenePhase changes to .active (MainTabView.swift:89-92 only resets TabView ID). Fix: call refresh() eagerly in onAppear, and trigger refresh on scenePhase .active. Consider persisting cache to UserDefaults or disk for instant display on cold start.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T02:44:28Z","created_by":"Justin Martin","updated_at":"2026-02-22T04:26:05Z","closed_at":"2026-02-22T04:26:05Z","close_reason":"Fixed iOS chat history: eager refresh on appear, foreground refresh via didBecomeActiveNotification, UserDefaults persistence for cold starts"}
{"id":"adj-ogcp","title":"Add backend unit tests for APNs notification trigger in MCP messaging","description":"Write Vitest tests for the send_message MCP tool to verify: 1) APNs sendNotificationToAll is called when recipient is 'user' or 'mayor/'. 2) Correct payload shape is sent (type, agentId, body, messageId). 3) APNs is NOT called for agent-to-agent messages. 4) Failure in APNs doesn't break message delivery.","status":"closed","priority":2,"issue_type":"task","assignee":"backend-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:24:00Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:28:52Z","closed_at":"2026-02-23T06:28:52Z","close_reason":"Added 6 new APNs tests: correct payload shape, mayor/ recipient, agent-to-agent skip, APNs failure resilience, body truncation"}
{"id":"adj-ogi","title":"T002: Add AgentInfo type and BeadAssignRequest Zod schema to backend","description":"Add AgentInfo type and BeadAssignRequest Zod schema to backend/src/types/index.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:44Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:44:21Z","closed_at":"2026-02-23T05:44:21Z","close_reason":"Backend uses CrewMember type, frontend uses same. Separate AgentInfo type unnecessary."}
{"id":"adj-ok0","title":"QA: httpReachable() doesn't close response body - potential resource leak","description":"In cli/lib/checks.ts:49-58, httpReachable() calls fetch() and reads response.status but never consumes or closes the response body. While this works fine for a CLI that exits shortly after, it can cause:\\n\\n1. Node.js warnings about unconsumed response bodies in newer versions\\n2. Potential connection pool exhaustion if called many times\\n3. The AbortController timeout fires but the response may still be open\\n\\nShould add a response.body?.cancel() or response.text() call to properly close the connection.\\n\\nFile: cli/lib/checks.ts:49-58\\nSeverity: Low - CLI exits quickly so connections are cleaned up, but poor practice","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:09:50Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:38Z","closed_at":"2026-02-22T19:14:38Z","close_reason":"Deferred: P3, postinstall works fine in current npm versions"}
{"id":"adj-p23","title":"Refactor: getThreads correlated subquery is N+1-like","description":"In message-store.ts getThreads(), the latest_body column uses a correlated subquery: (SELECT body FROM messages m2 WHERE m2.thread_id = messages.thread_id ORDER BY created_at DESC LIMIT 1). This executes once per group, making it O(threads * messages_per_thread). For a small dataset this is fine, but it won't scale. The query also has an ambiguity: when multiple agents post in a thread, the GROUP BY agent_id means you get one row per (thread_id, agent_id) pair, not one row per thread_id. The correlated subquery also doesn't filter by agent_id, so it returns the latest body from ANY agent in that thread, not necessarily the grouping agent. Fix: use a window function (ROW_NUMBER() OVER PARTITION BY thread_id ORDER BY created_at DESC) or restructure the query.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:30Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:27Z","closed_at":"2026-02-21T19:25:27Z","close_reason":"Deferred P3: correlated subquery is fine for small thread counts"}
{"id":"adj-pzf","title":"T007: Add assignBead() function to beads-service","description":"Add assignBead() to beads-service: bd update --assignee, auto-transition open to in_progress, send notification via message-store, broadcast via WebSocket in backend/src/services/beads-service.ts","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:52Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:38Z","closed_at":"2026-02-23T05:43:38Z","close_reason":"Already implemented in codebase"}
{"id":"adj-q92","title":"Track B: Frontend crew tab swarm UI redesign","description":"Redesign swarm mode rendering in CrewStats with rich agent cards, swarm overview panel, status-based grouping, and inline terminal expansion. Depends on Track A for enriched data types.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-q92","depends_on_id":"adj-35p","type":"blocks","created_at":"2026-02-20T19:07:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-q92","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-q92","depends_on_id":"adj-8u0","type":"blocks","created_at":"2026-02-20T19:07:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-q92","depends_on_id":"adj-wvh","type":"blocks","created_at":"2026-02-20T19:07:33Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-qus","title":"US3: Agent Availability Filtering","description":"Assignment dropdown only shows idle/working agents, refreshes on open, shows empty state (3 tasks)","status":"open","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:25Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:06:25Z","dependencies":[{"issue_id":"adj-qus","depends_on_id":"adj-04g","type":"blocks","created_at":"2026-02-22T16:07:45Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-qus","depends_on_id":"adj-09g","type":"blocks","created_at":"2026-02-22T16:07:44Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-qus","depends_on_id":"adj-e7x","type":"blocks","created_at":"2026-02-22T16:07:44Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-qus","depends_on_id":"adj-yfn","type":"blocks","created_at":"2026-02-22T16:06:37Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-rg65","title":"Add iOS unit tests for foreground notification suppression","description":"Write XCTest tests to verify: 1) willPresent returns empty options when viewing the agent's chat. 2) willPresent returns [.banner, .sound, .badge] when viewing a different agent's chat. 3) willPresent returns full options when not on chat tab. 4) Switching away from chat re-enables notifications.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:24:02Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:34:47Z","closed_at":"2026-02-23T06:34:47Z","close_reason":"iOS suppression tests written with 9 test cases covering all scenarios"}
{"id":"adj-s1o","title":"iOS WebSocket still failing -- ngrok may add compression independently","description":"adj-9kq added perMessageDeflate:false to ws-server.ts but iOS still gets 'input control frame can not be compressed' through ngrok. The fix may not be deployed (backend not restarted), OR ngrok's WebSocket proxy re-negotiates compression independently of the origin server. Need to: 1) Verify backend was restarted with the fix 2) If still failing, investigate ngrok WebSocket compression behavior 3) May need iOS-side fix to reject compression negotiation, or configure ngrok to disable WS compression","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:08:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:16:45Z","closed_at":"2026-02-21T15:16:45Z","close_reason":"Closed"}
{"id":"adj-sciv","title":"QA review: end-to-end push notification flow verification","description":"QA review of all push notification changes. Verify: 1) Agent sends message -\u003e backend triggers APNs -\u003e iOS shows banner (when not in that chat). 2) Banner suppressed when viewing the relevant chat. 3) Tapping notification navigates to correct chat. 4) Cold start from notification works. 5) All notification categories registered. 6) No duplicate notifications. 7) Badge count updates correctly.","status":"closed","priority":2,"issue_type":"task","assignee":"qa-reviewer","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:24:05Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:40:38Z","closed_at":"2026-02-23T06:40:38Z","close_reason":"QA review complete. 10-point checklist passed (8 PASS, 2 with minor issues). Filed adj-8tkq for double notification bug. See MCP message thread adj-b1p-qa for full report.","dependencies":[{"issue_id":"adj-sciv","depends_on_id":"adj-6w3","type":"blocks","created_at":"2026-02-23T00:24:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-sciv","depends_on_id":"adj-789","type":"blocks","created_at":"2026-02-23T00:24:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-sciv","depends_on_id":"adj-c6w","type":"blocks","created_at":"2026-02-23T00:24:24Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-ta6","title":"QA: postinstall.js uses ES module syntax but may fail in some npm contexts","description":"bin/postinstall.js uses ES module 'import' syntax (import { execSync } from 'child_process'), which works because package.json has 'type: module'. However:\\n\\n1. Some npm versions/configurations run postinstall scripts in a context where 'type: module' may not be respected\\n2. The file has '#\\!/usr/bin/env node' shebang but npm may not use it when running postinstall\\n3. If a user installs adjutant as a dependency in a CommonJS project, the postinstall script runs in that project's context where 'type: module' doesn't apply\\n\\nActually, npm runs postinstall in the PACKAGE's own directory, so type:module from the package's own package.json should apply. But this edge case should be tested with:\\n- npm install -g . (global install)\\n- npm install adjutant (as dependency in another project)\\n- Different npm versions (7, 8, 9, 10)\\n\\nFile: bin/postinstall.js\\nSeverity: Low - likely fine but worth testing across npm versions","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:08:54Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:39Z","closed_at":"2026-02-22T19:14:39Z","close_reason":"Deferred: P3, postinstall works fine in current npm versions"}
{"id":"adj-tjq","title":"Backend fixes: conversation SQL, pagination fallback, session cleanup, validation","description":"Fix 1: conversation scoping SQL to include user-sent messages. Fix 2-backend: beforeId-to-timestamp fallback. Fix 9: session output listener cleanup. Fix 16: input validation limits.","status":"closed","priority":0,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T16:52:31Z","created_by":"Justin Martin","updated_at":"2026-02-22T16:56:26Z","closed_at":"2026-02-22T16:56:26Z","close_reason":"Closed"}
{"id":"adj-ts9","title":"QA: commandAvailable() vulnerable to command injection","description":"In cli/lib/checks.ts:41, the command name is interpolated directly into a shell string:\\n\\n  execSync('which ${command}', { stdio: 'ignore' })\\n\\nIf 'command' contains shell metacharacters (e.g., '; rm -rf /'), this would execute arbitrary commands. While the function is currently called with hardcoded strings ('bd'), it's a public export and could be called with user input in the future.\\n\\nFix: Use execFileSync('which', [command]) or validate the command name against a safe pattern (e.g., /^[a-zA-Z0-9_-]+$/).\\n\\nFile: cli/lib/checks.ts:39-46\\nSeverity: Low (currently safe due to hardcoded inputs, but risky API surface)","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:06:28Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-uv3","title":"Fix: messaging resolveAgentFromExtra uses _meta pattern instead of getAgentBySession","description":"messaging.ts uses a different agent identity resolution pattern than status.ts. Status tools use getAgentBySession(extra.sessionId) which looks up the connection map in mcp-server.ts. Messaging tools use extra._meta.agentId which depends on a client-supplied _meta field. This is inconsistent and _meta may not be present in all MCP SDK versions. Should use the same getAgentBySession pattern as status tools for consistent, server-side identity resolution.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:14Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:37Z","closed_at":"2026-02-21T18:34:37Z","close_reason":"Fixed: messaging uses getAgentBySession instead of _meta"}
{"id":"adj-v2e","title":"Chat reliability: history persistence \u0026 session output leak","description":"Epic for two chat bugs: (1) iOS chat doesn't reload message history after background/shutdown (in-memory cache lost), (2) Session terminal output leaks into normal chat view after sending a message. Chat should only show SQLite-backed messages.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T02:44:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T04:36:39Z","closed_at":"2026-02-22T04:36:39Z","close_reason":"Both child tasks merged to main: adj-nqu (iOS history persistence) and adj-hb2 (session output leak fix)","dependencies":[{"issue_id":"adj-v2e","depends_on_id":"adj-hb2","type":"blocks","created_at":"2026-02-21T20:44:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-v2e","depends_on_id":"adj-nqu","type":"blocks","created_at":"2026-02-21T20:44:35Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-v84","title":"D1: Spawn agent button for swarm mode","description":"Add spawn agent button in swarm overview panel. Calls existing POST /api/swarms/:id/agents. Shows spawning state with progress indication. Agent appears in agent list once session registers. In CrewStats.tsx or SwarmOverview component.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:17Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:45Z","closed_at":"2026-02-21T02:24:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-v84","depends_on_id":"adj-35p","type":"blocks","created_at":"2026-02-20T19:07:53Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-vur","title":"QA: commandAvailable() uses 'which' - not portable to all Linux distros","description":"In cli/lib/checks.ts:41, commandAvailable() uses 'which' to check if a command exists:\\n\\n  execSync('which ${command}', { stdio: 'ignore' })\\n\\nThe 'which' command is not POSIX-standard and is not available on all Linux distributions (e.g., some minimal Debian/Alpine images). The POSIX-portable alternative is 'command -v'. This should be:\\n\\n  execSync('command -v ${command}', { stdio: 'ignore' })\\n\\nNote: 'command -v' requires a shell, but execSync uses /bin/sh by default so this works.\\n\\nFile: cli/lib/checks.ts:41\\nSeverity: Medium - works on macOS and most Linux, fails on minimal containers","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:06:17Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-w1j","title":"C1: useSwarmAgents hook with WebSocket","description":"New hook combining: initial fetch via api.agents.list(), WebSocket subscription to /api/agents/stream for status changes, optimistic UI updates, fallback to 10s polling if WS disconnects. Replaces useDashboardCrew for swarm mode. In frontend/src/hooks/useSwarmAgents.ts.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-w1j","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:50Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-w1j","depends_on_id":"adj-cfq","type":"blocks","created_at":"2026-02-20T19:07:49Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-w2a","title":"QA: getAdjutantDbPath() returns ~/.adjutant/adjutant.db but multiple projects share it","description":"In cli/lib/checks.ts:68, getAdjutantDbPath() returns:\\n\\n  join(homedir(), '.adjutant', 'adjutant.db')\\n\\nThis is a global path (in the user's home directory). If a user has multiple adjutant projects on the same machine, they would all share the same SQLite database. This could cause:\\n\\n1. Message cross-contamination between projects\\n2. Agent identity conflicts\\n3. Unexpected data in the dashboard\\n\\nThe plan doesn't address multi-project scenarios. Should the database be per-project (in .adjutant/adjutant.db relative to the project root) or truly global (with a project identifier)?\\n\\nFile: cli/lib/checks.ts:67-69\\nSeverity: Medium - only affects users with multiple adjutant installations","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:09:26Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:14Z","closed_at":"2026-02-22T19:12:14Z","close_reason":"By design: empty matcher is correct for global hooks"}
{"id":"adj-wvh","title":"B3: Agent status-based grouping and sorting","description":"Group swarm agents by status priority: working (first) → blocked → idle → offline (collapsed). Within each group sort by last activity (most recent first). Replace flat peers[] rendering in CrewStats.tsx.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:18:14Z","closed_at":"2026-02-21T02:18:14Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-wvh","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:46Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-x0m","title":"Fix: close_bead ignores reason parameter","description":"In beads.ts:155, close_bead destructures {id, reason} but the handler body never uses 'reason'. The reason parameter is accepted by the Zod schema but silently dropped. bd CLI supports --reason flag. Add: if (reason) args.push('--reason', reason);","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:19:53Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:37Z","closed_at":"2026-02-21T18:34:37Z","close_reason":"Fixed: close_bead now passes --reason flag"}
{"id":"adj-x5m","title":"T012: Create AgentAssignDropdown shared component","description":"Create AgentAssignDropdown shared component that fetches agents on open, filters to idle/working, shows current assignee, calls assign API on selection, with Pip-Boy themed styling in frontend/src/components/shared/AgentAssignDropdown.tsx","status":"open","priority":1,"issue_type":"task","assignee":"stetmann","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:03Z","created_by":"Justin Martin","updated_at":"2026-02-23T13:44:35Z"}
{"id":"adj-y40","title":"iOS: Crew tab improvements for Swarm mode","description":"Epic for iOS app crew tab fixes: rename to Agents in Swarm mode, add agent detail page with full info, chat access, session view, and terminate action.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:28Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:09:07Z","closed_at":"2026-02-22T22:09:07Z","close_reason":"All 5 subtasks completed","dependencies":[{"issue_id":"adj-y40","depends_on_id":"adj-y40.1","type":"blocks","created_at":"2026-02-22T15:57:45Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-y40","depends_on_id":"adj-y40.2","type":"blocks","created_at":"2026-02-22T15:57:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-y40","depends_on_id":"adj-y40.3","type":"blocks","created_at":"2026-02-22T15:57:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-y40","depends_on_id":"adj-y40.4","type":"blocks","created_at":"2026-02-22T15:57:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-y40","depends_on_id":"adj-y40.5","type":"blocks","created_at":"2026-02-22T15:57:47Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-y40.1","title":"Rename Crew tab to Agents in Swarm mode","description":"When the app is in Swarm mode, the tab bar item currently labeled 'Crew' should display as 'Agents' instead. Update MainTabView and any related navigation to conditionally use the Agents label/icon based on the current mode.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:34Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:09:02Z","closed_at":"2026-02-22T22:09:02Z","close_reason":"Closed"}
{"id":"adj-y40.2","title":"Agent detail page with full agent info","description":"When tapping an agent in the list, open an agent detail page that displays all available information about the agent (status, branch, session ID, progress, announcements, etc). This may build on the existing CrewDetailView or replace it.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:36Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:09:02Z","closed_at":"2026-02-22T22:09:02Z","close_reason":"Closed"}
{"id":"adj-y40.3","title":"Agent detail: open ChatView for agent","description":"From the agent detail page, add a button/action to open the ChatView filtered to that specific agent's conversation. Should navigate to the existing ChatView with the agent pre-selected.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:37Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:09:02Z","closed_at":"2026-02-22T22:09:02Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-y40.3","depends_on_id":"adj-y40.2","type":"blocks","created_at":"2026-02-22T15:57:48Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-y40.4","title":"Agent detail: open full session terminal view","description":"From the agent detail page, add a button/action to open the full session terminal view (SessionChatView) for that agent's active session. Should navigate to the existing session view with the agent's session pre-loaded.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:39Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:09:02Z","closed_at":"2026-02-22T22:09:02Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-y40.4","depends_on_id":"adj-y40.2","type":"blocks","created_at":"2026-02-22T15:57:48Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-y40.5","title":"Agent detail: terminate agent action","description":"From the agent detail page, add a terminate button that allows the user to stop/kill the agent. Should include a confirmation dialog before terminating. Needs a backend API endpoint or CLI command to actually terminate the agent.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T21:57:41Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:09:02Z","closed_at":"2026-02-22T22:09:02Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-y40.5","depends_on_id":"adj-y40.2","type":"blocks","created_at":"2026-02-22T15:57:49Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-y84","title":"QA: CLI build not automatic - user gets cryptic ERR_MODULE_NOT_FOUND","description":"When a user runs 'adjutant init' after a fresh clone without first running 'npx tsc -p tsconfig.cli.json', bin/cli.js tries to import from '../dist/cli/commands/init.js' which doesn't exist. The error handling catches ERR_MODULE_NOT_FOUND and prints:\\n\\n  CLI not built. Run: npx tsc -p tsconfig.cli.json\\n\\nProblems:\\n1. A fresh user shouldn't need to know about TypeScript compilation\\n2. The 'npm run setup' script handles this (builds first), but 'adjutant init' directly does not\\n3. bin/cli.js could auto-build by running the tsc command itself before importing\\n4. Or the 'postinstall' script could build the CLI (it currently only installs sub-deps)\\n\\nThe gap: postinstall.js installs backend/frontend deps but never builds the CLI. So after npm install, the dist/cli directory doesn't exist unless the user manually builds.\\n\\nFile: bin/cli.js:49-54, bin/postinstall.js (missing build step)\\nSeverity: High - first-run experience is broken for the primary entry point","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:06:58Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:14:24Z","closed_at":"2026-02-22T19:14:24Z","close_reason":"Fixed: printSummary uses arithmetic check instead of ?? falsy"}
{"id":"adj-yfn","title":"US1: Assign from Beads View","description":"Mayor can assign beads to agents from KanbanCard and BeadsList views (5 tasks, MVP)","status":"open","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:06:23Z","created_by":"Justin Martin","updated_at":"2026-02-22T22:06:23Z","dependencies":[{"issue_id":"adj-yfn","depends_on_id":"adj-54h","type":"blocks","created_at":"2026-02-22T16:07:39Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-yfn","depends_on_id":"adj-7sm","type":"blocks","created_at":"2026-02-22T16:07:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-yfn","depends_on_id":"adj-aca","type":"blocks","created_at":"2026-02-22T16:07:41Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-yfn","depends_on_id":"adj-bfj","type":"blocks","created_at":"2026-02-22T16:07:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-yfn","depends_on_id":"adj-i27","type":"blocks","created_at":"2026-02-22T16:06:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-yfn","depends_on_id":"adj-mhf.1","type":"blocks","created_at":"2026-02-23T07:54:39Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-yfn","depends_on_id":"adj-x5m","type":"blocks","created_at":"2026-02-22T16:07:39Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-yke","title":"BUG: RecipientSelectorSheet bead-to-agent matching may fail on format mismatch","description":"loadAgentBeads() in ChatView.swift groups beads by bead.assignee and looks up via CrewMember.id. If assignee format (e.g., 'adjutant/polecats/toast') doesn't exactly match CrewMember.id (e.g., 'toast' in swarm mode), the mapping silently returns empty. Fix: normalize both sides before matching, or use the rig + name to fuzzy-match.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T05:56:06Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:58:24Z","closed_at":"2026-02-23T05:58:24Z","close_reason":"Added assigneeMatches() helper for cross-format agent ID matching"}
{"id":"adj-ypdv","title":"Define unified push notification payload contract between backend and iOS","description":"Create a shared documentation/type definition that specifies the exact JSON shape for each notification type (chat_message, announcement, bead_update, system_alert). Include required fields, optional fields, and example payloads. Add to both backend types/apns.ts and iOS PushNotification.swift model.","status":"closed","priority":2,"issue_type":"task","assignee":"backend-dev","owner":"lupusdei108@gmail.com","created_at":"2026-02-23T06:23:54Z","created_by":"Justin Martin","updated_at":"2026-02-23T06:26:50Z","closed_at":"2026-02-23T06:26:50Z","close_reason":"Added ChatMessagePayload, AnnouncementPayload, NewMailPayload interfaces with JSDoc iOS field mapping"}
{"id":"adj-yqz","title":"T022: Add error handling for bd CLI failures in assignBead","description":"Add error handling for bd CLI failures in assignBead (return structured error, refresh bead state) in backend/src/services/beads-service.ts","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T22:07:25Z","created_by":"Justin Martin","updated_at":"2026-02-23T05:43:38Z","closed_at":"2026-02-23T05:43:38Z","close_reason":"Already implemented in codebase"}
{"id":"adj-zf4","title":"A2: Generalize terminal endpoint for swarm agents","description":"Current GET /api/agents/:rig/:polecat/terminal is hardcoded to gt-{rig}-{polecat} tmux pattern. Add support for swarm agent sessions (agent-{name} pattern). Either add new route GET /api/agents/:sessionName/terminal or make existing route mode-aware. In backend/src/routes/agents.ts.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:45Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:13:22Z","closed_at":"2026-02-21T02:13:22Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-zf4","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:43Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-zlh","title":"Phase 4: iOS chat UI","description":"Create PersistentChatView + PersistentChatViewModel. Create HistorySheet + HistoryViewModel. Wire to /api/messages endpoints. APNS integration for agent responses.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-zlh","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:20Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-zmx","title":"QA: Plan contradicts implementation - plan says no commander.js but bin/cli.js uses it","description":"The implementation plan (specs/011-bootstrap-setup/plan.md) states:\\n\\n  'Simple arg parsing over commander.js: The CLI has only 2 commands (init, doctor) with minimal flags. A switch statement on process.argv[2] is sufficient. No need for a dependency.'\\n\\nBut bin/cli.js uses commander.js:\\n\\n  import { program } from 'commander';\\n\\nAnd package.json lists commander as a dependency:\\n\\n  \"commander\": \"^14.0.3\"\\n\\nMeanwhile, cli/index.ts follows the plan and uses manual arg parsing with a switch statement. This creates the dual entry point issue (see adj-7bw).\\n\\nThe plan should be updated to reflect reality, or one of the two entry points should be removed.\\n\\nFiles: specs/011-bootstrap-setup/plan.md (Architecture Decision), bin/cli.js:4, cli/index.ts:67-84\\nSeverity: Low - documentation out of sync with implementation","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T19:10:02Z","created_by":"Justin Martin","updated_at":"2026-02-22T19:12:26Z","closed_at":"2026-02-22T19:12:26Z","close_reason":"Doc/plan out of date. Not a code issue."}
