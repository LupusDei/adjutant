{"id":"adj-001","title":"Remove Standalone Mode","description":"Eradicate all references to standalone deployment mode from the entire codebase. After this, only gastown and swarm modes exist.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:00:55Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:48Z","closed_at":"2026-02-20T18:37:48Z","close_reason":"Closed"}
{"id":"adj-001.1","title":"Backend: eradicate standalone","description":"Remove all standalone references from backend source and test files. Rename providers, update types, purge remaining refs.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:00Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:32:50Z","closed_at":"2026-02-20T18:32:50Z","close_reason":"All backend standalone references eradicated. 7/7 children closed. 0 grep hits in src/ and tests/. 738 tests passing. Commit e1f26b7 on adj-001.1-backend."}
{"id":"adj-001.1.1","title":"Rename StandaloneProvider → SwarmProvider","description":"Rename file standalone-provider.ts → swarm-provider.ts, class StandaloneProvider → SwarmProvider, update mode/name to swarm, update JSDoc","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:09Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.2","title":"Rename StandaloneTopology → SwarmTopology","description":"Rename file standalone-topology.ts → swarm-topology.ts, class StandaloneTopology → SwarmTopology, update name to swarm, update JSDoc","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:10Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.3","title":"Rename StandaloneStatusProvider → SwarmStatusProvider","description":"Rename file standalone-status-provider.ts → swarm-status-provider.ts, class StandaloneStatusProvider → SwarmStatusProvider, update name to swarm","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:11Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.4","title":"Update DeploymentMode type, workspace index, provider factories","description":"Update DeploymentMode to gastown|swarm, update workspace/index.ts imports, remove standalone cases from topology/status/transport factories","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:13Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.5","title":"Update mode-service + mode routes","description":"Delete standalone from MODE_FEATURES, remove from availableModes, update validModes to gastown/swarm only","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:14Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.1.6","title":"Purge standalone from remaining backend source files","description":"Remove standalone references from ~14 remaining backend source files: types, services, routes","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:16Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:32:31Z","closed_at":"2026-02-20T18:32:31Z","close_reason":"All standalone references eradicated from backend src/ and tests/. 0 grep hits, 738 tests passing. Commit e1f26b7."}
{"id":"adj-001.1.7","title":"Update all backend tests","description":"Rename 2 test files, remove standalone test cases, update mode references in all 17 test files","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:17Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:32:31Z","closed_at":"2026-02-20T18:32:31Z","close_reason":"All standalone references eradicated from backend src/ and tests/. 0 grep hits, 738 tests passing. Commit e1f26b7."}
{"id":"adj-001.2","title":"Frontend: eradicate standalone","description":"Remove all standalone references from frontend source and test files. Update types, contexts, components.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:01Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:36Z","closed_at":"2026-02-20T18:24:36Z","close_reason":"Closed"}
{"id":"adj-001.2.1","title":"Update DeploymentMode types, ModeContext, useVisibleTabs, legacy hook","description":"Remove standalone from frontend DeploymentMode type, ModeContext, useVisibleTabs switch, and useDeploymentMode hook","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:19Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.2.2","title":"Update frontend components","description":"Update CommandChat, SettingsView, CrewStats (rename StandaloneSection→SwarmSection), RecipientSelector, chat.css","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:21Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.2.3","title":"Update all frontend tests","description":"Update 4 frontend test files: ModeContext, ModeTransitions, cross-platform-consistency, CommunicationSettings","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:23Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:32Z","closed_at":"2026-02-20T18:24:32Z","close_reason":"Closed"}
{"id":"adj-001.3","title":"iOS: eradicate standalone","description":"Remove all standalone references from iOS source and test files. Rename views, update enums, purge remaining refs.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:02Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:12Z","closed_at":"2026-02-20T18:24:12Z","close_reason":"Closed"}
{"id":"adj-001.3.1","title":"Remove .standalone from DeploymentMode enum, update AppState","description":"Remove case standalone from Enums.swift, remove all case .standalone: branches from AppState.swift","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:24Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.3.2","title":"Rename Standalone iOS files → Swarm","description":"Rename 3 Swift files: StandaloneSessionView→SwarmSessionView, StandaloneProjectDetailView→SwarmProjectDetailView, StandaloneProjectDetailViewModel→SwarmProjectDetailViewModel","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:26Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:42Z","closed_at":"2026-02-20T18:37:42Z","close_reason":"Closed"}
{"id":"adj-001.3.3","title":"Purge standalone from remaining iOS source files","description":"Remove standalone references from ~15 remaining iOS source files","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:27Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:03Z","closed_at":"2026-02-20T18:24:03Z","close_reason":"Closed"}
{"id":"adj-001.3.4","title":"Update all iOS tests","description":"Update 7 iOS test files to remove standalone references","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:28Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:24:08Z","closed_at":"2026-02-20T18:24:08Z","close_reason":"Closed"}
{"id":"adj-001.4","title":"Final verification: zero standalone grep hits, all compilers/tests pass","description":"Verify complete eradication: grep -ri standalone returns zero hits, TypeScript compiles, Vitest passes, Xcode builds.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T18:01:04Z","created_by":"Justin Martin","updated_at":"2026-02-20T18:37:47Z","closed_at":"2026-02-20T18:37:47Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-001.4","depends_on_id":"adj-001.1","type":"blocks","created_at":"2026-02-20T12:01:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-001.4","depends_on_id":"adj-001.2","type":"blocks","created_at":"2026-02-20T12:01:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-001.4","depends_on_id":"adj-001.3","type":"blocks","created_at":"2026-02-20T12:01:33Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-002","title":"Fix optional Int unwrap in DashboardView.swift:353","description":"Value of optional type Int? must be unwrapped to a value of type Int at DashboardView.swift:353:23. Pre-existing build error.","status":"closed","priority":2,"issue_type":"bug","assignee":"ios-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T20:35:23Z","created_by":"Justin Martin","updated_at":"2026-02-20T20:36:14Z","closed_at":"2026-02-20T20:36:14Z","close_reason":"Closed"}
{"id":"adj-003","title":"Run iOS build and fix all compiler errors","description":"Build the iOS project, identify any remaining compiler errors, and fix them all. Iterate until clean build.","status":"closed","priority":2,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T20:43:12Z","created_by":"Justin Martin","updated_at":"2026-02-20T20:46:13Z","closed_at":"2026-02-20T20:46:13Z","close_reason":"Closed"}
{"id":"adj-004","title":"Fix iOS decoding error: backend still returns standalone mode","description":"After standalone removal, the backend or gt CLI still returns 'standalone' as mode for existing projects. iOS can't decode it since the enum case was removed. Need to handle backward compatibility at the API boundary.","status":"closed","priority":1,"issue_type":"bug","assignee":"ios-api-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T20:55:28Z","created_by":"Justin Martin","updated_at":"2026-02-20T21:00:15Z","closed_at":"2026-02-20T21:00:15Z","close_reason":"Closed"}
{"id":"adj-005","title":"Fix remaining iOS decoding errors in Chat and Projects","description":"After adj-004 fix, iOS still shows decoding errors for both Chat and Projects\u003eAdjutant views. Need to compare backend API responses against iOS model types to find all mismatches.","status":"closed","priority":1,"issue_type":"bug","assignee":"decode-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T21:27:33Z","created_by":"Justin Martin","updated_at":"2026-02-20T21:42:18Z","closed_at":"2026-02-20T21:42:18Z","close_reason":"All iOS decoding errors fixed. GastownStatus handles both Gas Town and SystemStatus shapes. All enums have resilient fallback decoders. AgentType includes swarm mode roles. SessionMode maps standalone to swarm. App builds clean."}
{"id":"adj-006","title":"Fix pipe-pane attachment failure: can't find window 0","description":"Backend fails to attach pipe-pane to session a42858b1. Error: can't find window: 0. Session exists but tmux window is missing. iOS app gets connection failure.","status":"closed","priority":1,"issue_type":"bug","assignee":"pipe-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:05:16Z","created_by":"Justin Martin","updated_at":"2026-02-20T23:10:54Z","closed_at":"2026-02-20T23:10:54Z","close_reason":"Closed"}
{"id":"adj-007","title":"Fix session pipeline: message duplication + pipe ENOENT","description":"Messages appear 4x on iOS. Two root causes: (1) dual output paths (raw pipe-pane + capture-pane) both emitting to same handlers, (2) capture-pane Set-based diff re-detects content on scroll. Also pipe file ENOENT after detach but poll timer keeps running.","status":"closed","priority":1,"issue_type":"bug","assignee":"pipeline-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:20:47Z","created_by":"Justin Martin","updated_at":"2026-02-20T23:24:52Z","closed_at":"2026-02-20T23:24:52Z","close_reason":"Closed"}
{"id":"adj-008","title":"Deep dive: session pipeline audit and hardening","description":"Thorough audit of the entire session pipeline. Find all bugs, race conditions, and fragile patterns. Fix everything.","status":"closed","priority":1,"issue_type":"task","assignee":"pipeline-auditor","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:25:24Z","created_by":"Justin Martin","updated_at":"2026-02-20T23:31:26Z","closed_at":"2026-02-20T23:31:26Z","close_reason":"Closed"}
{"id":"adj-009","title":"Epic: Beads-based mail for swarm agent communication","description":"Design a beads-based mail system as a backup communication channel for swarm mode agents. Like GT mode mayor mail but for direct agent communication when the pipeline is unavailable. Planning only — no implementation.","status":"closed","priority":2,"issue_type":"epic","assignee":"mail-planner","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:25:26Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:26Z","closed_at":"2026-02-21T15:08:26Z","close_reason":"Replaced by persistent messaging system (adj-010 epic)","dependencies":[{"issue_id":"adj-009","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:01Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.2","type":"blocks","created_at":"2026-02-20T17:30:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.3","type":"blocks","created_at":"2026-02-20T17:30:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.4","type":"blocks","created_at":"2026-02-20T17:30:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.5","type":"blocks","created_at":"2026-02-20T17:30:04Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009","depends_on_id":"adj-009.6","type":"blocks","created_at":"2026-02-20T17:30:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.1","title":"Add SwarmMailNotificationProvider","description":"Implement NotificationProvider that maps swarm agent names to tmux sessions via SessionBridge.listSessions(). Injects bd CLI mail-check instructions into the agent's tmux pane. Must lazy-import SessionBridge to avoid circular dependencies. Tests: mock SessionBridge, verify tmux send-keys arguments.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:18Z","closed_at":"2026-02-21T15:08:18Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode."}
{"id":"adj-009.2","title":"Wire notifications into BeadsTransport","description":"Update BeadsTransport.sendMessage() to use SwarmMailNotificationProvider after successful bd create. Add APNS push notification call (sendNewMailNotification) matching GasTownTransport behavior. Lazy import notification provider to avoid circular deps. Tests: verify notification and push are called after successful send.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:35Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.2","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.3","title":"Agent mail reply instructions","description":"Design and implement the notification message format for swarm agents. Include bd create command template with correct labels and threading args so agents can reply. Document agent-side mail workflow (list, read, reply). Tests: verify notification message contains correct bd command syntax.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:40Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.3","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.4","title":"RecipientSelector swarm agent discovery","description":"Verify RecipientSelector correctly shows all active tmux session agents in swarm mode. Ensure session names map to valid mail addresses for BeadsTransport. Test: compose and send a message to a discovered swarm agent.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode."}
{"id":"adj-009.5","title":"End-to-end integration test","description":"Integration test: send mail from UI to swarm agent, agent reads via bd commands, agent replies via bd create, UI sees reply in Mail tab. Also test: mail works when session pipeline is disconnected, mail persists across session restarts.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:51Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.5","depends_on_id":"adj-009.1","type":"blocks","created_at":"2026-02-20T17:30:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009.5","depends_on_id":"adj-009.2","type":"blocks","created_at":"2026-02-20T17:30:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-009.5","depends_on_id":"adj-009.3","type":"blocks","created_at":"2026-02-20T17:30:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-009.6","title":"Swarm mail documentation","description":"Document swarm mail usage: agent-side bd commands for reading/replying to mail, troubleshooting guide for mail delivery failures, update relevant project docs.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-20T23:29:56Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:08:19Z","closed_at":"2026-02-21T15:08:19Z","close_reason":"Replaced by persistent messaging system (adj-010 epic). Beads-based mail is no longer the approach for swarm mode.","dependencies":[{"issue_id":"adj-009.6","depends_on_id":"adj-009.5","type":"blocks","created_at":"2026-02-20T17:30:12Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010","title":"Agent MCP Bridge — Messaging, Status, Beads, and Query Tools","description":"Replace beads-mail and HTTP curl with an MCP server embedded in Adjutant backend. Typed tools for messaging, status, bead ops, and queries. Claude Code skills for auto-discovery. Replaces adj-009 beads-mail and persistent messaging designs.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:32:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:31Z","closed_at":"2026-02-21T19:25:31Z","close_reason":"All P1/P2 bugs fixed, P3/P4 deferred. 170 tests pass. Merged and pushed.","dependencies":[{"issue_id":"adj-010","depends_on_id":"adj-010.1","type":"blocks","created_at":"2026-02-21T10:35:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:35:06Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T10:35:07Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.4","type":"blocks","created_at":"2026-02-21T10:35:07Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.5","type":"blocks","created_at":"2026-02-21T10:35:08Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.6","type":"blocks","created_at":"2026-02-21T10:35:08Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.7","type":"blocks","created_at":"2026-02-21T10:35:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.8","type":"blocks","created_at":"2026-02-21T10:35:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-010.9","type":"blocks","created_at":"2026-02-21T10:35:10Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-0p4","type":"blocks","created_at":"2026-02-21T13:13:13Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-145","type":"blocks","created_at":"2026-02-21T13:13:12Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-1y7","type":"blocks","created_at":"2026-02-21T12:23:09Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-2n1","type":"blocks","created_at":"2026-02-21T13:13:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-2pi","type":"blocks","created_at":"2026-02-21T12:20:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-4ah","type":"blocks","created_at":"2026-02-21T12:32:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-7o7","type":"blocks","created_at":"2026-02-21T13:12:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-81y","type":"blocks","created_at":"2026-02-21T13:12:50Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-8jr","type":"blocks","created_at":"2026-02-21T13:13:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-8mg","type":"blocks","created_at":"2026-02-21T13:13:01Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-bmq","type":"blocks","created_at":"2026-02-21T13:14:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-c8f","type":"blocks","created_at":"2026-02-21T12:19:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-d0l","type":"blocks","created_at":"2026-02-21T13:13:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-dbu","type":"blocks","created_at":"2026-02-21T13:12:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-emo","type":"blocks","created_at":"2026-02-21T12:20:06Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-hp9","type":"blocks","created_at":"2026-02-21T12:20:46Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-i6r","type":"blocks","created_at":"2026-02-21T13:12:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-idn","type":"blocks","created_at":"2026-02-21T13:13:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-j00","type":"blocks","created_at":"2026-02-21T12:21:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-ja1","type":"blocks","created_at":"2026-02-21T13:12:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-k9k","type":"blocks","created_at":"2026-02-21T13:12:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-lrb","type":"blocks","created_at":"2026-02-21T12:20:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-nhc","type":"blocks","created_at":"2026-02-21T12:19:47Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-p23","type":"blocks","created_at":"2026-02-21T13:13:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-uv3","type":"blocks","created_at":"2026-02-21T12:20:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010","depends_on_id":"adj-x0m","type":"blocks","created_at":"2026-02-21T12:19:56Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1","title":"Setup: Database Infrastructure","description":"SQLite via better-sqlite3 at ~/.adjutant/adjutant.db. WAL mode, migration runner, message-store service.","status":"closed","priority":1,"issue_type":"epic","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:13Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:24Z","closed_at":"2026-02-21T18:04:24Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.1","type":"blocks","created_at":"2026-02-21T10:35:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.2","type":"blocks","created_at":"2026-02-21T10:35:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.3","type":"blocks","created_at":"2026-02-21T10:35:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.4","type":"blocks","created_at":"2026-02-21T10:35:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1","depends_on_id":"adj-010.1.5","type":"blocks","created_at":"2026-02-21T10:35:22Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.1","title":"Install better-sqlite3 dependency","description":"Add better-sqlite3 and @types/better-sqlite3 to backend/package.json","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:01:11Z","closed_at":"2026-02-21T18:01:11Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1.1","depends_on_id":"adj-010.1.1.1","type":"blocks","created_at":"2026-02-21T12:05:03Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.1.1","title":"Fix: Add recipient/to column to messages table","description":"Messages table has agent_id but no recipient column. send_message(to: 'user') has no place to store the target. Add 'recipient TEXT' column to schema and update message-store.","status":"closed","priority":0,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:37Z","closed_at":"2026-02-21T18:08:37Z","close_reason":"Closed"}
{"id":"adj-010.1.2","title":"Create database singleton with WAL mode","description":"SQLite singleton in backend/src/services/database.ts. Open ~/.adjutant/adjutant.db, WAL mode, PRAGMA tuning, migration runner.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:30Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:21Z","closed_at":"2026-02-21T18:04:21Z","close_reason":"Closed"}
{"id":"adj-010.1.3","title":"Create migration runner and initial schema","description":"Migration runner + backend/src/services/migrations/001-initial.sql with messages, threads tables.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:22Z","closed_at":"2026-02-21T18:04:22Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1.3","depends_on_id":"adj-010.1.3.1","type":"blocks","created_at":"2026-02-21T12:05:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.1.3","depends_on_id":"adj-010.1.3.2","type":"blocks","created_at":"2026-02-21T12:05:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.3.1","title":"Fix: Cursor pagination tiebreaker for same-second messages","description":"Pagination uses created_at \u003c ? but SQLite datetime has second precision. Messages in same second share timestamps making cursor unreliable. Use composite cursor (created_at, id) or rowid tiebreaker.","status":"closed","priority":1,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:38Z","closed_at":"2026-02-21T18:08:38Z","close_reason":"Closed"}
{"id":"adj-010.1.3.2","title":"Fix: Add 'failed' to delivery_status CHECK constraint","description":"Spec requires pending/delivered/read/failed but CHECK constraint has pending/sent/delivered/read. Add 'failed', consider changing default from 'sent' to 'pending'.","status":"closed","priority":2,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:38Z","closed_at":"2026-02-21T18:08:38Z","close_reason":"Closed"}
{"id":"adj-010.1.4","title":"Create message-store service","description":"Message CRUD in backend/src/services/message-store.ts. Insert, query with pagination, FTS5 search, mark read, thread grouping.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:23Z","closed_at":"2026-02-21T18:04:23Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.1.4","depends_on_id":"adj-010.1.4.1","type":"blocks","created_at":"2026-02-21T12:05:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.1.4.1","title":"Fix: Parameterize LIMIT in getMessages SQL","description":"getMessages builds LIMIT via template literal string interpolation. Should use parameterized query to prevent SQL injection even though type is number.","status":"closed","priority":1,"issue_type":"bug","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:39Z","closed_at":"2026-02-21T18:08:39Z","close_reason":"Closed"}
{"id":"adj-010.1.5","title":"Write database and message-store tests","description":"Tests in backend/tests/unit/message-store.test.ts. Use in-memory SQLite for tests.","status":"closed","priority":1,"issue_type":"task","assignee":"database-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:32Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:23Z","closed_at":"2026-02-21T18:04:23Z","close_reason":"Closed"}
{"id":"adj-010.2","title":"Foundational: MCP Server Core","description":"MCP protocol server with SSE transport, agent identity resolution, connection lifecycle tracking. Blocks all tool implementations.","status":"closed","priority":1,"issue_type":"epic","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:14Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:07:01Z","closed_at":"2026-02-21T18:07:01Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.1","type":"blocks","created_at":"2026-02-21T10:35:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.2","type":"blocks","created_at":"2026-02-21T10:35:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.3","type":"blocks","created_at":"2026-02-21T10:35:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.4","type":"blocks","created_at":"2026-02-21T10:35:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.5","type":"blocks","created_at":"2026-02-21T10:35:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.6","type":"blocks","created_at":"2026-02-21T10:35:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.2","depends_on_id":"adj-010.2.7","type":"blocks","created_at":"2026-02-21T10:35:26Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.1","title":"Install @modelcontextprotocol/sdk","description":"Add MCP SDK dependency to backend/package.json","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:01:52Z","closed_at":"2026-02-21T18:01:52Z","close_reason":"Closed"}
{"id":"adj-010.2.2","title":"Create MCP server with SSE transport","description":"MCP server instance with SSE transport adapter in backend/src/services/mcp-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:19Z","closed_at":"2026-02-21T18:04:19Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2.2","depends_on_id":"adj-010.2.2.1","type":"blocks","created_at":"2026-02-21T12:05:09Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.2.1","title":"Fix: Add MCP events to typed EventMap","description":"mcp:agent_connected and mcp:agent_disconnected use unsafe cast to bypass typed EventMap. Add these events to event-bus.ts EventMap properly.","status":"closed","priority":2,"issue_type":"bug","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:08:48Z","closed_at":"2026-02-21T18:08:48Z","close_reason":"Closed"}
{"id":"adj-010.2.3","title":"Create SSE Express route at /mcp/sse","description":"Express route for SSE connections in backend/src/routes/mcp.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:05:31Z","closed_at":"2026-02-21T18:05:31Z","close_reason":"Closed"}
{"id":"adj-010.2.4","title":"Implement agent identity resolution","description":"Derive agent identity from MCP connection metadata (session name header or query param) in mcp-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:45Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:19Z","closed_at":"2026-02-21T18:04:19Z","close_reason":"Closed"}
{"id":"adj-010.2.5","title":"Add connection lifecycle tracking","description":"Track connected agents, emit connect/disconnect events in mcp-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:20Z","closed_at":"2026-02-21T18:04:20Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2.5","depends_on_id":"adj-010.2.5.1","type":"blocks","created_at":"2026-02-21T12:05:08Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.5.1","title":"Fix: Wire transport onclose to disconnectAgent","description":"No onclose handler on SSE transport. When agent crashes or network drops, connection lingers in Map forever (memory leak). Wire transport.onclose to call disconnectAgent(sessionId).","status":"closed","priority":1,"issue_type":"bug","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:09:58Z","closed_at":"2026-02-21T18:09:58Z","close_reason":"Closed"}
{"id":"adj-010.2.6","title":"Register MCP routes and init DB on startup","description":"Wire MCP routes and database initialization into backend/src/index.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:06:25Z","closed_at":"2026-02-21T18:06:25Z","close_reason":"Closed"}
{"id":"adj-010.2.7","title":"Write MCP server connection tests","description":"Tests for connection lifecycle in backend/tests/unit/mcp-server.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:47Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:04:20Z","closed_at":"2026-02-21T18:04:20Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.2.7","depends_on_id":"adj-010.2.7.1","type":"blocks","created_at":"2026-02-21T12:05:08Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.2.7.1","title":"Fix: MCP server test vi.mock hoisting bug","description":"Tests fail with ReferenceError: Cannot access MockMcpServer before initialization. vi.mock is hoisted above const declarations. Use vi.hoisted() or inline the mock.","status":"closed","priority":0,"issue_type":"bug","assignee":"mcp-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:05:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:19Z","closed_at":"2026-02-21T18:34:19Z","close_reason":"Fixed vi.mock arrow function constructors for Vitest 4"}
{"id":"adj-010.3","title":"US1: Agent-to-User Messaging","description":"send_message, read_messages, list_threads, mark_read MCP tools. SQLite persistence + WebSocket broadcast + APNS push. MVP.","status":"closed","priority":1,"issue_type":"epic","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:15Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:54Z","closed_at":"2026-02-21T18:20:54Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3","depends_on_id":"adj-010.1","type":"blocks","created_at":"2026-02-21T10:36:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:18Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.1","type":"blocks","created_at":"2026-02-21T10:35:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.2","type":"blocks","created_at":"2026-02-21T10:35:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.3","type":"blocks","created_at":"2026-02-21T10:35:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.4","type":"blocks","created_at":"2026-02-21T10:35:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.5","type":"blocks","created_at":"2026-02-21T10:35:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.6","type":"blocks","created_at":"2026-02-21T10:35:30Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.7","type":"blocks","created_at":"2026-02-21T10:35:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.3","depends_on_id":"adj-010.3.8","type":"blocks","created_at":"2026-02-21T10:35:31Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.1","title":"Implement send_message MCP tool","description":"Store in SQLite + broadcast via WebSocket + APNS push. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:44Z","closed_at":"2026-02-21T18:20:44Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3.1","depends_on_id":"adj-010.3.1.1","type":"blocks","created_at":"2026-02-21T12:22:10Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.1.1","title":"Fix: Unify agent identity resolution across MCP tools","description":"messaging.ts uses extra._meta.agentId (client-supplied). status.ts uses getAgentBySession(extra.sessionId) (server-side lookup). Unify on server-side resolution for trustworthiness.","status":"closed","priority":2,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:36Z","closed_at":"2026-02-21T18:28:36Z","close_reason":"Server-side session lookup replaces client-supplied _meta.agentId"}
{"id":"adj-010.3.2","title":"Implement read_messages MCP tool","description":"Query by thread, session, or agent with pagination. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:45Z","closed_at":"2026-02-21T18:20:45Z","close_reason":"Closed"}
{"id":"adj-010.3.3","title":"Implement list_threads MCP tool","description":"List conversation threads with latest message preview. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:46Z","closed_at":"2026-02-21T18:20:46Z","close_reason":"Closed"}
{"id":"adj-010.3.4","title":"Implement mark_read MCP tool","description":"Update delivery status. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:47Z","closed_at":"2026-02-21T18:20:47Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3.4","depends_on_id":"adj-010.3.4.1","type":"blocks","created_at":"2026-02-21T12:22:12Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.4.1","title":"Fix: mark_read should error when neither messageId nor agentId provided","description":"mark_read tool returns {success: true} when both are missing. Should return an error.","status":"closed","priority":3,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:10Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:37Z","closed_at":"2026-02-21T18:28:37Z","close_reason":"mark_read returns error when neither param provided"}
{"id":"adj-010.3.5","title":"Add WebSocket chat_message broadcasting","description":"Broadcast message events to connected frontends. backend/src/services/ws-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:01Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:48Z","closed_at":"2026-02-21T18:20:48Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.3.5","depends_on_id":"adj-010.3.5.1","type":"blocks","created_at":"2026-02-21T12:22:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.3.5.1","title":"Fix: Add chat_message variant to WsMessage union type","description":"messaging.ts and messages.ts cast wsBroadcast calls with 'as any' for chat_message type. Add proper chat_message variant to WsServerMessage in ws-server.ts.","status":"closed","priority":3,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:09Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:38Z","closed_at":"2026-02-21T18:28:38Z","close_reason":"chat_message added to WsServerMessage union, as any casts removed"}
{"id":"adj-010.3.6","title":"Add APNS push for agent messages","description":"Send push notification when no frontend connected. backend/src/services/mcp-tools/messaging.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:48Z","closed_at":"2026-02-21T18:20:48Z","close_reason":"Closed"}
{"id":"adj-010.3.7","title":"Create /api/messages REST endpoints","description":"REST API for frontend message consumption. backend/src/routes/messages.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:49Z","closed_at":"2026-02-21T18:20:49Z","close_reason":"Closed"}
{"id":"adj-010.3.8","title":"Write messaging MCP tool tests","description":"Tests for all messaging tools. backend/tests/unit/mcp-messaging.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"messaging-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:20:50Z","closed_at":"2026-02-21T18:20:50Z","close_reason":"Closed"}
{"id":"adj-010.4","title":"US2: Agent Status and Progress","description":"set_status, report_progress, announce MCP tools. Real-time dashboard updates via WebSocket.","status":"closed","priority":1,"issue_type":"epic","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:15Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:57Z","closed_at":"2026-02-21T18:17:57Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.4","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.1","type":"blocks","created_at":"2026-02-21T10:35:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.2","type":"blocks","created_at":"2026-02-21T10:35:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.3","type":"blocks","created_at":"2026-02-21T10:35:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.4","type":"blocks","created_at":"2026-02-21T10:35:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.5","type":"blocks","created_at":"2026-02-21T10:35:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.4","depends_on_id":"adj-010.4.6","type":"blocks","created_at":"2026-02-21T10:35:35Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.4.1","title":"Implement set_status MCP tool","description":"Update agent status (working/blocked/idle/done). backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:12Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:50Z","closed_at":"2026-02-21T18:17:50Z","close_reason":"Closed"}
{"id":"adj-010.4.2","title":"Implement report_progress MCP tool","description":"Task progress with percentage and description. backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:12Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:51Z","closed_at":"2026-02-21T18:17:51Z","close_reason":"Closed"}
{"id":"adj-010.4.3","title":"Implement announce MCP tool","description":"Broadcast announcement (completion/blocker/question). backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:13Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:52Z","closed_at":"2026-02-21T18:17:52Z","close_reason":"Closed"}
{"id":"adj-010.4.4","title":"Add WebSocket agent_status and announcement events","description":"Broadcast status and announcement events. backend/src/services/ws-server.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:13Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:53Z","closed_at":"2026-02-21T18:17:53Z","close_reason":"Closed"}
{"id":"adj-010.4.5","title":"Store announcements in messages table","description":"Persist announcements with event_type=announcement. backend/src/services/mcp-tools/status.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:14Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:53Z","closed_at":"2026-02-21T18:17:53Z","close_reason":"Closed"}
{"id":"adj-010.4.6","title":"Write status MCP tool tests","description":"Tests for status tools. backend/tests/unit/mcp-status.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"status-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:15Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:49Z","closed_at":"2026-02-21T18:17:49Z","close_reason":"Closed"}
{"id":"adj-010.5","title":"US3: Bead Operations via MCP","description":"create_bead, update_bead, close_bead, list_beads, show_bead MCP tools. Wraps bd-client.ts with serialization to prevent SIGSEGV.","status":"closed","priority":2,"issue_type":"epic","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:16Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:40Z","closed_at":"2026-02-21T18:17:40Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.5","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.1","type":"blocks","created_at":"2026-02-21T10:35:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.2","type":"blocks","created_at":"2026-02-21T10:35:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.3","type":"blocks","created_at":"2026-02-21T10:35:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.4","type":"blocks","created_at":"2026-02-21T10:35:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.5","type":"blocks","created_at":"2026-02-21T10:35:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.5","depends_on_id":"adj-010.5.6","type":"blocks","created_at":"2026-02-21T10:35:56Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.5.1","title":"Implement create_bead MCP tool","description":"Wrap bd-client.ts create. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:26Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:30Z","closed_at":"2026-02-21T18:17:30Z","close_reason":"Closed"}
{"id":"adj-010.5.2","title":"Implement update_bead MCP tool","description":"Wrap bd-client.ts update. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:27Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:31Z","closed_at":"2026-02-21T18:17:31Z","close_reason":"Closed"}
{"id":"adj-010.5.3","title":"Implement close_bead MCP tool","description":"Wrap bd-client.ts close. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:28Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:32Z","closed_at":"2026-02-21T18:17:32Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.5.3","depends_on_id":"adj-010.5.3.1","type":"blocks","created_at":"2026-02-21T12:22:11Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.5.3.1","title":"Fix: close_bead should pass --reason flag to bd CLI","description":"close_bead handler destructures reason from args but never passes it to execBd. The --reason flag is silently dropped.","status":"closed","priority":2,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:22:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:38Z","closed_at":"2026-02-21T18:28:38Z","close_reason":"close_bead now passes --reason flag to bd CLI"}
{"id":"adj-010.5.4","title":"Implement list_beads and show_bead MCP tools","description":"List with filters and detail view. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:28Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:33Z","closed_at":"2026-02-21T18:17:33Z","close_reason":"Closed"}
{"id":"adj-010.5.5","title":"Add serialization for concurrent bd access","description":"Queue concurrent bd CLI calls to prevent SIGSEGV. backend/src/services/mcp-tools/beads.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:34Z","closed_at":"2026-02-21T18:17:34Z","close_reason":"Closed"}
{"id":"adj-010.5.6","title":"Write bead MCP tool tests","description":"Tests for bead tools. backend/tests/unit/mcp-beads.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"beads-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:36Z","closed_at":"2026-02-21T18:17:36Z","close_reason":"Closed"}
{"id":"adj-010.6","title":"US4: Dashboard Queries","description":"list_agents, get_project_state, search_messages MCP tools. Read-only system introspection for agents.","status":"closed","priority":2,"issue_type":"epic","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:17Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:38Z","closed_at":"2026-02-21T18:17:38Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.6","depends_on_id":"adj-010.1","type":"blocks","created_at":"2026-02-21T10:36:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.1","type":"blocks","created_at":"2026-02-21T10:35:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.2","type":"blocks","created_at":"2026-02-21T10:35:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.3","type":"blocks","created_at":"2026-02-21T10:35:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.6","depends_on_id":"adj-010.6.4","type":"blocks","created_at":"2026-02-21T10:35:58Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.6.1","title":"Implement list_agents MCP tool","description":"Active agents with status, task, session info. backend/src/services/mcp-tools/queries.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:30Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:34Z","closed_at":"2026-02-21T18:17:34Z","close_reason":"Closed"}
{"id":"adj-010.6.2","title":"Implement get_project_state MCP tool","description":"Summary stats: open beads, active agents, recent messages. backend/src/services/mcp-tools/queries.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:35Z","closed_at":"2026-02-21T18:17:35Z","close_reason":"Closed"}
{"id":"adj-010.6.3","title":"Implement search_messages MCP tool","description":"Full-text search via FTS5. backend/src/services/mcp-tools/queries.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:37Z","closed_at":"2026-02-21T18:17:37Z","close_reason":"Closed"}
{"id":"adj-010.6.4","title":"Write query MCP tool tests","description":"Tests for query tools. backend/tests/unit/mcp-queries.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"queries-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:32Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:37Z","closed_at":"2026-02-21T18:17:37Z","close_reason":"Closed"}
{"id":"adj-010.7","title":"US5: Claude Code Agent Skills","description":"Skill suite + .claude/settings.json MCP config for auto-connect. Agent identity injection on session creation.","status":"closed","priority":1,"issue_type":"epic","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:18Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:19:15Z","closed_at":"2026-02-21T18:19:15Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.7","depends_on_id":"adj-010.2","type":"blocks","created_at":"2026-02-21T10:36:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.1","type":"blocks","created_at":"2026-02-21T10:35:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.2","type":"blocks","created_at":"2026-02-21T10:35:59Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.3","type":"blocks","created_at":"2026-02-21T10:36:00Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.7","depends_on_id":"adj-010.7.4","type":"blocks","created_at":"2026-02-21T10:36:01Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.7.1","title":"Create adjutant-agent skill SKILL.md","description":"Skill with tool usage guide. .claude/skills/adjutant-agent/SKILL.md","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:16:40Z","closed_at":"2026-02-21T18:16:40Z","close_reason":"Closed"}
{"id":"adj-010.7.2","title":"Create skill references and tool catalog","description":"References for tool catalog and message format examples. .claude/skills/adjutant-agent/references/","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:17:41Z","closed_at":"2026-02-21T18:17:41Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.7.2","depends_on_id":"adj-010.7.2.1","type":"blocks","created_at":"2026-02-21T12:24:59Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.7.2.1","title":"Fix: Skill tool-catalog.md has wrong parameter names","description":"Tool catalog documents wrong param names that will cause Zod validation errors: send_message says 'recipient' but impl uses 'to', set_status says 'detail' but impl uses 'task'/'beadId', report_progress says 'taskId'/'percent' but impl uses 'task'/'percentage', announce shows only 'body' but impl requires 'title' and 'body'.","status":"closed","priority":1,"issue_type":"bug","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:24:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:40:35Z","closed_at":"2026-02-21T18:40:35Z","close_reason":"Fixed all parameter names in tool-catalog.md and SKILL.md to match actual Zod schemas"}
{"id":"adj-010.7.3","title":"Configure MCP server in .claude/settings.json","description":"Add MCP server config for auto-connect in .claude/settings.json","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:53Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:18:09Z","closed_at":"2026-02-21T18:18:09Z","close_reason":"Closed"}
{"id":"adj-010.7.4","title":"Add agent identity env var to session creation","description":"Inject ADJUTANT_AGENT_ID env var in session creation. backend/src/services/session-bridge.ts","status":"closed","priority":1,"issue_type":"task","assignee":"skills-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:53Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:19:15Z","closed_at":"2026-02-21T18:19:15Z","close_reason":"Closed"}
{"id":"adj-010.8","title":"Frontend Integration","description":"useChatMessages and useAgentStatus hooks, persistent message rendering, announcement banner component.","status":"closed","priority":2,"issue_type":"epic","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:18Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:31:08Z","closed_at":"2026-02-21T18:31:08Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-010.8","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T10:36:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.1","type":"blocks","created_at":"2026-02-21T10:36:01Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.2","type":"blocks","created_at":"2026-02-21T10:36:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.3","type":"blocks","created_at":"2026-02-21T10:36:02Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.4","type":"blocks","created_at":"2026-02-21T10:36:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.8","depends_on_id":"adj-010.8.5","type":"blocks","created_at":"2026-02-21T10:36:03Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.8.1","title":"Create useChatMessages hook","description":"Fetch from /api/messages + WebSocket subscription. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:54Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:27:28Z","closed_at":"2026-02-21T18:27:28Z","close_reason":"Closed"}
{"id":"adj-010.8.2","title":"Create useAgentStatus hook","description":"Real-time agent status via WebSocket. frontend/src/hooks/useAgentStatus.ts","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:55Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:28:24Z","closed_at":"2026-02-21T18:28:24Z","close_reason":"Closed"}
{"id":"adj-010.8.3","title":"Update chat components for persistent messages","description":"Render persistent messages alongside streaming output. frontend/src/components/chat/","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:55Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:31:04Z","closed_at":"2026-02-21T18:31:04Z","close_reason":"Closed"}
{"id":"adj-010.8.4","title":"Create announcement banner component","description":"Toast/banner for agent announcements. frontend/src/components/shared/AnnouncementBanner.tsx","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:56Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:29:27Z","closed_at":"2026-02-21T18:29:27Z","close_reason":"Closed"}
{"id":"adj-010.8.5","title":"Write useChatMessages tests","description":"Tests for chat messages hook. frontend/tests/unit/useChatMessages.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"frontend-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:27:29Z","closed_at":"2026-02-21T18:27:29Z","close_reason":"Closed"}
{"id":"adj-010.9","title":"Polish: Cross-Cutting Concerns","description":"Retry logic, pagination UI, search UI, remove legacy beads-mail code, documentation updates.","status":"closed","priority":3,"issue_type":"epic","assignee":"polish-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:33:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:48Z","closed_at":"2026-02-21T18:36:48Z","close_reason":"Phase 9 complete: retry logic, legacy removal, docs updated. Pagination/search deferred.","dependencies":[{"issue_id":"adj-010.9","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T10:36:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.4","type":"blocks","created_at":"2026-02-21T10:36:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.5","type":"blocks","created_at":"2026-02-21T10:36:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.6","type":"blocks","created_at":"2026-02-21T10:36:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.7","type":"blocks","created_at":"2026-02-21T10:36:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.8","type":"blocks","created_at":"2026-02-21T10:36:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.1","type":"blocks","created_at":"2026-02-21T10:36:04Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.2","type":"blocks","created_at":"2026-02-21T10:36:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.3","type":"blocks","created_at":"2026-02-21T10:36:05Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.4","type":"blocks","created_at":"2026-02-21T10:36:06Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-010.9","depends_on_id":"adj-010.9.5","type":"blocks","created_at":"2026-02-21T10:36:07Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-010.9.1","title":"Add MCP connection retry with backoff","description":"Exponential backoff on connection failure. backend/src/services/mcp-server.ts","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:30:40Z","closed_at":"2026-02-21T18:30:40Z","close_reason":"Already implemented: frontend WS has exponential backoff retry (CommunicationContext), SSE auto-reconnects, MCP agent reconnection handled by SDK client-side"}
{"id":"adj-010.9.2","title":"Add message pagination to chat view","description":"Paginated message loading. frontend/src/components/chat/","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:44Z","closed_at":"2026-02-21T18:36:44Z","close_reason":"Deferred P3: pagination and search UI are polish items for future iteration"}
{"id":"adj-010.9.3","title":"Add full-text search UI","description":"Search bar for message history. frontend/src/components/chat/","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:44Z","closed_at":"2026-02-21T18:36:44Z","close_reason":"Deferred P3: pagination and search UI are polish items for future iteration"}
{"id":"adj-010.9.4","title":"Remove legacy beads-mail swarm code paths","description":"Remove old beads-mail transport for swarm mode. backend/src/services/transport/","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:34:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:29:55Z","closed_at":"2026-02-21T18:29:55Z","close_reason":"Removed legacy sendMail bridge from WS handleMessage; messages now use MCP send_message + SQLite store"}
{"id":"adj-010.9.5","title":"Update project docs with MCP messaging","description":"Update CLAUDE.md and docs with MCP messaging instructions.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T16:35:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:32:00Z","closed_at":"2026-02-21T18:32:00Z","close_reason":"Updated 01-project-context.md and 04-architecture.md with MCP messaging, agent tools, and current data flows"}
{"id":"adj-011","title":"Agent Chat UI — Persistent Per-Agent Messaging on Web and iOS","description":"Evolve CommandChat (web) and ChatView (iOS) to use SQLite-backed messages from adj-010 message store. iMessage-style per-agent conversations with real-time delivery, unread badges, pagination, and search. Depends on adj-010.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:56Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:40:41Z","closed_at":"2026-02-21T19:40:41Z","close_reason":"All 36 tasks complete. 6 phases (types, web chat, iOS chat, unread badges, search/pagination, polish) + 2 QA bugs fixed. 460 frontend + 908 backend tests pass.","dependencies":[{"issue_id":"adj-011","depends_on_id":"adj-010.3","type":"blocks","created_at":"2026-02-21T11:53:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:19Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.2","type":"blocks","created_at":"2026-02-21T11:53:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.3","type":"blocks","created_at":"2026-02-21T11:53:20Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.4","type":"blocks","created_at":"2026-02-21T11:53:21Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.5","type":"blocks","created_at":"2026-02-21T11:53:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-011.6","type":"blocks","created_at":"2026-02-21T11:53:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-1c2","type":"blocks","created_at":"2026-02-21T13:22:03Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011","depends_on_id":"adj-jqs","type":"blocks","created_at":"2026-02-21T13:22:04Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.1","title":"Phase 1: Shared Types and API Client","description":"PersistentMessage types and /api/messages client methods for web and iOS.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:15:20Z","closed_at":"2026-02-21T19:15:20Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.1","type":"blocks","created_at":"2026-02-21T11:53:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.2","type":"blocks","created_at":"2026-02-21T11:53:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.3","type":"blocks","created_at":"2026-02-21T11:53:24Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.4","type":"blocks","created_at":"2026-02-21T11:53:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.5","type":"blocks","created_at":"2026-02-21T11:53:25Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.1","depends_on_id":"adj-011.1.6","type":"blocks","created_at":"2026-02-21T11:53:26Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.1.1","title":"Add PersistentMessage and UnreadCount types","description":"Web frontend types for SQLite-backed messages. frontend/src/types/index.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:17Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:12:35Z","closed_at":"2026-02-21T19:12:35Z","close_reason":"Closed"}
{"id":"adj-011.1.2","title":"Add messages API client methods","description":"list, send, markRead, search methods. frontend/src/services/api.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:18Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:12:35Z","closed_at":"2026-02-21T19:12:35Z","close_reason":"Closed"}
{"id":"adj-011.1.3","title":"Create PersistentMessage model (iOS)","description":"Codable model for SQLite messages. ios/AdjutantKit/.../Models/PersistentMessage.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:12:56Z","closed_at":"2026-02-21T19:12:56Z","close_reason":"Closed"}
{"id":"adj-011.1.4","title":"Create APIClient+Messages extension (iOS)","description":"Message endpoints. ios/AdjutantKit/.../Networking/APIClient+Messages.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:13:21Z","closed_at":"2026-02-21T19:13:21Z","close_reason":"Closed"}
{"id":"adj-011.1.5","title":"Write web messages API client tests","description":"frontend/tests/unit/api-messages.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:20Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:13:45Z","closed_at":"2026-02-21T19:13:45Z","close_reason":"Closed"}
{"id":"adj-011.1.6","title":"Write iOS APIClient+Messages tests","description":"ios/AdjutantTests/Networking/APIClientMessagesTests.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:20Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:15:10Z","closed_at":"2026-02-21T19:15:10Z","close_reason":"Closed"}
{"id":"adj-011.2","title":"US1: Web Chat Upgrade","description":"Modify CommandChat to use useChatMessages hook with SQLite-backed agent-scoped messages. MVP.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:20:38Z","closed_at":"2026-02-21T19:20:38Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.2","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:53Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.1","type":"blocks","created_at":"2026-02-21T11:53:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.2","type":"blocks","created_at":"2026-02-21T11:53:27Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.3","type":"blocks","created_at":"2026-02-21T11:53:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.4","type":"blocks","created_at":"2026-02-21T11:53:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.5","type":"blocks","created_at":"2026-02-21T11:53:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.6","type":"blocks","created_at":"2026-02-21T11:53:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.2","depends_on_id":"adj-011.2.7","type":"blocks","created_at":"2026-02-21T11:53:30Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.2.1","title":"Create useChatMessages hook","description":"Fetch from /api/messages + WebSocket chat_message subscription. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:21Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:15:35Z","closed_at":"2026-02-21T19:15:35Z","close_reason":"Closed"}
{"id":"adj-011.2.2","title":"Modify CommandChat to use useChatMessages","description":"Replace mail-based fetching. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:22Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:20Z","closed_at":"2026-02-21T19:19:20Z","close_reason":"Closed"}
{"id":"adj-011.2.3","title":"Add agent-scoped message filtering","description":"Filter to/from selected agent. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:23Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:21Z","closed_at":"2026-02-21T19:19:21Z","close_reason":"Closed"}
{"id":"adj-011.2.4","title":"Add WebSocket chat_message to CommunicationContext","description":"Handle chat_message events. frontend/src/contexts/CommunicationContext.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:23Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:22Z","closed_at":"2026-02-21T19:19:22Z","close_reason":"Closed"}
{"id":"adj-011.2.5","title":"Preserve optimistic UI with delivery confirmation","description":"Keep clientId tracking for /api/messages. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:24Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:22Z","closed_at":"2026-02-21T19:19:22Z","close_reason":"Closed"}
{"id":"adj-011.2.6","title":"Preserve typing indicators and streaming","description":"Keep existing streaming/typing UX. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:24Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:23Z","closed_at":"2026-02-21T19:19:23Z","close_reason":"Closed"}
{"id":"adj-011.2.7","title":"Write useChatMessages tests","description":"frontend/tests/unit/useChatMessages.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"web-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:25Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:20:28Z","closed_at":"2026-02-21T19:20:28Z","close_reason":"Closed"}
{"id":"adj-011.3","title":"US2: iOS Chat Upgrade","description":"Modify ChatView/ChatViewModel to use SQLite-backed agent-scoped messages with APNS deep linking.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:30:57Z","closed_at":"2026-02-21T19:30:57Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.3","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:54Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.1","type":"blocks","created_at":"2026-02-21T11:53:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.2","type":"blocks","created_at":"2026-02-21T11:53:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.3","type":"blocks","created_at":"2026-02-21T11:53:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.4","type":"blocks","created_at":"2026-02-21T11:53:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.5","type":"blocks","created_at":"2026-02-21T11:53:33Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.6","type":"blocks","created_at":"2026-02-21T11:53:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.3","depends_on_id":"adj-011.3.7","type":"blocks","created_at":"2026-02-21T11:53:34Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.3.1","title":"Modify ChatViewModel for getMessages","description":"Replace getMail with getMessages(agentId:). ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:41Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:25Z","closed_at":"2026-02-21T19:19:25Z","close_reason":"Closed"}
{"id":"adj-011.3.2","title":"Add agent-scoped filtering in ChatViewModel","description":"Filter messages by selected agent. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:26Z","closed_at":"2026-02-21T19:19:26Z","close_reason":"Closed"}
{"id":"adj-011.3.3","title":"Handle chat_message events in ChatWebSocketService","description":"Process MCP agent messages. ios/Adjutant/.../ChatWebSocketService.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:19:26Z","closed_at":"2026-02-21T19:19:26Z","close_reason":"Closed"}
{"id":"adj-011.3.4","title":"Wire APNS deep link to correct agent chat","description":"Notification tap opens right agent. ios/Adjutant/.../ChatView.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:21:45Z","closed_at":"2026-02-21T19:21:45Z","close_reason":"Committed by ios-builder as 63e3a84"}
{"id":"adj-011.3.5","title":"Preserve voice and typing indicators","description":"Keep voice input/playback and typing UX. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:22:59Z","closed_at":"2026-02-21T19:22:59Z","close_reason":"Voice, TTS, and typing indicators preserved in ChatViewModel migration"}
{"id":"adj-011.3.6","title":"Preserve streaming in ChatBubble","description":"Keep streaming response rendering. ios/Adjutant/.../ChatBubble.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-builder","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:44Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:23:00Z","closed_at":"2026-02-21T19:23:00Z","close_reason":"Streaming rendering preserved in ChatView/ChatBubble migration"}
{"id":"adj-011.3.7","title":"Write ChatViewModel message tests","description":"ios/AdjutantTests/.../ChatViewModelTests.swift","status":"closed","priority":1,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:45Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:26:59Z","closed_at":"2026-02-21T19:26:59Z","close_reason":"Closed"}
{"id":"adj-011.4","title":"US3: Agent Selector Upgrade","description":"Unread message count badges per agent on both platforms.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:32:08Z","closed_at":"2026-02-21T19:32:08Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-011.4","depends_on_id":"adj-011.1","type":"blocks","created_at":"2026-02-21T11:53:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.1","type":"blocks","created_at":"2026-02-21T11:53:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.2","type":"blocks","created_at":"2026-02-21T11:53:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.3","type":"blocks","created_at":"2026-02-21T11:53:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.4","type":"blocks","created_at":"2026-02-21T11:53:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.5","type":"blocks","created_at":"2026-02-21T11:53:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.4","depends_on_id":"adj-011.4.6","type":"blocks","created_at":"2026-02-21T11:53:38Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.4.1","title":"Create useUnreadCounts hook","description":"Per-agent unread counts. frontend/src/hooks/useUnreadCounts.ts","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:53Z","closed_at":"2026-02-21T19:28:53Z","close_reason":"Closed"}
{"id":"adj-011.4.2","title":"Add unread badges to web recipient selector","description":"Badge UI in CommandChat. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:31:17Z","closed_at":"2026-02-21T19:31:17Z","close_reason":"Closed"}
{"id":"adj-011.4.3","title":"Add unread count to iOS agent picker","description":"Badge UI in ChatView. ios/Adjutant/.../ChatView.swift","status":"closed","priority":2,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:47Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:09Z","closed_at":"2026-02-21T19:28:09Z","close_reason":"Closed"}
{"id":"adj-011.4.4","title":"Mark messages read on conversation open","description":"PATCH /api/messages/:id/read on both platforms","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:48Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:32:07Z","closed_at":"2026-02-21T19:32:07Z","close_reason":"Closed"}
{"id":"adj-011.4.5","title":"Real-time badge updates via WebSocket","description":"Update unread counts on chat_message events. Both platforms.","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:48Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:31:17Z","closed_at":"2026-02-21T19:31:17Z","close_reason":"Closed"}
{"id":"adj-011.4.6","title":"Write useUnreadCounts tests","description":"frontend/tests/unit/useUnreadCounts.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:49Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:53Z","closed_at":"2026-02-21T19:28:53Z","close_reason":"Closed"}
{"id":"adj-011.5","title":"US4: History and Search","description":"Cursor-based pagination and full-text search on both platforms.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:51:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:39:24Z","closed_at":"2026-02-21T19:39:24Z","close_reason":"All 5 tasks complete (web: .5.1, .5.3, .5.5 + iOS: .5.2, .5.4)","dependencies":[{"issue_id":"adj-011.5","depends_on_id":"adj-011.2","type":"blocks","created_at":"2026-02-21T11:53:55Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.3","type":"blocks","created_at":"2026-02-21T11:53:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.1","type":"blocks","created_at":"2026-02-21T11:53:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.2","type":"blocks","created_at":"2026-02-21T11:53:39Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.3","type":"blocks","created_at":"2026-02-21T11:53:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.4","type":"blocks","created_at":"2026-02-21T11:53:40Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.5","depends_on_id":"adj-011.5.5","type":"blocks","created_at":"2026-02-21T11:53:41Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.5.1","title":"Add infinite scroll pagination to web chat","description":"Cursor-based pagination. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:33:22Z","closed_at":"2026-02-21T19:33:22Z","close_reason":"Closed"}
{"id":"adj-011.5.2","title":"Add pagination to iOS chat","description":"Load earlier messages. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":3,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:28:34Z","closed_at":"2026-02-21T19:28:34Z","close_reason":"Closed"}
{"id":"adj-011.5.3","title":"Add search bar to web chat","description":"Search header. frontend/src/components/chat/CommandChat.tsx","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:35:40Z","closed_at":"2026-02-21T19:35:40Z","close_reason":"Closed"}
{"id":"adj-011.5.4","title":"Add search bar to iOS chat","description":"Search UI. ios/Adjutant/.../ChatView.swift","status":"closed","priority":3,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:30:22Z","closed_at":"2026-02-21T19:30:22Z","close_reason":"Closed"}
{"id":"adj-011.5.5","title":"Wire search to /api/messages/search","description":"Both platforms call search endpoint.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:04Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:35:40Z","closed_at":"2026-02-21T19:35:40Z","close_reason":"Closed"}
{"id":"adj-011.6","title":"Polish: Cross-Cutting","description":"Deduplication, empty states, system message styling, legacy mail removal.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:52:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:39:25Z","closed_at":"2026-02-21T19:39:25Z","close_reason":"All 5 tasks complete (web: .6.1, .6.3, .6.4, .6.5 + iOS: .6.2)","dependencies":[{"issue_id":"adj-011.6","depends_on_id":"adj-011.2","type":"blocks","created_at":"2026-02-21T11:53:56Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.3","type":"blocks","created_at":"2026-02-21T11:53:57Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.1","type":"blocks","created_at":"2026-02-21T11:53:41Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.2","type":"blocks","created_at":"2026-02-21T11:53:42Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.3","type":"blocks","created_at":"2026-02-21T11:53:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.4","type":"blocks","created_at":"2026-02-21T11:53:43Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-011.6","depends_on_id":"adj-011.6.5","type":"blocks","created_at":"2026-02-21T11:53:44Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-011.6.1","title":"Add web message deduplication","description":"Dedupe by ID for WS+polling overlap. frontend/src/hooks/useChatMessages.ts","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:35:57Z","closed_at":"2026-02-21T19:35:57Z","close_reason":"Closed"}
{"id":"adj-011.6.2","title":"Add iOS message deduplication","description":"Dedupe in ChatViewModel. ios/Adjutant/.../ChatViewModel.swift","status":"closed","priority":3,"issue_type":"task","assignee":"ios-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:30:56Z","closed_at":"2026-02-21T19:30:56Z","close_reason":"Closed"}
{"id":"adj-011.6.3","title":"Add empty state UI for no messages","description":"Both platforms show prompt when no history.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:36:08Z","closed_at":"2026-02-21T19:36:08Z","close_reason":"Closed"}
{"id":"adj-011.6.4","title":"Add system/announcement message styling","description":"Distinct chat bubble styling for system events. Both platforms.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:37:06Z","closed_at":"2026-02-21T19:37:06Z","close_reason":"Closed"}
{"id":"adj-011.6.5","title":"Remove legacy /api/mail fetch paths","description":"Remove old mail-based fetching from CommandChat and ChatViewModel.","status":"closed","priority":3,"issue_type":"task","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T17:53:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:37:57Z","closed_at":"2026-02-21T19:37:57Z","close_reason":"Closed"}
{"id":"adj-04c","title":"Phase 5: Session \u0026 cost migration","description":"Migrate session-registry.ts, cost-tracker.ts, projects-service.ts from JSON to SQLite. Old JSON files renamed to .migrated. Add ADJUTANT_USE_JSON=1 env var fallback.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-04c","depends_on_id":"adj-51v","type":"blocks","created_at":"2026-02-21T09:09:21Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-0mk","title":"Phase 1: Message persistence","description":"Create message-store.ts service, /api/messages routes, bridge OutputParser events to MessageStore, bridge sendInput to MessageStore, WebSocket chat_message broadcasting.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-0mk","depends_on_id":"adj-51v","type":"blocks","created_at":"2026-02-21T09:09:18Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-0p4","title":"Bug: useChatMessages tests have React act() warnings","description":"Frontend tests for useChatMessages.test.ts emit multiple 'not wrapped in act(...)' warnings. While all 11 tests pass, the act() warnings indicate state updates happening outside of React's batch updates during testing, which could mask timing-related bugs. The test helper should wrap state-updating operations in act().","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:10Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:27Z","closed_at":"2026-02-21T19:14:27Z","close_reason":"Deferred P3: act() warnings are cosmetic, tests pass correctly"}
{"id":"adj-145","title":"Refactor: getMessages dynamic SQL construction is error-prone","description":"message-store.ts getMessages() builds SQL strings dynamically by concatenating conditions and params arrays. While all values are parameterized (safe from SQL injection), this pattern is hard to audit and easy to break. A subtle bug: the limit clause is positioned after ORDER BY, which is correct, but the param is pushed AFTER the loop, so if both before+beforeId AND after+afterId are used simultaneously, the param ordering could break. The current code works because limit is always pushed last, but adding any new filter between getMessages() and the limit push would cause a silent param mismatch. Consider extracting a small query builder or at least adding a comment warning.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:09Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:24Z","closed_at":"2026-02-21T19:25:24Z","close_reason":"Deferred P3: dynamic SQL works correctly, refactor is nice-to-have"}
{"id":"adj-1c2","title":"Bug: Web CommandChat double-sends messages via WS and HTTP","description":"In CommandChat.tsx handleSend(), when WebSocket is connected, the message is sent BOTH via wsSendMessage() (line 248) and hookSendMessage() (line 262). This causes duplicate messages on the server. The code has confused comments ('Fall through to hook-based send'). Fix: either send via WS only (and add optimistic message manually), or only use hookSendMessage and skip the WS path.","status":"closed","priority":1,"issue_type":"bug","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:21:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:27:10Z","closed_at":"2026-02-21T19:27:10Z","close_reason":"Closed"}
{"id":"adj-1y7","title":"Fix: skill tool-catalog.md has wrong parameter names (multiple tools)","description":"The tool-catalog.md reference docs have parameter name mismatches with the actual implementations:\n\n1. send_message: docs say 'recipient' but impl uses 'to'\n2. set_status: docs say 'detail' but impl uses 'task' and 'beadId'\n3. report_progress: docs say 'taskId'/'percent' but impl uses 'task'/'percentage'\n4. announce: docs say only 'body' but impl requires both 'title' and 'body'\n\nAlso SKILL.md:27 uses 'recipient' but impl is 'to'.\n\nThese mismatches will cause agents to call tools with wrong params, getting Zod validation errors. Update the docs to match actual Zod schemas in messaging.ts, status.ts, queries.ts, beads.ts.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:23:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:19Z","closed_at":"2026-02-21T18:34:19Z","close_reason":"Fixed vi.mock arrow function constructors for Vitest 4"}
{"id":"adj-2h5","title":"Remove Hooked column from Kanban board on iOS and web frontend","description":"The Kanban board currently shows a 'Hooked' column. This column should be removed from both the iOS app and the web frontend Kanban views.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:49:16Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:51:24Z","closed_at":"2026-02-21T14:51:24Z","close_reason":"Closed"}
{"id":"adj-2n1","title":"Refactor: MCP routes double-disconnect on SSE close","description":"In routes/mcp.ts, both transport.onclose (set in mcp-server.ts:135) and req.on('close') (set in mcp.ts:36) call disconnectAgent(). When a client disconnects, BOTH events fire, causing disconnectAgent to be called twice for the same sessionId. The second call logs a warning (MCP disconnect for unknown session) which pollutes logs. While not a bug (the second call is a no-op), it indicates a design issue. Either remove the req.on('close') handler and rely solely on transport.onclose, or add a guard in the route to check if already disconnected.","status":"closed","priority":4,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:40Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:24Z","closed_at":"2026-02-21T19:25:24Z","close_reason":"Deferred P4: double-disconnect is harmless, transport cleanup handles it"}
{"id":"adj-2pi","title":"Fix: beads.ts has redundant SimpleMutex when bd-client already has semaphore","description":"beads.ts implements a SimpleMutex class for serializing bd access. However, bd-client.ts already has a Semaphore with maxConcurrent=1 that serializes all execBd calls. The beads.ts mutex adds a second serialization layer that is unnecessary and could cause confusing deadlock if ever mixed with other code that calls execBd directly. Remove SimpleMutex from beads.ts and rely on bd-client's built-in serialization.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:24Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:38Z","closed_at":"2026-02-21T18:36:38Z","close_reason":"Deferred P3: SimpleMutex in beads.ts is redundant but harmless - cleanup for later"}
{"id":"adj-35p","title":"B1: Swarm overview summary panel","description":"Top-of-Crew-tab panel in swarm mode showing agent count badges (N ACTIVE | N IDLE | N BLOCKED), overall progress bar from beads, swarm uptime, and quick-action buttons. New section in frontend/src/components/crew/CrewStats.tsx or extracted component.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:54Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:18:13Z","closed_at":"2026-02-21T02:18:13Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-35p","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:45Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-38q","title":"C2: Agent terminal WebSocket streaming","description":"Wire session-registry pipe-pane output to inline terminal component. Connect to existing tmux pipe-pane infrastructure. Ring buffer management (max 1000 lines). Reconnection logic on disconnect. Works with B4 inline terminal expansion.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:10Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-38q","depends_on_id":"adj-8u0","type":"blocks","created_at":"2026-02-20T19:07:51Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-38q","depends_on_id":"adj-zf4","type":"blocks","created_at":"2026-02-20T19:07:51Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-413","title":"A1: Extend CrewMember type with swarm fields","description":"Add lastActivity, worktreePath, progress {completed,total}, swarmId, isCoordinator to CrewMember in both backend/src/types/index.ts and frontend/src/types/index.ts. Populate from session-registry and beads data in agents-service.ts and agent-data.ts.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:10:12Z","closed_at":"2026-02-21T02:10:12Z","close_reason":"Closed"}
{"id":"adj-49u","title":"Track A: Backend data enrichment for swarm crew","description":"Enrich the agent data pipeline with swarm-specific fields (lastActivity, progress, worktree), generalize terminal endpoint for swarm agents, add swarm summary endpoint, and wire WebSocket agent status events. Foundation for all other tracks.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:29Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:17:23Z","closed_at":"2026-02-21T02:17:23Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-49u","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:29Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-49u","depends_on_id":"adj-cfq","type":"blocks","created_at":"2026-02-20T19:07:31Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-49u","depends_on_id":"adj-dyj","type":"blocks","created_at":"2026-02-20T19:07:30Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-49u","depends_on_id":"adj-zf4","type":"blocks","created_at":"2026-02-20T19:07:30Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-4ah","title":"Fix: WebSocket message type contract mismatch between backend MCP tools and frontend hooks","description":"Backend MCP tools broadcast WS messages with shapes that don't match what frontend hooks expect:\n\n1. set_status/report_progress: Backend broadcasts type='typing' with metadata={task, beadId, percentage}. Frontend useAgentStatus filters on metadata.type==='agent_status' which is NEVER sent. The hook will receive zero status updates in production.\n\n2. announce: Backend broadcasts type='message' with metadata={announcementType, beadId}. Frontend AnnouncementBanner filters on metadata.type==='announcement' which is NEVER in the metadata. Announcements will never display.\n\nFix options:\nA) Backend: Add metadata.type field to broadcasts (metadata: { type: 'agent_status', task, beadId } for status, metadata: { type: 'announcement', announcementType, beadId } for announce)\nB) Frontend: Change filters to match actual broadcast shapes (check top-level type==='typing' + metadata.task for status, check top-level type==='message' + metadata.announcementType for announcements)\nC) Both: Establish a formal WS message contract and align both sides\n\nTests pass because they mock the expected shape directly, masking this integration gap.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:32:20Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:31Z","closed_at":"2026-02-21T18:36:31Z","close_reason":"Fixed: added metadata.type field to backend broadcasts (agent_status, announcement)"}
{"id":"adj-4as","title":"B2: Enhanced swarm agent cards","description":"Replace minimal peer cards with rich agent cards showing: status indicator dot, current task (hookBead title + ID), git branch, last activity timestamp, terminal preview (last 3-5 lines collapsed), unread mail badge, and action buttons (expand terminal, message, remove). In CrewStats.tsx or new SwarmAgentCard component.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:57Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:18:14Z","closed_at":"2026-02-21T02:18:14Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-4as","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:46Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-4qz","title":"bd CLI SIGSEGV crash on concurrent list operations","description":"After running for a few minutes, bd list commands crash with nil pointer dereference in dolt's DoltDB.SetCrashOnFatalError. Exit code 2, SIGSEGV. Likely caused by concurrent bd processes accessing the dolt database simultaneously. The backend spawns multiple bd commands (list epics, list tasks, etc.) in parallel, and dolt's SQL engine doesn't handle concurrent connections to the same database safely. Need to investigate and add serialization or connection pooling on the adjutant side.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:32:40Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:38:17Z","closed_at":"2026-02-21T14:38:17Z","close_reason":"Closed"}
{"id":"adj-4xp","title":"Phase 6: Cleanup and polish","description":"Remove beads-based mail for swarm mode. Remove JSON fallback code. Add backup command. Update tests to use in-memory SQLite.","status":"closed","priority":3,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-4xp","depends_on_id":"adj-04c","type":"blocks","created_at":"2026-02-21T09:09:23Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-4xp","depends_on_id":"adj-edj","type":"blocks","created_at":"2026-02-21T09:09:22Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-4xp","depends_on_id":"adj-zlh","type":"blocks","created_at":"2026-02-21T09:09:22Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-51v","title":"Phase 0: Database infrastructure","description":"Create database.ts singleton, migration runner, initial schema (001-initial.sql). Add better-sqlite3 dependency. WAL mode, PRAGMA tuning. Database at ~/.adjutant/adjutant.db.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:04Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs"}
{"id":"adj-7o7","title":"Security: Agent identity spoofing via sessionId casting in messaging.ts","description":"In messaging.ts:32, the send_message tool extracts sessionId via unsafe cast: (extra as Record\u003cstring, unknown\u003e).sessionId as string. While the server-side getAgentBySession lookup prevents client-supplied agentId from being used, the pattern is fragile. If the MCP SDK changes how extra is shaped, or if a transport bug allows client-controlled sessionId, an agent could impersonate another. The status.ts tools use resolveAgent() properly which accesses extra.sessionId directly. Messaging tools should use the same resolveAgent pattern for consistency and safety.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:11Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:53Z","closed_at":"2026-02-21T19:17:53Z","close_reason":"Fixed: messaging uses typed extra.sessionId"}
{"id":"adj-81y","title":"Refactor: MCP server singleton with multiple transports creates shared state issue","description":"In mcp-server.ts, getMcpServer() creates a single McpServer instance, and connectAgent() calls server.connect(transport) for each new agent. The MCP SDK's McpServer.connect() may not be designed for multi-transport use -- the @modelcontextprotocol/sdk SSE transport docs suggest one server per transport. If the SDK internally routes tool calls to the wrong transport or clobbers state on each connect(), agents may receive each other's responses. The test mocks hide this because they don't test actual SDK routing. Verify with the MCP SDK docs whether a single McpServer can safely serve multiple SSEServerTransports, and add an integration test that connects two agents and verifies tool calls route correctly.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:46Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:25Z","closed_at":"2026-02-21T19:25:25Z","close_reason":"Deferred P2: shared state is by design for MCP server singleton pattern"}
{"id":"adj-8j4","title":"Track C: Real-time updates via WebSocket","description":"Replace 60s polling with push-based updates for swarm mode. New useSwarmAgents hook combining initial fetch + WebSocket subscription + fallback polling. Wire terminal streaming for swarm agents.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:33Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-8j4","depends_on_id":"adj-38q","type":"blocks","created_at":"2026-02-20T19:07:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8j4","depends_on_id":"adj-i1w","type":"blocks","created_at":"2026-02-20T19:07:36Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8j4","depends_on_id":"adj-w1j","type":"blocks","created_at":"2026-02-20T19:07:35Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-8jr","title":"Refactor: useChatMessages loadMore uses messages[0] as oldest but messages are DESC-sorted","description":"In useChatMessages.ts loadMore(), line 121: const oldestMessage = messages[0]. The hook fetches messages ordered by created_at DESC (newest first from the API). So messages[0] is actually the NEWEST message, not the oldest. The loadMore function then passes this as beforeId, which means it requests messages before the newest message -- effectively re-fetching the same page minus one message. The correct oldest message would be messages[messages.length - 1]. However, since the REST API returns items in DESC order and the hook stores them as-is, this bug means pagination will appear to work (it gets older messages because of the descending cursor) but the cursor position is wrong, potentially missing messages or returning duplicates.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:52Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:54Z","closed_at":"2026-02-21T19:17:54Z","close_reason":"Fixed: loadMore finds oldest by createdAt"}
{"id":"adj-8mg","title":"Refactor: Agent connection Map never cleaned up on stale connections","description":"In mcp-server.ts, the connections Map tracks connected agents. Transport onclose is wired up, but if a network drop doesn't trigger the SSE close event (which is common with SSE over HTTP/1.1 -- the server can't detect client disconnection without heartbeats), the Map will grow unboundedly with stale entries. The getConnectedAgents() will return phantom agents. Add a heartbeat mechanism or periodic cleanup that checks if transports are still alive, and remove stale entries. Also consider adding a max-connections guard.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:25Z","closed_at":"2026-02-21T19:25:25Z","close_reason":"Deferred P3: transport.onclose handles cleanup, heartbeat is nice-to-have"}
{"id":"adj-8u0","title":"B4: Inline terminal expansion for swarm agents","description":"Click agent card to expand inline terminal view. Reuse xterm.js integration from polecat TerminalPane. Connect to session-registry output via WebSocket or polling tmux capture-pane. Auto-scroll with pause-on-scroll, resize handle. Depends on A2 (generalized terminal endpoint).","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:17Z","closed_at":"2026-02-21T02:30:17Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-8u0","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:48Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-8u0","depends_on_id":"adj-zf4","type":"blocks","created_at":"2026-02-20T19:07:47Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-9kq","title":"iOS WebSocket session connection failures through ngrok","description":"iOS app fails to connect WebSocket sessions with 'Socket is not connected' (POSIX error 57) and 'Protocol error'. Connections go through ngrok tunnel (3.22.30.40:443). Backend only sees clean disconnects. Key errors: 'input control frame can not be compressed' and 'nw_ws_validate_server_response' suggest WebSocket protocol/compression negotiation failure through the ngrok proxy. Need to investigate ChatWebSocketService.swift for compression settings, connection retry logic, and ngrok WebSocket compatibility.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:46:28Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:48:55Z","closed_at":"2026-02-21T14:48:55Z","close_reason":"Closed"}
{"id":"adj-bmq","title":"Refactor: useChatMessages loadMore passes beforeId without before timestamp","description":"In useChatMessages.ts loadMore(), only beforeId is passed to the API (line 126), but not the before timestamp. Looking at message-store.ts getMessages(), when before is undefined but beforeId is provided, the beforeId is simply ignored (lines 197-205: the composite cursor only engages when before is defined). This means loadMore likely returns the full set of recent messages instead of paginating, making pagination broken. Fix: pass both before: oldestMessage.createdAt AND beforeId: oldestMessage.id to enable the composite cursor.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:14:02Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:55Z","closed_at":"2026-02-21T19:17:55Z","close_reason":"Fixed: loadMore passes both before and beforeId"}
{"id":"adj-brs","title":"Epics tab project selector dropdown in swarm mode","description":"iOS app: In swarm mode, the dropdown selector in the EPICS tab (EpicsListView.swift) needs to show the list of Projects that can be selected to view their bead epics. Currently it doesn't properly list available projects. Key files: ios/Adjutant/Features/Epics/Views/EpicsListView.swift, ios/Adjutant/Features/Epics/ViewModels/EpicsListViewModel.swift, ios/Adjutant/Features/Projects/ for reference on how projects are listed.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:38:41Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:45:57Z","closed_at":"2026-02-21T14:45:57Z","close_reason":"Closed"}
{"id":"adj-c8f","title":"Fix: beads test MockMcpServer constructor crash (25/25 failing)","description":"mcp-beads.test.ts uses vi.fn().mockImplementation() in vi.hoisted() to create MockMcpServer. vi.fn() returns a non-constructable proxy so 'new MockMcpServer()' throws TypeError. Same root cause as adj-010.2.7.1 (mcp-server.test.ts). Fix: use a real class or regular function keyword instead of vi.fn().mockImplementation().","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:19:32Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:35Z","closed_at":"2026-02-21T18:34:35Z","close_reason":"Fixed: vi.mock arrow functions replaced with function expressions"}
{"id":"adj-cfq","title":"A4: Wire WebSocket agent status change events","description":"Session-registry already emits agent:status_changed events. Create WS endpoint /api/agents/stream that pushes {type, agent, fromStatus, toStatus, timestamp} to connected clients. The Crew tab will subscribe to this for real-time updates. In backend/src/routes/agents.ts or new ws handler.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:49Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:17:22Z","closed_at":"2026-02-21T02:17:22Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-cfq","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:44Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-cnz","title":"D3: Assign bead to agent from crew tab","description":"Assign work action on idle agent cards. Bead picker showing ready beads from bd ready. Updates hook bead assignment via backend. Agent card immediately reflects new task. New endpoint or use existing beads API.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:21Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:45Z","closed_at":"2026-02-21T02:24:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-cnz","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:54Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-d0l","title":"Bug: searchMessages crashes on empty string query (FTS5 MATCH)","description":"message-store.ts searchMessages() does not validate against empty string queries. FTS5 MATCH '' in SQLite throws an error. The search_messages MCP tool uses z.string() which allows empty strings, so an agent passing query='' would crash the search. Should either validate query is non-empty (z.string().min(1)) or return empty results for empty queries.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:00Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:26Z","closed_at":"2026-02-21T19:14:26Z","close_reason":"Fixed: searchMessages returns [] for empty queries"}
{"id":"adj-d5g","title":"Epic: Crew tab swarm mode overhaul","description":"Transform the Crew tab into a real-time swarm command center showing all active agents, what they're working on, live terminal output, and agent management controls. See docs/crew-swarm-update.md for full design.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:22Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:22Z","closed_at":"2026-02-21T02:30:22Z","close_reason":"All 4 tracks complete: backend enrichment, frontend redesign, real-time updates, agent controls","dependencies":[{"issue_id":"adj-d5g","depends_on_id":"adj-49u","type":"blocks","created_at":"2026-02-20T19:07:26Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-d5g","depends_on_id":"adj-8j4","type":"blocks","created_at":"2026-02-20T19:07:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-d5g","depends_on_id":"adj-en1","type":"blocks","created_at":"2026-02-20T19:07:28Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-d5g","depends_on_id":"adj-q92","type":"blocks","created_at":"2026-02-20T19:07:27Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-dbu","title":"Bug: MCP bead tools and query tools never registered at startup","description":"registerBeadTools() and registerQueryTools() are defined in mcp-tools/beads.ts and mcp-tools/queries.ts respectively, and have passing unit tests, but are never imported or called in index.ts or mcp-server.ts. This means agents connecting via MCP will not have access to create_bead, update_bead, close_bead, list_beads, show_bead, list_agents, get_project_state, or search_messages tools at runtime.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:50Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:26Z","closed_at":"2026-02-21T19:14:26Z","close_reason":"Fixed: all 4 tool groups now registered at startup"}
{"id":"adj-dyj","title":"A3: Add swarm summary stats endpoint","description":"New endpoint GET /api/swarms/active returning {id, agentCount, activeCount, idleCount, blockedCount, overallProgress, createdAt}. Aggregate from swarm-service registry and agent data. Add to backend/src/routes/swarms.ts.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:47Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:14:42Z","closed_at":"2026-02-21T02:14:42Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-dyj","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:43Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-edj","title":"Phase 3: Web frontend chat UI","description":"Extract ChatBubble/ChatMessages/ChatHeader/ChatInput from CommandChat. Create ChatTab with view state machine. Create useChatMessages hook. Create HistoryPanel + FullSessionOverlay.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:06Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-edj","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:20Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-emo","title":"Fix: messaging wsBroadcast uses 'as any' type escape for chat_message","description":"In messaging.ts:66 and messages.ts:130, wsBroadcast is called with type 'chat_message' using 'as any' cast. This bypasses the typed WsBroadcastMessage interface. The WsMessage type union in ws-server.ts needs a new 'chat_message' variant added to properly type these broadcasts. Same pattern in both MCP tool (messaging.ts) and REST route (messages.ts).","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:03Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:39Z","closed_at":"2026-02-21T18:36:39Z","close_reason":"Deferred P3: as-any type escape works correctly, cosmetic improvement for later"}
{"id":"adj-en1","title":"Track D: Agent management controls","description":"Add operator controls for swarm management from Crew tab: spawn agent, remove agent, assign bead to agent. Leverages existing swarm-service CRUD endpoints.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:35Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:48Z","closed_at":"2026-02-21T02:24:48Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-en1","depends_on_id":"adj-cnz","type":"blocks","created_at":"2026-02-20T19:07:38Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-en1","depends_on_id":"adj-ie7","type":"blocks","created_at":"2026-02-20T19:07:37Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-en1","depends_on_id":"adj-v84","type":"blocks","created_at":"2026-02-20T19:07:37Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-gkj","title":"Persistent messaging system for swarm mode","description":"Replace ephemeral chat and beads-based mail with a unified persistent messaging system backed by SQLite. See docs/persistent-messaging-system.md for full design.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:08:49Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-gkj","depends_on_id":"adj-04c","type":"blocks","created_at":"2026-02-21T09:09:17Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:15Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-4xp","type":"blocks","created_at":"2026-02-21T09:09:18Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-51v","type":"blocks","created_at":"2026-02-21T09:09:14Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-edj","type":"blocks","created_at":"2026-02-21T09:09:16Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-n86","type":"blocks","created_at":"2026-02-21T09:09:15Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-gkj","depends_on_id":"adj-zlh","type":"blocks","created_at":"2026-02-21T09:09:16Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-gqh","title":"Remove START TEAM button from Project Detail page","description":"iOS app: Remove the 'START TEAM (3 AGENTS)' button from the SwarmProjectDetailView. File: ios/Adjutant/Features/Projects/SwarmProjectDetailView.swift, line ~302-309. The actionButton with label 'START TEAM (3 AGENTS)' and its associated handler should be removed.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T14:38:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T14:44:44Z","closed_at":"2026-02-21T14:44:44Z","close_reason":"Closed"}
{"id":"adj-hb2","title":"Session output leaking into normal chat view","description":"After sending a message, terminal session output from agent tmux sessions appears in the normal chat view. Chat should only display SQLite-backed messages (chat_message type). Investigate: (1) WS handleMessage broadcasts type:'message' (not chat_message) — CommunicationContext.tsx handles both types on line 252-253. (2) Check if session_output events are somehow being broadcast via wsBroadcast. (3) iOS ChatWebSocketService handleLegacyChatMessage may be too permissive. (4) The WS message path should persist to SQLite first, then broadcast as chat_message — currently it only broadcasts without persistence.","status":"closed","priority":1,"issue_type":"task","assignee":"session-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T02:44:32Z","created_by":"Justin Martin","updated_at":"2026-02-22T04:35:55Z","closed_at":"2026-02-22T04:35:55Z","close_reason":"Fixed session output leak: WS messages now route through SQLite message store and broadcast as chat_message. Frontend/iOS only handle chat_message type."}
{"id":"adj-hp9","title":"Fix: getAgentStatuses returns mutable reference to internal Map","description":"status.ts:36 getAgentStatuses() returns the internal agentStatuses Map directly. Any caller can mutate the module-level state (delete entries, modify values). Should return a shallow copy: return new Map(agentStatuses). This is a defensive programming issue -- callers should not be able to corrupt internal state.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:39Z","closed_at":"2026-02-21T18:36:39Z","close_reason":"Deferred P3: mutable Map reference is internal-only, safe for current usage"}
{"id":"adj-i1w","title":"C3: Reduce swarm polling interval to 10s","description":"Quick win: reduce base polling interval from 60s to 10s for swarm mode as fallback while WebSocket is primary. Update useDashboardCrew.ts or useSwarmAgents polling config. Mode-aware interval selection.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:12Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:12:34Z","closed_at":"2026-02-21T02:12:34Z","close_reason":"Closed"}
{"id":"adj-i6r","title":"Refactor: FTS5 search query not sanitized for special characters","description":"In message-store.ts searchMessages(), the query string is passed directly to FTS5 MATCH. FTS5 has special syntax characters (AND, OR, NOT, quotes, asterisks, etc.) that can cause parse errors if user/agent input contains them. For example, searching for 'C++ OR crash' would be interpreted as FTS5 boolean logic. While this is not SQL injection (parameterized queries prevent that), it causes unhandled SQLite exceptions that will 500 the REST API and crash MCP tool calls. Fix: escape or sanitize the FTS5 query input, or wrap the search in try/catch with a user-friendly error.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:34Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:53Z","closed_at":"2026-02-21T19:17:53Z","close_reason":"Fixed: FTS5 queries wrapped in escaped double quotes"}
{"id":"adj-idn","title":"Refactor: REST messages router missing limit validation","description":"In routes/messages.ts GET /, the limit query param is parsed with parseInt but never validated. A client could pass limit=999999999 and pull the entire message history in one request, causing memory pressure. Similarly, limit=-1 or limit=NaN (from invalid input) would cause unpredictable behavior. The POST endpoint uses Zod validation, but the GET endpoint has no input validation at all. Add Zod validation or at least clamp the limit to a reasonable range (e.g., 1-200).","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:26Z","closed_at":"2026-02-21T19:25:26Z","close_reason":"Deferred P3: limit defaults to 50 in service layer, validation is nice-to-have"}
{"id":"adj-ie7","title":"D2: Remove agent from swarm","description":"Context menu or button on agent card to remove agent. Confirmation dialog (Agent X is working. Remove anyway?). Calls existing DELETE /api/swarms/:id/agents/:sessionId. Handle graceful vs force removal. Updates UI optimistically.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:19Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:45Z","closed_at":"2026-02-21T02:24:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-ie7","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:53Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-j00","title":"Fix: announce tool missing APNS push notification (spec US2-AC2)","description":"Spec User Story 2, Acceptance Criteria 2 says: 'When [agent] calls announce(type: completion), Then iOS sends a push.' The announce tool in status.ts stores the message and broadcasts via WebSocket, but does NOT call sendNotificationToAll from apns-service. Compare with messaging.ts which correctly sends APNS for messages to 'user'. The announce tool should also send APNS push with title=announcement type and body=announcement title.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:21:50Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:36:32Z","closed_at":"2026-02-21T18:36:32Z","close_reason":"Fixed: announce tool now sends APNS push notifications"}
{"id":"adj-ja1","title":"Bug: Bead and Query MCP tools never registered at startup","description":"registerBeadTools() and registerQueryTools() are defined in mcp-tools/beads.ts and mcp-tools/queries.ts but are never called during server initialization. Only registerStatusTools() and registerMessagingTools() are wired up in initMcpServer() + index.ts. Agents connecting via MCP will not have access to create_bead, update_bead, close_bead, list_beads, show_bead, list_agents, get_project_state, or search_messages. Fix: add registerBeadTools(server) and registerQueryTools(server, store) calls in initMcpServer() or index.ts.","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:11:58Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:14:54Z","closed_at":"2026-02-21T19:14:54Z","close_reason":"Already fixed in ce60ebf (same as adj-dbu)"}
{"id":"adj-jqs","title":"Bug: Web useChatMessages WS subscription does not filter by agentId","description":"In useChatMessages.ts, the subscribe() callback (line 92) accepts ALL incoming messages from the CommunicationContext without checking if the message is from/to the current agentId. This means messages from agent 'researcher' would appear in agent 'coder' conversation. Fix: add agent scoping check like iOS does in handleIncomingMessage: guard message.agentId == agentId || message.recipient == agentId","status":"closed","priority":2,"issue_type":"bug","assignee":"web-finisher","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:21:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:27:22Z","closed_at":"2026-02-21T19:27:22Z","close_reason":"Closed"}
{"id":"adj-k9k","title":"Bug: initMcpServer creates a second MessageStore instance","description":"initMcpServer() in mcp-server.ts creates its own MessageStore (line 77: const store = createMessageStore(db)), while index.ts also creates one (const messageStore = ...) and passes it to registerMessagingTools. This means status tools (set_status, report_progress, announce) operate on a DIFFERENT MessageStore instance than messaging tools (send_message, read_messages). While both use the same underlying SQLite DB, they hold different prepared statements. This duplication is confusing and will cause bugs if any caching or state is ever added to MessageStore. Fix: pass the message store into initMcpServer() instead of creating one internally, or move all tool registration to a single place.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:12:22Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:17:52Z","closed_at":"2026-02-21T19:17:52Z","close_reason":"Fixed: removed duplicate MessageStore, all tool registration in index.ts"}
{"id":"adj-lrb","title":"Fix: mark_read tool silently succeeds when neither messageId nor agentId provided","description":"messaging.ts:172-179 mark_read tool handler: if both messageId and agentId are undefined, the handler does nothing but still returns {success: true}. This is misleading. Should return an error indicating that at least one of messageId or agentId is required. The Zod schema marks both as optional but the handler needs a runtime check.","status":"closed","priority":3,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:33Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:38Z","closed_at":"2026-02-21T18:34:38Z","close_reason":"Fixed: mark_read validates input params"}
{"id":"adj-n86","title":"Phase 2: Agent communication","description":"Inject ADJUTANT_SESSION_ID env var in session creation. Create .claude/rules/adjutant-messaging.md. POST /api/messages for agent-originated messages. APNS push for offline delivery.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:05Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-n86","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:19Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-nhc","title":"Fix: mcp-server.test.ts still 18/25 failing (constructor mock unfixed)","description":"adj-010.2.7.1 was closed but the mcp-server.test.ts still has 18/25 tests failing. The vi.fn().mockImplementation() pattern inside vi.mock factory still produces a non-constructable function. Commits d6a8bc3 and 48e0357 did not resolve the issue. Fix: replace the arrow function in vi.mock factory with a real class definition or use function keyword (not arrow) which is constructable.","status":"closed","priority":0,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:19:43Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:35Z","closed_at":"2026-02-21T18:34:35Z","close_reason":"Fixed: vi.mock arrow functions replaced with function expressions"}
{"id":"adj-nqu","title":"iOS: Chat history lost after background/shutdown","description":"When the iOS app is backgrounded or killed, chat messages disappear. Root causes: (1) ResponseCache.shared.chatMessages is in-memory only — lost on termination. (2) onAppear() doesn't call refresh() directly — it waits for WebSocket connect callback (line 248). (3) No background refresh when scenePhase changes to .active (MainTabView.swift:89-92 only resets TabView ID). Fix: call refresh() eagerly in onAppear, and trigger refresh on scenePhase .active. Consider persisting cache to UserDefaults or disk for instant display on cold start.","status":"closed","priority":1,"issue_type":"task","assignee":"ios-fixer","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T02:44:28Z","created_by":"Justin Martin","updated_at":"2026-02-22T04:26:05Z","closed_at":"2026-02-22T04:26:05Z","close_reason":"Fixed iOS chat history: eager refresh on appear, foreground refresh via didBecomeActiveNotification, UserDefaults persistence for cold starts"}
{"id":"adj-p23","title":"Refactor: getThreads correlated subquery is N+1-like","description":"In message-store.ts getThreads(), the latest_body column uses a correlated subquery: (SELECT body FROM messages m2 WHERE m2.thread_id = messages.thread_id ORDER BY created_at DESC LIMIT 1). This executes once per group, making it O(threads * messages_per_thread). For a small dataset this is fine, but it won't scale. The query also has an ambiguity: when multiple agents post in a thread, the GROUP BY agent_id means you get one row per (thread_id, agent_id) pair, not one row per thread_id. The correlated subquery also doesn't filter by agent_id, so it returns the latest body from ANY agent in that thread, not necessarily the grouping agent. Fix: use a window function (ROW_NUMBER() OVER PARTITION BY thread_id ORDER BY created_at DESC) or restructure the query.","status":"closed","priority":3,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T19:13:30Z","created_by":"Justin Martin","updated_at":"2026-02-21T19:25:27Z","closed_at":"2026-02-21T19:25:27Z","close_reason":"Deferred P3: correlated subquery is fine for small thread counts"}
{"id":"adj-q92","title":"Track B: Frontend crew tab swarm UI redesign","description":"Redesign swarm mode rendering in CrewStats with rich agent cards, swarm overview panel, status-based grouping, and inline terminal expansion. Depends on Track A for enriched data types.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:31Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-q92","depends_on_id":"adj-35p","type":"blocks","created_at":"2026-02-20T19:07:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-q92","depends_on_id":"adj-4as","type":"blocks","created_at":"2026-02-20T19:07:32Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-q92","depends_on_id":"adj-8u0","type":"blocks","created_at":"2026-02-20T19:07:34Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-q92","depends_on_id":"adj-wvh","type":"blocks","created_at":"2026-02-20T19:07:33Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-s1o","title":"iOS WebSocket still failing -- ngrok may add compression independently","description":"adj-9kq added perMessageDeflate:false to ws-server.ts but iOS still gets 'input control frame can not be compressed' through ngrok. The fix may not be deployed (backend not restarted), OR ngrok's WebSocket proxy re-negotiates compression independently of the origin server. Need to: 1) Verify backend was restarted with the fix 2) If still failing, investigate ngrok WebSocket compression behavior 3) May need iOS-side fix to reject compression negotiation, or configure ngrok to disable WS compression","status":"closed","priority":1,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:08:42Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:16:45Z","closed_at":"2026-02-21T15:16:45Z","close_reason":"Closed"}
{"id":"adj-uv3","title":"Fix: messaging resolveAgentFromExtra uses _meta pattern instead of getAgentBySession","description":"messaging.ts uses a different agent identity resolution pattern than status.ts. Status tools use getAgentBySession(extra.sessionId) which looks up the connection map in mcp-server.ts. Messaging tools use extra._meta.agentId which depends on a client-supplied _meta field. This is inconsistent and _meta may not be present in all MCP SDK versions. Should use the same getAgentBySession pattern as status tools for consistent, server-side identity resolution.","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:20:14Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:37Z","closed_at":"2026-02-21T18:34:37Z","close_reason":"Fixed: messaging uses getAgentBySession instead of _meta"}
{"id":"adj-v2e","title":"Chat reliability: history persistence \u0026 session output leak","description":"Epic for two chat bugs: (1) iOS chat doesn't reload message history after background/shutdown (in-memory cache lost), (2) Session terminal output leaks into normal chat view after sending a message. Chat should only show SQLite-backed messages.","status":"closed","priority":1,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-22T02:44:20Z","created_by":"Justin Martin","updated_at":"2026-02-22T04:36:39Z","closed_at":"2026-02-22T04:36:39Z","close_reason":"Both child tasks merged to main: adj-nqu (iOS history persistence) and adj-hb2 (session output leak fix)","dependencies":[{"issue_id":"adj-v2e","depends_on_id":"adj-hb2","type":"blocks","created_at":"2026-02-21T20:44:35Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-v2e","depends_on_id":"adj-nqu","type":"blocks","created_at":"2026-02-21T20:44:35Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-v84","title":"D1: Spawn agent button for swarm mode","description":"Add spawn agent button in swarm overview panel. Calls existing POST /api/swarms/:id/agents. Shows spawning state with progress indication. Agent appears in agent list once session registers. In CrewStats.tsx or SwarmOverview component.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:17Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:24:45Z","closed_at":"2026-02-21T02:24:45Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-v84","depends_on_id":"adj-35p","type":"blocks","created_at":"2026-02-20T19:07:53Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-w1j","title":"C1: useSwarmAgents hook with WebSocket","description":"New hook combining: initial fetch via api.agents.list(), WebSocket subscription to /api/agents/stream for status changes, optimistic UI updates, fallback to 10s polling if WS disconnects. Replaces useDashboardCrew for swarm mode. In frontend/src/hooks/useSwarmAgents.ts.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:07:08Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:30:18Z","closed_at":"2026-02-21T02:30:18Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-w1j","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:50Z","created_by":"Justin Martin","metadata":"{}"},{"issue_id":"adj-w1j","depends_on_id":"adj-cfq","type":"blocks","created_at":"2026-02-20T19:07:49Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-wvh","title":"B3: Agent status-based grouping and sorting","description":"Group swarm agents by status priority: working (first) → blocked → idle → offline (collapsed). Within each group sort by last activity (most recent first). Replace flat peers[] rendering in CrewStats.tsx.","status":"closed","priority":2,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:59Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:18:14Z","closed_at":"2026-02-21T02:18:14Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-wvh","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:46Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-x0m","title":"Fix: close_bead ignores reason parameter","description":"In beads.ts:155, close_bead destructures {id, reason} but the handler body never uses 'reason'. The reason parameter is accepted by the Zod schema but silently dropped. bd CLI supports --reason flag. Add: if (reason) args.push('--reason', reason);","status":"closed","priority":2,"issue_type":"bug","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T18:19:53Z","created_by":"Justin Martin","updated_at":"2026-02-21T18:34:37Z","closed_at":"2026-02-21T18:34:37Z","close_reason":"Fixed: close_bead now passes --reason flag"}
{"id":"adj-zf4","title":"A2: Generalize terminal endpoint for swarm agents","description":"Current GET /api/agents/:rig/:polecat/terminal is hardcoded to gt-{rig}-{polecat} tmux pattern. Add support for swarm agent sessions (agent-{name} pattern). Either add new route GET /api/agents/:sessionName/terminal or make existing route mode-aware. In backend/src/routes/agents.ts.","status":"closed","priority":1,"issue_type":"task","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T01:06:45Z","created_by":"Justin Martin","updated_at":"2026-02-21T02:13:22Z","closed_at":"2026-02-21T02:13:22Z","close_reason":"Closed","dependencies":[{"issue_id":"adj-zf4","depends_on_id":"adj-413","type":"blocks","created_at":"2026-02-20T19:07:43Z","created_by":"Justin Martin","metadata":"{}"}]}
{"id":"adj-zlh","title":"Phase 4: iOS chat UI","description":"Create PersistentChatView + PersistentChatViewModel. Create HistorySheet + HistoryViewModel. Wire to /api/messages endpoints. APNS integration for agent responses.","status":"closed","priority":2,"issue_type":"epic","owner":"lupusdei108@gmail.com","created_at":"2026-02-21T15:09:07Z","created_by":"Justin Martin","updated_at":"2026-02-21T15:59:08Z","closed_at":"2026-02-21T15:59:08Z","close_reason":"Wrong ID format, recreating with sequential IDs","dependencies":[{"issue_id":"adj-zlh","depends_on_id":"adj-0mk","type":"blocks","created_at":"2026-02-21T09:09:20Z","created_by":"Justin Martin","metadata":"{}"}]}
